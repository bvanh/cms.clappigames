(this["webpackJsonpcms-clappigames"]=this["webpackJsonpcms-clappigames"]||[]).push([[0],{112:function(e,t,a){},140:function(e,t,a){},157:function(e,t,a){},434:function(e,t,a){},461:function(e,t,a){},481:function(e,t,a){e.exports=a(957)},485:function(e,t,a){},594:function(e,t,a){},595:function(e,t,a){},747:function(e,t){},749:function(e,t){},781:function(e,t){},782:function(e,t){},826:function(e,t,a){var n={"./avatar-detail.png":827,"./logoclappigames.png":828,"./tick-email.png":829};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=826},827:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7ZyNddowEMePTEAmqDtByQSQCZoNSidoOgF0gtAJSjdoJyCdADqB3QnCBtc7SwJhLCwJA/6433sXEYeHnT93+tYN4EYg4pCKCdk7shFZog2s0rAly6xyQ/aXy8FgsIWuQ2JNyF7IUqyPNdkP/mzoEpZYb3h50taLSA//RLbC28Ge+AnaghYsxeaQYpMFRBWSK2wuKVkCTYEeZki2wPYwhxoYwBmg+gZXcNx9aDoZ2SN1ZTKI5A4iIdGmVKyhfaIxCRk3Hs9wTdjdsTvM4Rpgu+ozX14gkKA6jm6wpKI9faMwllTnffZ9s3cdR6ItoLuiMdMQz/MSDlU98AW6zzN61nmVoYqq5QmuA1rOlML256k3nBQOVT+NuxxD6Bc8VfVwqp9XJVwK7eyn1UEGSrzS+T5nHadjPYH+kpDNXH8s9TgdoikIDA/NXosXXR63AsFQ6nVHwqEagyYgGHi67Kl48ShUe94guMgoXN/bFw48TrzNSULafLQvFEO1D6ODWA6moHbCoVoZGoHgYoLW6pntcV0ewNfFLlx3jYM0Cl5sqZG45xe5x2kXTECoYmjC1YSqhKk/ebga4aRR8CfvDA9Q7Rp6AyGEe/Y48bZwxizcBxBCScTj4hixcAkIoeQe17f1hDpIxOMi4e4IghBM9G6lviPCRSLCRcLCZSCEshWPiyMTj4tjK8LFkXvcBoRQNizcPxBC2chEZhz3d3r/VwaCL/kZWdMd+QWCL3mbYIT7DYIvS/5hL0hzPSdzc6fZ7VqyRw5LEKp4NS9s4SRcq1maFwcbCylceQvrBIQyuDV9ML8UB/kLEFwcaCNbWf04vZVV8xWEIvPiBdc5B6nr9hx5G+OayPwGguGx7GKpcPokiTQUFKKug3DOQ3B61qStyQrqoDREDc41Bz1rwm7a/WxZx5j/3cnJxRrtpn1sZedVOUkqV7noA5ZQ0hx3GBbtO9QFqlRmXcf7CL2kz9hzmfQZDH3wFLrZTVmEiBYNed4Mu8MMrgndkHN0XCN946XgZ4+udiQNWiRnbbrhG+ve9RzaA9fRD+eIVivsfdis3JhFVmRjaCr0cJzcKcXmkGJJMoLGgkrANd6OFRbO0bcKevgxqqTGKV4ebil5hNPckIzBErFOT0xvIdZZ3ZFzQDXfxwfwRrBPEj+0SpvMKtk2uvxzqyTx/wEiNcqGX+jAAgAAAABJRU5ErkJggg=="},828:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQIAAABtCAYAAABKmm9rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABaYSURBVHgB7Z0LfBXVncf/58y9NzEgoFIEAQkvc4PUV1sFQmJAa+1aW/wotrv200JbTXjUfrbVXV23vldr7Vo/rZhEUVBr3X7s7tr17cdqIA9QUREl3GDQgEh4+UAEkntnztn/ucm9mde9mbmPhMD/y2eYmTPnzEzOPfObc/7/c84AEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBEARBpIdBHgnXvF0MGdBZCJ+3LzzzcyAIol/ImxCE6zbeLAFuAp+MDXXAI8VLouPYjstY5f6ngSCIvJMXIchGBB6duATGBjvUbhRiksSAIPoBDjkmRyKgCEGQ/VVfNfz7QBBEXslpjSCHImAmaujsR4Fz9/0FCILICzkTgjyJQAJqJhBEHsmJEORZBBIMiBhMn1U3OabBUsyoSwDkhES4ZLCJC3hJ6vLeyNpF7fZ00yqXDRV64AZbcGekseoWyIDw7JpKbMl9y+2YkLJhc1P1c6nSls6uvU0CC0BqOjmTu0RMvuD2tyhOqawLcx1+nOoEDDAngOkM2IaiQ/KZN9+sirnFKymvrWaSTTCHRbl8+IPV1e+7xQ/Prr0YT/4jXCpBwsieYB2XN3B/JTcO/rVlzS8/hT5Qv6PO4WeuBwVbF2m+6r9TpQ2X1y3Fa411PypejDQuqreHfnX2Q5NioF8JKcBycH1ie1rl8ilCN34KPhFSf3Zz05JGe3hJWc3lwPgVjMsyvO8TeoKjEmQzE3wl/+y4J1paLo+a0wQgSzIVgamFW2XthH9mHkVAEbcZyPpj+00MwhU11+lS3ummlkxCKYpBqQyypdPK625saai6wxZlKEa6zhyAP4RyiWYkBPiAnSdt50vAJYzGVUohkIxdg/8XQhqE+i/I8EGteY7FYIldEAK6LBYMrkt5jZ7/1b8DRRAtqai5u3X1on8Hx98B38d8qTSHBWO8HlcWIZg2c/nxImBgc1Ceb7pA8nZwmYknmykCRdeHZ9X+U6S5eg2kIcbhIpYi/5gm/46rlEKAIncF/tYzXI9JpkSp3h4eldGvM85S5heSFAKhx8YBSxs3xX1pO3GVFILSWcsniID+GJbN8niGWfMshGWoEgtLpTjh05tLzv7j3NbXf/5h4mBWxsJsROCxiYvBhwgkCIEGp0A/gG/gX+ETdGdf8bBgawLkf4TLaqognzA4K9UhLKRTIGeXYf+AgvBaSdn9JZA5IXxAbsC3//NTpvyhADJABPVVSRFITzGWiRemzKw5M10k/J2mpbwWyK9BhqDwTXILZxxGQX9y000cAsbL3SLQJ8WsIPhKceWKEYmAjIUgWxEYoX3qv1ki5DWsfP9/Qp4pnbt8Air03X7SSA6/MWdsHvhqqgOMwRmVlTdlXbszMYpx/mRx5U2FkAX4A18YGlPwK/AJNgeuwidsuo8kwwIBdk/aGExOSHkI2IhJZXUnQwZgc+isFOc8FfqRkvrR10gp/bwQigtj0WsTOxkJwZEsAnGiMeWydN6jhHpU3Nvxyfuz/ZAqTIVG53zIA9g+H4n5PT5NlKG7ouPHQm75aoE+phKyxABx7aTz64b7SsTY1S6hOub/A7i+FZc3XY5XTp217AxIfc60NYaQxsZBBqAIT3QLF8D8CFnWYA3MWSOV8AU+N/d1l1lodxzmYvGJpz06RG37fosc8SIA8Tb1XEeYhIdaG6uTxqZwee1aXP3BEgfb8bh6EHIMtlGL+4ojeUwVyK3gkU6t4Lj2+oXxbtzdBlH5f/bqMxYgJYgvpLymhBcwT76d2C8pq/0pVomXW86hBPKQcRpuNoAH0Mg6WhjS8TYVgs3Z3FSVaA/fVFpR9xC+AX9ijqNxrQxX61Oc80RIhxBKKJrBPwVK6D54uWqfORDtEeNsbXR/SFgbaaye6SXqqecu+4YhYJItvQBdnt5r65E3otHzbdw4PXmP+NsMP37f+F1ou/RVIzgaREDh1p5kIGrM+0MOsodwdcgah2Xc1kyLAWHzrrL+OuJw7euQIe81V23BRu31jgNp7BJutDZVP4Ti8T/2cMn4LPCIEEG3Nvf7JhGIowv2hPM60rVGgAJdbN5HYf0If+MDXtJ6IXhITjXvx5tpEk6CfiImtGEuwa9bDb74yzD2X/ZITBTEy6xnIQg/sPGOo0EEFPh3jrGHMRHaa95H99hBLFG7bClz2U7vvTawc6yX4Y2YmQctYYbIqk3KpXzD5cK+CzOWtg0uYePBK8I43nlS6ajpyACL2MOweuxMq4jxU62ng1b8jdusJ8zcuGd/AezQx6jrhaCfwLJwnCNQyo+dYWKnI60QcbuWJyHAmsDvMPOuB58MRhHoIS8PdMZIsBiysF26D2sFloKMnoPRkAUFWuiQS/BQyAVSDvEalTHuyHvVP8EeFoKo7owHReB6UmvNRjCmmg+vW68Lnqrh3RdiO2znt+Q9B2kXvi8hj3BwyTPGTvSSVvaU9T4LfFwEAHxbfrMRgbuevmT/yqaZl4XL4TI/6S48tVX+/scP1LGZBx6BIwppcZkaBrzDNT4Rq7inJcIwk78BhDtMdWDqbbAzqfpz8C9VbdkU6SunzK0Zu/mVRR/3fT6paj3J2pJkwmpo5Hysqnb0EMMfJ4KXz7jp1hcCjM+Y3bbN5PRxM+85ZvuaX/YKvAb13NDmWdLq+jtqnVYIBkIEbn/qUvn42nOOxc0ZftLNmLhV/uYHf8K/TJsp1wyBI0UM4hb3LmmxEWgyug1kaLvlt2dwwuSKZeO3rF7yERwFRI1jjICM2g2Z69ziYu2p1LwvBF+vcWOsvULMD+mqadGnEOBDtwfPqWokgZ4LWB9yAVMTvw0+P29zNNxlYzfsiwItsDGKbwfbPY4oChxTjZu/T4RF6uM2g3a3c6QUggEUAd/plAjU/mQ5FAS7utMKbWV/iIE0xIXm/aDUdMgxoSg4/NuRNT9/F33tjqpswNBUdTCXQmDAYUpbw0/24OrbfcVTrlcwrJ1+GJfbAwG+S7f/dTykjJrvQp/IA1gba8cmS9xvjw+dpcaGzYzTEw8+Vjq2YYSMXJNe2VB/5fZwRV0z1kIsRlkO7PbwjJr/TdVt3IyrEAxqEUjQD2LQ2rS4FfIMGnOmYHsvuY9vIvUAAGeB9QKsuoPRlFFxHWRAFIyR9jC81n7IAZKzAZttys31uvm8jnenrRpVpOrKlrjcu+cAReA1XE3puUjRmK/VFXUoA3L8WK+NQKD/Hq+SVyGIX1MY9zKnd6YIguzV0lnLKzc1/yyta9khBEeECCQQ2gOyeUiUzTrwBAxWGJ9hbt9igzRuLQ9p2uZOwyoE2bjAhBGb7ehDJVkb+IXLCof/XMKHMFDYXa8S9sMtt4gWNOCFy2tV+/mY3oNwvMezqpzab/4zRxSyiR0AG3t2TzbFU23w2eAbObW0vLbG9YiE9yKN1cvMYUMPaU8dKJKrcbPCFr0YK6r1WDOYk65mYBGCI0oEugmBxJpBM9YMBqkY2Puyo5vvPbVeX7/w83B5Xad1MBEbCR4p0LtmhGfXdHZfRHW/dXbR7SnEKcHjI7pHRSYC2EV4w3Odf4TMpKOOK92jF+F7bsew7K5rbaz+NVjv8XRbtHdM8T809xnBt7fn/g5SeR56DYJgMKFciBvjoxxBJsVFSPY+ZxlYCBg7AVNVpzhaj4tFCNRoz5KKBxcwqTdiYrvbt1jVDNKJQdJacgSKQIKEGPwjDEIYY5b+45LxZN8FFIkPLHF9GFixGfE8/vdqfOF8Jbj4onUBj6c/CV4vcQ61AFzjEqu9tak6o+aKG1w92AwudF3AaZlPtON7bxlaes/F3rAdGzf9nHs9ud2wCrXOljZeCxDc2rkoGNC3Qj/RuvrKDw2QVzn6mHSjxGBV6awa167P8RrB1IVPnS/XbfkFAPg2dt153m3asENfMuGz/8SLLadlJAKnnrhD3n/5IxDsQqdNl+drhtBqc++Bl+SqIRcc3AGDhOLKFYXS6LJW92XvcF0u2ZvYHDD3ghxdWl43ZlNDle9hnXakkH9ra160BrJFsJthAMECNtUWYv79t9njGwWFqpfeLuiLAPvEbErlrHu+Aim1scC6D6hh5y31S3ZiFR/6i/cbFj8bLrv/Ssb5gy79Kk6WGrw4rbz2my0N1S3mA/Eawfsr5r3MNnXcziI7An6XXzx2KdveMRLkwYCv5YLiFrbgrNd91ZlKR+0UD81/BEIxwfxdL/i5+EK7YjCJgKLI6HJ0tzUYbElsC4D3HIkE89zOTYmEiK6Jn0O2CLg10lQ1YG7c0y5QA2qs4xZQOLf0bjtdhegJ8tQ8GA07t6OoJI2pome0pOTG5EQYk+xtGAAiTYv/jAo4H+/Gpbyzk7DcPKvmLjCHJpsG8ZlzpH/13vHFCFj45AL4eJ//EbjXVD7nWQyUCKy4fAUbGuryWYtgn0vDmB+8bPfLMMiQAqtzNoYdgrcS24yJ3Y5EXHrvIWeHwSeqDEi57+xs+iNgk7gBPQVzI03Vvruk933uuAeiHVL4w83Eogcm2sNUmz2xrQnhFFLwNmajvv4WHT0SG5P3xZJGyeQoR6wRbIdMUYOOGqqZ69JYPaev5JtWVz8X08W5bqMOIW5ANB6ZP39+0m1i6VFxuIrB0SgCcTRpfzt1mqcA44K7WPW9TbKBb8YfctDmqQXfEOdrEs6IzOkYpcpAa9O/enIboq1sXeIcakFbzBwpYmM3NVZXtK6qehXyQEtj1fX4MEzkmtG34BncMT5f7uxKjk40CgzlgbGUPcmln0JsHuk4smcSlmSfAgZ8CwwgW9YsacMXwxx3MZDnvtNx3hWJPYf7UBWE8Ow6Jb03gw8SYrBi/koYO9yf21iJgbqzlW+d7XjQzxyzQ953yZ8yEgEBfE7oso71kCcwn+5krLfgSHxbmeeiyxrJJ1tdh9YhtnoQItzWKQYfzsnggS5e+GxiGHKSRvDL3paGK/8GhylYMzlHmkuNhGhb29Vdid3I35d+Ei6v6TBb2RkwzwZXrF1sZyaPQPCk0MmY/8nmHHoW1sIAo3oTTim77zsBHlAdpSzPEGfxOQweVduuHYoOFzGYdfJWefd3/gLDCw9mJgKXfJw3EYjD5Q/why/uvaxsB4DcCYG9MwyDfaVl9/cW1BjaiDn/AreSw1CxOhoGIg66Ay2iiI/sB5b8i4dxYRVbOamk7K5jvdSKmM1rg0/+PPO5NBCHRXfvtqalG8Pl99+ABdY2r6acpWwFqrNRyi7GAy0Gh70I5Bk1pn2n4ZgP4Fv44H8rXTp0N44/5Wt1Ize/WbUXiGLzjmrHo/vV5gmxtUqxPg+B4Wq+xj5dntww3hCB3t6JAuSF5sK6RzO2QT+gZswG20jRL7q69pkHHB2nd977WaBITZBqmbtAaLqa43Br2mHIA2UzuHHuC0e1CCh26mNVFTOjMe3yGG/NgyMZ5XrFnDgzg6Rq0PNUL/FGFexut6U8t3dbtu2pX5LX4ccJhAgsFYbWYV6KeNF3zXHWKFFg8hl7WjS+xstKn/MRDIQYXH7GWnY0i0Ac3vf0ZKmwD4I5GhkqDiqPQYbzSvQO706H8hzgKjnZBzYVTIMXWN7HofiFCfaBPQxtKN4nJhkIMfBHzkUg5imWZHmbwEQKkfH8Akxm9iY8HJBSODq1MZeZnwwROsYRj/V2iBNCmwAZ433iUQnuBkGW21Gg6RHO8so0bxO8cCnjtRbPU5UdvmKQ+5oAM6l8MoxJy3DgeIcMKS19uqWXHmkeQYuu1egnQfBOY4x9wbf/JY7ETAxag2Ew4OISZc4pw7F9XupMzdoTW4JLh/WfCX26Pf9AZ463vwTv34ngtg+zmM7RAv0FB0dPUswft6nXHK5ltGvEB4T5eqMNhAGxD6KSGReF5uXWRYiegEZUA8vYBIMbd3+lctn5iXafDMQWqo7/1oQuPf1s2K3WdvYG5XvqGkLCBGadeGRjyxtLHAJ12qya5qhmb0WxiTBIiWmxPWAElAXP/EcdXzK75l9aGxf9Vu2oyVpkl7zNnhbFOukAVW1fawcB2LUJrecul9wZLq9V+ZqcbgwvPMk8rDgdWFZ2gUsjlgstyzIph/ZVVmJBfXtb/dXb9ZjYFAhYb0Jydp15LoJTyupmY6ZcbD8H1rbig7B8f9fgMKoZoAiIOcF5u3M2si0JgzXOIDjnBEP7uKS8dm1peZ3qgefoNYfP49PpT8tGoNV/TbplRLT7bcSZVb2xwG1yO+eG5kWqd+FO24WmfqXbkjzoUL59XK2yh6M35K5wRe12fGjfKojGJ+Z01BJkVL6W3La5DjFP0nQvZ1/Y4oaGFuie7CxMExvcwqVk2XkMGJveV1nR9NClKuqZ407YgPH32M4wCoLsw5KK2jcwzyKcS7fp5Nsj5+2Kd4PO6AMnh4EY5E8EID7n/4PqDeJyaJgSBPTVu/Xnb29pqM5J55rpFcvG2weMMM42pU5hLcjqM2zHx7TB25+ApfjUXPeHSM9EUXRMhooP3orE26/nq09nWZPCZkh1Oejttp1Ag6Anz0sw5jpUO3Zi6KO+5z7MEU8+ebnBhHSd6Jd1T6Pm/vk6A+5RczOozYw/edb9VV/+b+CTHIjBl8KAsnyJgKK9fmGnAfyHoCbu8YBUc9JFxfcgRxigTXQJTDmi0K0g428zCQYpkdVVL+Hqjz6StDNd3JrY2W2MPguffMs3F7mElAOABJPOJgOXngyGPTUyixEOReetHo9CvxE7NnovFgTPw72xzL4aaa5O5nFWH0GNNFx1JwjjWr/pshADJQJzQpftzNn49lS833jVy5g7lSkGbSRBS+yHGuizWl9bvAFyhBTM4TEQoG9MFV+4GKYYFxnPVnQ4EGmovhprXrd5iPoixKRlwg3JwfGJNcF5ygFA6GVxOSY9ew7sMzmxHgNcf9L2/NVdhbzgm7i5ss/IUtaNCXRcYA7K2v0VaVryu3DZMvWlHV8fDc3AgNhvIpAgsir+qe2J4fKaBVLyGapnGla1hmMFYK8aqosGmZdb5+54OlG9st8vVnEXgE+CIWzvx/TXBA8sMId/FoSUxidspz6GJd3SJuUylizc2Iz6GXPMfd/eCT7QA2wdF7DAHCak+AT8IuUtPROhJGHScPW5tzYsujFcWfMw/m2XSiHPxvwfi0bAIZj/21CANxmGeL5tzWKHPcGI8o940HqvLGo0QQowb15Em4IlvgSeLJS65L/WuEx+W9IwwDaYSCxC5U26K4XBLMft6e0UBgrXd4roAvCJ1KOvmffXd48dWVhaUXsHvvF/iH/E2bjfM2uVbMN7fJcZscc3NS/dav86jO+JQVKBYnCNXzFQnDTscy9i0O8iQBBHExrkiL0fPdc8csJ3sU0tz/OTbn9XIbyyJQxzJ0dgWKHrS+pLrCpfhCKQ/Ww5BEG4kjMhUOzd9nTjyJMvVvWMSj/p0ojBbimMecFLd60GgiDyRk6FQLF32zOrciQGSgTmBy/dQyJAEHkm50KgyFYMKidv3j0s9CWJAEH0EzkzFrphnyDRKxeHm2O/ffjhQTXRKEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEcyfw/ujTwEjnHfvAAAAAASUVORK5CYII="},829:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFiSURBVHgBbZJPUsIwFMa/RB1QNz0CLlUc4QZwAvUE0hPozum4sK4qskBOQL0BnKB6AnRk2qUcoRtHYEzia1pKCu1MO2ne93t/voSh7Jm4FqqHN2Aqxq8Yo+nMNiWsFFDqNt0gUKu4j/nfq5mAlQJKDLBcvKBasSDRIfB6M0EKht1v2rVyoOnGhU4ir1ZIcHJ3tJuFalTmCqfOCGXzCmmhfu9i6s3A+TDZ5lnHMSQFV0ITquwH4HtDI5XuJquoKBNr6GUijHojzH8Geg1YYKKdFSAN+1hXlOqdludpDjmm1yVokkKyjePMTc4uSPy5BpWi2VQLX16L5nQJfEwLGFASS7yQwi+aED4FCJ+DwnyFODlvxHkeYMqmbwNhr6//zSOJug/6uJiwc3kh69TraLsV87EU1O4iRvWgT6N0yHUbdccvB1ez7PDMfqqSXDtB0JnzZsq2Qd0a3RTFL8kkq/Qm0fMPCw6dkbzqeT0AAAAASUVORK5CYII="},894:function(e,t,a){},940:function(e,t,a){},956:function(e,t,a){},957:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=(a(485),a(319),a(165)),i=(a(38),a(5)),s=(a(489),a(146)),m=(a(244),a(55)),u=(a(42),a(14)),d=(a(493),a(168)),p=(a(48),a(24)),f=a(11),E=a.n(f),b=a(28),y=a(2),h=a(240),v=a.n(h),g="https://api.cms.cubegame.vn/auth",O={rootApiLogin:g+"/login/test",getSig:g+"/duo/call?username=",checkLoginFinal:g+"/duo/verify"},j={REFRESHTOKEN:g+"/token/renew"},I=a(3),N="SWITCH_LOGIN",C="GET_LISTPARTNER",S="SET_ACCESSTOKEN",w="SET_TOKEN",P="SHOW_IMAGES_NEWS",T="SET_URL_IMAGES",k="SET_URL_IMAGES_THUMBNAIL",A=" SET_TYPE_EVENTBYMONEY",x="SET_NAME_EVENT",D="GET_DETAIL_PROMO",M="SWITCH_CREATE_PROMO",B="SET_DATA_TYPEPROMO",Y="ADD_ITEM_PROMO",R="REDUCE_ITEM_PROMO",U="SELECT_ITEM_PARTNER",L="SELECT_NUMB_ITEM_PROMO",z="SELECT_ITEM_INKIND",G="SELECT_COIN_EVENT",F="RESET_ITEM_PARTNER",H="SET_INITIAL_INDEXSHOP",q="SAVE_ID_CREATE_IN_UPDATE",J="SET_LIST_PAYMENT_TYPE",_=a(225),V=a(32),K=(a(959),a(359),[{point:1,rewards:[]}]),$={isLogin:!0,dataNews:[],dataContent:[],userToken:null,userAccessToken:null,accessToken:JSON.parse(localStorage.getItem("accessTokenCms")),visibleModalNews:!1,urlImgNews:"",urlImgThumbnail:"",typeEventByMoney:"",nameEventByMoney:"",listPartner:[],detailPromo:[],isCreatePromo:!0,indexConfig:{item:K,coin:K,inkind:K},listPaymentType:[{name:"",description:""}],idPromoAndEventCreateInUpdate:[null]},Q=Object(_.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a=Object(I.a)({},e.indexConfig),n=[{point:1,rewards:[]}];switch(t.type){case w:return Object(I.a)({},e,{userToken:t.userToken,userAccessToken:t.accessToken});case S:return Object(I.a)({},e,{accessToken:t.payload});case N:return!1===t.payload&&(localStorage.removeItem("tokenCms"),localStorage.removeItem("accessTokenCms")),Object(I.a)({},e,{isLogin:t.payload});case P:return Object(I.a)({},e,{visibleModalNews:t.value});case T:return Object(I.a)({},e,{urlImgNews:t.value});case k:return Object(I.a)({},e,{urlImgThumbnail:t.value});case A:return Object(I.a)({},e,{typeEventByMoney:t.value});case x:return Object(I.a)({},e,{nameEventByMoney:t.value});case C:return Object(I.a)({},e,{listPartner:t.value});case D:return Object(I.a)({},e,{detailPromo:t.value});case M:return Object(I.a)({},e,{isCreatePromo:t.value});case B:return a[t.isType]=t.data,Object(I.a)({},e,{indexConfig:a});case Y:var r=[{point:a[t.isType][a[t.isType].length-1].point,rewards:[]}];return a[t.isType]=[].concat(Object(V.a)(e.indexConfig[t.isType]),r),Object(I.a)({},e,{indexConfig:a});case R:var c=a[t.isType].filter((function(e,a){return a!==t.val}));return a[t.isType]=c,Object(I.a)({},e,{indexConfig:a});case U:return a.item[t.positionItem].rewards=t.value,Object(I.a)({},e,{indexConfig:a});case L:var l=t.isType,o=t.positionItem,i=t.value;return a[l][o].point=i,Object(I.a)({},e,{indexConfig:a});case z:return a.inkind[t.positionItem].rewards=[t.value],Object(I.a)({},e,{indexConfig:a});case G:return a.coin[t.positionItem].rewards=[t.value],Object(I.a)({},e,{indexConfig:a});case F:return a.item=[{point:1,rewards:[]}],Object(I.a)({},e,{indexConfig:a});case H:var s={item:n,coin:n,inkind:n};return Object(I.a)({},e,{indexConfig:s});case q:var m=e.idPromoAndEventCreateInUpdate;return Object(I.a)({},e,{idPromoAndEventCreateInUpdate:[].concat(Object(V.a)(m),[t.value])});case J:return Object(I.a)({},e,{listPaymentType:t.value});default:return e}}));function W(e){Q.dispatch({type:N,payload:e})}function X(e){Q.dispatch({type:S,payload:e})}function Z(e){Q.dispatch(function(e){return{type:P,value:e}}(e))}function ee(e){Q.dispatch(function(e){return{type:T,value:e}}(e))}function te(e){Q.dispatch(function(e){return{type:k,value:e}}(e))}function ae(e){Q.dispatch(function(e){return{type:A,value:e}}(e))}function ne(e){Q.dispatch(function(e){return{type:x,value:e}}(e))}function re(e){Q.dispatch(function(e){return{type:C,value:e}}(e))}function ce(e){Q.dispatch(function(e){return{type:D,value:e}}(e))}function le(e){Q.dispatch(function(e){return{type:M,value:e}}(e))}function oe(e){Q.dispatch(function(e){return Object(I.a)({type:B},e)}(e))}function ie(e){Q.dispatch({type:Y,isType:e})}function se(e){Q.dispatch(function(e){return Object(I.a)({type:R},e)}(e))}function me(e){Q.dispatch(function(e){return Object(I.a)({type:U},e)}(e))}function ue(e){Q.dispatch(function(e){return Object(I.a)({type:L},e)}(e))}function de(e){Q.dispatch(function(e){return Object(I.a)({type:z},e)}(e))}function pe(e){Q.dispatch(function(e){return Object(I.a)({type:G},e)}(e))}function fe(){Q.dispatch({type:F})}function Ee(){Q.dispatch({type:H})}function be(e){Q.dispatch(function(e){return{type:q,value:e}}(e))}function ye(e){Q.dispatch(function(e){return{type:J,value:e}}(e))}var he=a(25),ve=a(463),ge=a.n(ve);a(594),a(595);var Oe=d.a.create({name:"normal_login"})((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),c=a[0],l=a[1],o=e.form.getFieldDecorator,s=Object(n.useState)(""),m=Object(y.a)(s,2),f=m[0],h=m[1],g=function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.form.validateFields((function(e,t){var a,n;e||(a=t.username,n=t.password,v()(O.rootApiLogin,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:"username=".concat(a,"&password=").concat(n)}).then((function(e){return e.status,e.json()})).then((function(e){return e})).catch((function(e){console.log("Request failed",e)}))).then((function(e){var a;1001!==e.status&&1002!==e.status?((a=t.username,v()(O.getSig+a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("Request failed",e)}))).then((function(e){h("SHOW_IFRAME"),j(e)})),localStorage.setItem("userNameCMS",t.username)):l(e.message)}))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function j(e){console.log(e),ge.a.init({value:"dsaffa",iframe:"duo-frame",host:e.api_hostname,sig_request:e.sig_request,submit_callback:I.bind(this)})}function I(e){fetch(O.checkLoginFinal,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:"sig_response=".concat(e.sig_response.value)}).then((function(e){if(e.ok)return e.json();W(!1),localStorage.removeItem("userNameCMS")})).then((function(e){var t={token:e,timestamp:(new Date).getTime()},a={accessToken:e.accessToken,timestamp:(new Date).getTime()};localStorage.setItem("tokenCms",JSON.stringify(t)),localStorage.setItem("accessTokenCms",JSON.stringify(a)),X(a),W(!0)})).catch((function(e){return console.log(e)}))}return"SHOW_IFRAME"===f?r.a.createElement(r.a.Fragment,null,r.a.createElement("iframe",{id:"duo-frame"}),r.a.createElement("span",{onClick:function(){h("")}},"BACK")):r.a.createElement("div",{className:"App"},r.a.createElement(d.a,{onSubmit:g,className:"login-form"},r.a.createElement(d.a.Item,null,o("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(i.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(d.a.Item,null,o("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(p.a,{prefix:r.a.createElement(i.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement("p",{className:"res-login"},c),r.a.createElement(d.a.Item,null,r.a.createElement(u.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in"))))}));var je=Object(he.b)((function(e){return{userToken:e.userToken,accessToken:e.userAccessToken}}),null)(Oe),Ie=a(17),Ne=a(127),Ce=(a(93),a(56)),Se=(a(78),a(50)),we=(a(169),a(114)),Pe=(a(44),a(10)),Te=a(23),ke=a(21);function Ae(){var e=Object(Te.a)(["\n  query{\n    listLoginUsersByUser(currentPage: ",", pageSize: ",', userId:"','"){\n      count\n      rows {\n        lastLogin\n         partner{\n          partnerName\n          partnerId\n        }\n        os\n        gameId  \n      }\n    }\n  }\n  ']);return Ae=function(){return e},e}function xe(){var e=Object(Te.a)(["\n  query{\n    listPartnerChargesByUser(currentPage: ",", pageSize: ",', userId:"','"){\n      count\n      rows {\n        partnerChargeCode\n        payload\n        status\n        partnerProduct{\n          partnerProductName\n        }\n        partner{\n          partnerName\n        }\n        promotionRef\n      }\n    }\n  }\n  ']);return xe=function(){return e},e}function De(){var e=Object(Te.a)(["\n  query{\n    listChargesByUser(currentPage: ",", pageSize: ",', userId:"','"){\n      count\n      rows {\n        baseCoin,\n        price,\n        payload\n        paymentType,\n        chargeId,\n        price,\n        createAt,\n        status\n      }\n    }\n  }\n  ']);return De=function(){return e},e}function Me(){var e=Object(Te.a)(['\n    query {\n      listUsers(userId:"','") {\n          userId,\n          username,\n          fakeId,\n          type,\n          nickname,\n          coin,\n          email,\n          identifyCard,\n          address,\n          status,\n          gender,\n          dateOfBirth,\n          dateOfIssue,\n          placeOfIssue,\n          appleId,\n          facebook,\n          google,\n          guest,\n          mobile\n      }\n    }\n    ']);return Me=function(){return e},e}function Be(){var e=Object(Te.a)(["\n    query listUsersByType($currentPage: Int!, $pageSize: Int!, $type: Int!, $search: String){\n      listUsersByType(currentPage: $currentPage, pageSize: $pageSize, type: $type, search: $search) {\n        count\n        rows {\n          userId\n          username\n          coin\n          email,\n          fakeId,\n          mobile\n          emailStatus\n          verifyEmail\n          status\n        }\n      }\n    }\n  "]);return Be=function(){return e},e}var Ye=Object(ke.b)(Be()),Re=a(7),Ue=a(99),Le=a.n(Ue),ze=a(8),Ge=a.n(ze);var Fe=function(e){var t={};return e.keys().map((function(a,n){t[a.replace("./","")]=e(a)})),t}(a(826)),He=(a(434),Le.a.ExcelFile),qe=Le.a.ExcelFile.ExcelSheet,Je=Le.a.ExcelFile.ExcelColumn,_e=Pe.a.Option,Ve=[{nameType:"By UserName",id:1},{nameType:"By Email",id:4},{nameType:"By UserId",id:3}];var Ke=function(){var e=Object(n.useState)({currentPage:1,search:"",type:1,pageSize:10,count:null}),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(y.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)([{username:"",userId:"",coin:"",emai:"",mobile:""}]),f=Object(y.a)(d,2),E=f[0],b=f[1],h=a.currentPage,v=a.search,g=a.type,O=a.pageSize,j=Object(Re.a)(Ye,{onCompleted:function(e){console.log(e),b(e.listUsersByType.rows),c(Object(I.a)({},a,{count:e.listUsersByType.count}))}}),N=Object(y.a)(j,2),C=N[0],S=N[1];S.loading,S.data,Object(n.useEffect)((function(){C({variables:{currentPage:h,type:0,pageSize:O,search:v}})}),[]);var w={onChange:function(e,t){m(t)}},P=[{title:"Name",dataIndex:"username",width:"20%",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(Ie.b,{to:"users/detail?userId=".concat(t.userId)},e))}},{title:"User Id",dataIndex:"fakeId",width:"15%",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"C.coin",dataIndex:"coin",width:"10%"},{title:"Email",dataIndex:"email",width:"25%",render:function(e,t){return r.a.createElement(n.Fragment,null,null!==e?r.a.createElement("span",{className:"email-verify"},r.a.createElement("img",{src:Fe["tick-email.png"],alt:"tick-email"}),e):r.a.createElement("span",null,e))}},{title:"Mobile",dataIndex:"mobile",width:"15%"},{title:"Status",dataIndex:"status",width:"15%",render:function(e){return r.a.createElement("span",null,"INPUT"===e?"Inactive":"Active")}}],T=Ve.map((function(e,t){return r.a.createElement(_e,{value:e.id,key:t},e.nameType)}));return r.a.createElement("div",{className:"container-listUser"},r.a.createElement("h2",null,"Users"),r.a.createElement("div",{className:"btn-search-charges"},r.a.createElement("div",null,r.a.createElement(p.a,{placeholder:"Search by Username, UserId...",onChange:function(e){return function(e){c(Object(I.a)({},a,{search:e.target.value}))}(e)},value:v,style:{marginRight:".2rem"},suffix:r.a.createElement(we.a,{title:"reset",className:""!==v?"reset-btn-show":"reset-btn-hide"},r.a.createElement(i.a,{type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:function(){c(Object(I.a)({},a,{currentPage:1,pageSize:10,type:1,search:""})),C({variables:{currentPage:1,type:1,pageSize:10,search:""}})}}))}),r.a.createElement(Pe.a,{value:g,style:{width:"25%",marginRight:"1%"},onChange:function(e){c(Object(I.a)({},a,{type:e}))}},T),r.a.createElement(u.a,{onClick:function(){C({variables:{currentPage:h,type:g,pageSize:O,search:v}})},style:{marginLeft:".25rem",width:"15%"}},"Search")),r.a.createElement(He,{className:"btn-export",style:{width:"8%",marginLeft:"2%"},element:r.a.createElement(u.a,{icon:"file-excel",type:"primary",id:"btn_export_excel",disabled:!(s.length>0)},"Export Excel"),filename:"List Users"},r.a.createElement(qe,{data:s,name:"List Users"},r.a.createElement(Je,{label:"Name",value:"username"}),r.a.createElement(Je,{label:"Id",value:"fakeId"}),r.a.createElement(Je,{label:"C.coin",value:"coin"}),r.a.createElement(Je,{label:"Email",value:"email"}),r.a.createElement(Je,{label:"Mobile",value:"mobile"}),r.a.createElement(Je,{label:"Status",value:"status"})))),r.a.createElement("h3",null,"Total: ",r.a.createElement("span",{style:{color:"#1890ff"}},a.count," Users")),r.a.createElement(Se.a,{rowSelection:w,columns:P,dataSource:E,pagination:!1}),r.a.createElement(Ce.a,{current:a.currentPage,total:a.count,pageSize:10,onChange:function(e){c(Object(I.a)({},a,{currentPage:e})),C({variables:{currentPage:e,type:g,pageSize:O,search:v}})},className:"pagination-listUser"}))},$e=(a(45),a(22)),Qe=(a(46),a(12)),We=(a(887),a(473)),Xe=(a(79),a(40)),Ze=(a(64),a(35)),et=a(53);function tt(){var e=Object(Te.a)(["\n    mutation UpdateUserInfo($userId: String!, $req: UserInfoRequest!) {\n      updateUserInfo(userId: $userId, req: $req) {\n        nickname\n        gender\n        mobile\n        dateOfBirth\n      }\n    }\n  "]);return tt=function(){return e},e}var at=Pe.a.Option;var nt=function(e){var t=e.data,a=(t.userId,t.username,t.fakeId,t.type,t.nickname),c=(t.coin,t.email),l=t.identifyCard,o=t.address,i=(t.status,t.gender),s=t.dateOfBirth,m=t.dateOfIssue,d=t.placeOfIssue,p=t.mobile,f=Object(n.useState)({sdt:p,name:a,gender:i,dateBirth:s,identifyCard:l,dateOfIssue:m,placeOfIssue:d}),E=Object(y.a)(f,2),b=E[0],h=E[1],v=function(e){h(Object(I.a)({},b,Object(et.a)({},e.target.name,e.target.value)))},g=Object(ke.b)(tt()),O=Object(Re.b)(g,{variables:{userId:e.userId,req:{nickname:b.name,gender:b.gender,mobile:b.sdt,dateOfBirth:b.dateBirth,identifyCard:b.identifyCard,placeOfIssue:b.placeOfIssue,dateOfIssue:b.dateOfIssue}}}),j=Object(y.a)(O,1)[0],N=function(){Ze.a.success({content:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng !",onOk:function(){e.switchEdit(!1)}})};return r.a.createElement(Qe.a,{md:16},r.a.createElement("div",{className:"info-detail"},r.a.createElement($e.a,{className:"info-detail-title"},r.a.createElement("h3",null,"Account"),r.a.createElement("p",null,"Email: ",r.a.createElement("b",null,c)),r.a.createElement("div",{className:"mobile-status-detail"},r.a.createElement("p",{className:"user-mobile"},"Phone number:  ",r.a.createElement("input",{className:"input-update",placeholder:"",value:b.sdt,name:"sdt",onChange:v})),r.a.createElement("p",null,"Type connection : ",r.a.createElement("b",null,e.statusSocial)))),r.a.createElement($e.a,{className:"info-detail-content"},r.a.createElement("h3",null,"User Information"),r.a.createElement("div",null,r.a.createElement("p",null,"Full name:  ",r.a.createElement("input",{className:"input-update",placeholder:"",value:b.name,name:"name",onChange:v})),r.a.createElement("p",null,"Gender : ",r.a.createElement(Pe.a,{defaultValue:i,onChange:function(e){h(Object(I.a)({},b,{gender:e}))},className:"select-infor",showArrow:!1},r.a.createElement(at,{value:"MALE"},"MALE"),r.a.createElement(at,{value:"FEMALE"},"FEMALE"),r.a.createElement(at,{value:"OHTER"},"OTHER"))),r.a.createElement("p",null,"Birth : ",r.a.createElement(Xe.a,{defaultValue:Ge()(b.dateBirth,"DD/MM/YYYY"),format:"DD/MM/YYYY",className:"datePicker-user",onChange:function(e,t){return a=t,void h(Object(I.a)({},b,{dateBirth:a}));var a}}))),r.a.createElement("div",{className:"input-update-identifyCard"},r.a.createElement("p",null,"ID card: ",r.a.createElement("input",{className:"input-update",type:"number",placeholder:"",value:b.identifyCard,name:"identifyCard",onChange:v})),r.a.createElement("p",null,"Date:",r.a.createElement(Xe.a,{defaultValue:Ge()(b.dateOfIssue,"DD/MM/YYYY"),format:"DD/MM/YYYY",className:"datePicker-user",onChange:function(e,t){return a=t,void h(Object(I.a)({},b,{dateOfIssue:a}));var a}})),r.a.createElement("p",{style:{width:"33%"}},"Where: ",r.a.createElement("input",{className:"input-update",style:{width:"100%"},placeholder:"",value:b.placeOfIssue,name:"name",onChange:v}))),r.a.createElement("p",null,"Address: ",r.a.createElement("span",{className:"detail-user"},o))),r.a.createElement("div",{className:"btn-update-gr"},r.a.createElement(u.a,{onClick:function(){j().then((function(e){return N()}))},type:"link"},"Update"),r.a.createElement(u.a,{onClick:function(){return e.switchEdit(!1)},type:"link"},"Back"))))},rt=(a(139),a(61)),ct=function(e){var t=Object(n.useState)({currentPage:1,pageSize:5}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("historyCoin"),i=Object(y.a)(o,2),s=(i[0],i[1],Object(Re.c)(function(e,t,a){return Object(ke.b)(xe(),e,t,a)}(c.currentPage,c.pageSize,e.userId),{onCompleted:function(e){return console.log(e)}})),m=s.loading,u=s.error,d=s.data;if(m)return"loading...";if(u)return"Error! ".concat(u.message);var p=[{title:"Id",dataIndex:"partnerChargeCode",key:"partnerChargeCode"},{title:"Character",dataIndex:"payload",key:"character",render:function(e){return r.a.createElement("span",null,JSON.parse(e).gameUserName)}},{title:"Item",dataIndex:"partnerProduct",key:"item",render:function(e){return r.a.createElement("span",null,e.partnerProductName)}},{title:"C.coin",dataIndex:"payload",key:"coin",render:function(e){return r.a.createElement("span",null,JSON.parse(e).coin)}},{title:"Server",dataIndex:"payload",key:"server",render:function(e){return r.a.createElement("span",null,JSON.parse(e).discount)}},{title:"Game",dataIndex:"partner",key:"game",render:function(e){return r.a.createElement("span",null,e.partnerName)}},{title:"Promotion",dataIndex:"payload",key:"promotion",render:function(e){return r.a.createElement("span",null,JSON.parse(e).discount)}},{title:"Time",dataIndex:"payload",key:"createtime",render:function(e){return r.a.createElement("span",null,JSON.parse(e).createAt)}}],f=c.currentPage,E=c.pageSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{dataSource:d.listPartnerChargesByUser.rows,columns:p,pagination:!1}),r.a.createElement(Ce.a,{current:f,total:d.listPartnerChargesByUser.count,pageSize:E,onChange:function(e){l(Object(I.a)({},c,{currentPage:e}))},className:"pagination-listUser"}))},lt=function(e){var t=Object(n.useState)({currentPage:1,pageSize:5}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("historyCoin"),i=Object(y.a)(o,2),s=(i[0],i[1],Object(Re.c)(function(e,t,a){return Object(ke.b)(Ae(),e,t,a)}(c.currentPage,c.pageSize,e.userId))),m=s.loading,u=s.error,d=s.data;if(m)return"loading...";if(u)return"Error! ".concat(u.message);var p=[{title:"Device",dataIndex:"os",key:"device"},{title:"game",dataIndex:"partner",key:"game",render:function(e){return r.a.createElement("span",null,e.partnerName)}},{title:"lastLogin",dataIndex:"lastLogin",key:"lastlogin",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY"))}},{title:"gameId",dataIndex:"gameId",key:"gameId"}],f=c.currentPage,E=c.pageSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{dataSource:d.listLoginUsersByUser.rows,key:function(e){return e.partner.partnerId},columns:p,pagination:!1}),r.a.createElement(Ce.a,{current:f,total:d.listLoginUsersByUser.count,pageSize:E,onChange:function(e){l(Object(I.a)({},c,{currentPage:e}))},className:"pagination-listUser"}))},ot=rt.a.TabPane,it=function(e){var t=Object(n.useState)({currentPage:1,pageSize:5}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)("historyCoin"),i=Object(y.a)(o,2),s=(i[0],i[1],Object(Re.c)(function(e,t,a){return Object(ke.b)(De(),e,t,a)}(c.currentPage,c.pageSize,e.userId))),m=s.loading,u=s.error,d=s.data;if(m)return"loading...";if(u)return"Error! ".concat(u.message);var p=[{title:"Id",dataIndex:"chargeId",key:"chargeId"},{title:"Method",dataIndex:"paymentType",key:"paymentType"},{title:"Coin",dataIndex:"baseCoin",key:"coin"},{title:"Vnd",dataIndex:"price",key:"vnd",render:function(e){return r.a.createElement("span",null,e.toLocaleString())}},{title:"Time",dataIndex:"createAt",key:"time",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY"))}},{title:"Status",dataIndex:"status",key:"status"}],f=c.currentPage,E=c.pageSize;return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt.a,{onChange:function(e){console.log(e)},type:"card"},r.a.createElement(ot,{tab:"History to top up C.coin",key:"1"},r.a.createElement(Se.a,{dataSource:d.listChargesByUser.rows,columns:p,pagination:!1}),r.a.createElement(Ce.a,{current:f,total:d.listChargesByUser.count,pageSize:E,onChange:function(e){l(Object(I.a)({},c,{currentPage:e}))},className:"pagination-listUser"})),r.a.createElement(ot,{tab:"History to buy item",key:"2"},r.a.createElement(ct,{userId:e.userId})),r.a.createElement(ot,{tab:"Activity",key:"3"},r.a.createElement(lt,{userId:e.userId})),r.a.createElement(ot,{tab:"Feedback",key:"4"})))};a(894);var st=function(e){var t=new URLSearchParams(e.location.search),a=Object(n.useState)(!1),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(Re.c)(function(e){return Object(ke.b)(Me(),e.get("userId"))}(t)),m=s.loading,u=s.error,d=s.data,p=s.refetch;if(m)return"Loading...";if(u)return"Error! ".concat(u.message);var f=d.listUsers[0],E=f.userId,b=f.username,h=(f.fakeId,f.type,f.nickname),v=f.coin,g=f.email,O=f.identifyCard,j=f.address,I=(f.status,f.gender),N=f.dateOfBirth,C=f.dateOfIssue,S=f.placeOfIssue,w=f.mobile,P=(f.appleId,f.facebook),T=f.google,k="";k=1===f.guest?"Guest Account":null!==P?"Facebook Account":null!==T?"Google Account":"Clappigames Account";var A=function(e){o(e),p()};return r.a.createElement(r.a.Fragment,null,r.a.createElement($e.a,{className:"container-userdetail"},r.a.createElement(Ie.b,{to:"/"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back")),r.a.createElement("h2",null,"Profile user"),r.a.createElement(Qe.a,{md:17},r.a.createElement($e.a,null,r.a.createElement($e.a,{className:"section1"},r.a.createElement(Qe.a,{md:8,className:"avatar-detail"},r.a.createElement(We.a,{size:64,icon:"user",theme:"filled",style:{marginBottom:".5rem"}}),r.a.createElement("b",null,b),r.a.createElement("p",null,"C.coin: ",v),r.a.createElement("p",null,"UserId: ",E)),l?r.a.createElement(nt,{data:d.listUsers[0],statusSocial:k,userId:t.get("userId"),switchEdit:A}):r.a.createElement(Qe.a,{md:16},r.a.createElement("div",{className:"info-detail"},r.a.createElement($e.a,{className:"info-detail-title"},r.a.createElement("h3",null,"Account"),r.a.createElement("p",null,"Email: ",r.a.createElement("b",null,g)),r.a.createElement("div",{className:"mobile-status-detail"},r.a.createElement("p",null,"Phone number : ",r.a.createElement("b",null,w)),r.a.createElement("p",null,"Type connection : ",r.a.createElement("b",null,k)))),r.a.createElement($e.a,{className:"info-detail-content"},r.a.createElement("h3",null,"User Information"),r.a.createElement("div",null,r.a.createElement("p",null,"Full name: ",r.a.createElement("span",{className:"detail-user"},h)),r.a.createElement("p",null,"Gender : ",r.a.createElement("span",{className:"detail-user"},I)),r.a.createElement("p",null,"Birth : ",r.a.createElement("span",{className:"detail-user"},N))),r.a.createElement("div",null,r.a.createElement("p",null,"ID card: ",r.a.createElement("span",{className:"detail-user"},O)),r.a.createElement("p",null,"Date: ",r.a.createElement("span",{className:"detail-user"},C)),r.a.createElement("p",null,"Where: ",r.a.createElement("span",{className:"detail-user"},S))),r.a.createElement("p",null,"Address: ",r.a.createElement("span",{className:"detail-user"},j))),r.a.createElement(i.a,{type:"edit",style:{fontSize:"24px"},theme:"filled",onClick:function(){return A(!0)},className:"edit-user"})))),r.a.createElement($e.a,null,r.a.createElement(it,{userId:E})))),r.a.createElement(Qe.a,{md:7,className:"user-status"},r.a.createElement("h3",null,"Acitvity Status"))))},mt=(a(70),a(29));function ut(){var e=Object(Te.a)(["\n  mutation DeleteNews($ids: [Int]!) {\n    deleteNews(ids: $ids) {\n      title\n    }\n  }\n"]);return ut=function(){return e},e}function dt(){var e=Object(Te.a)(["\n  mutation CreateNews($req: NewsRequest!) {\n    createNews(req: $req) {\n      title\n      content\n      type\n      platform\n      shortContent\n      image\n    }\n  }\n"]);return dt=function(){return e},e}function pt(){var e=Object(Te.a)(["\n  mutation UpdateNews($newsId: Int!, $req: NewsRequest!) {\n    updateNews(newsId: $newsId, req: $req) {\n      newsId\n      title\n      content\n      platform\n      type\n      shortContent\n      image\n      startPost\n    }\n  }\n"]);return pt=function(){return e},e}function ft(){var e=Object(Te.a)(["\n    query {\n      listNews(newsId: ",") {\n        newsId\n        title\n        status\n        content\n        shortContent\n        image\n        createAt\n        type\n        platform\n        startPost\n      }\n    }\n  "]);return ft=function(){return e},e}function Et(){var e=Object(Te.a)(["\n    query {\n      listPartners {\n        partnerId\n        partnerName\n      }\n    }\n  "]);return Et=function(){return e},e}function bt(){var e=Object(Te.a)(["\n  query listNewsByType($currentPage: Int!, $pageSize: Int!, $search: String) {\n    listNewsByType(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      search: $search\n    ) {\n      count\n      rows {\n        newsId\n        title\n        createAt\n        type\n        platform\n        status\n        partner {\n          partnerName\n        }\n      }\n    }\n  }\n"]);return bt=function(){return e},e}var yt=Object(ke.b)(bt()),ht=function(){return Object(ke.b)(Et())},vt=Object(ke.b)(pt()),gt=Object(ke.b)(dt()),Ot=Object(ke.b)(ut()),jt=a(236),It=a.n(jt),Nt=(a(449),a(309),a(164)),Ct=a(103),St=a(163),wt=a(73),Pt=a(60),Tt=a(962);function kt(){var e=Object(Te.a)(["\n  mutation($id: Int!, $req: AdminAlbumRequest!) {\n    updateAdminAlbum(id: $id, req: $req) {\n      data\n      name\n    }\n  }\n"]);return kt=function(){return e},e}function At(){var e=Object(Te.a)(["\n  mutation($req: AdminAlbumRequest!) {\n    createAdminAlbum(req: $req) {\n      data\n      name\n      id\n    }\n  }\n"]);return At=function(){return e},e}function xt(){var e=Object(Te.a)(["\n  mutation($ids: [Int]!) {\n    deleteAdminAlbums(ids: $ids) {\n      name\n    }\n  }\n"]);return xt=function(){return e},e}function Dt(){var e=Object(Te.a)(["\n  mutation($ids: [Int]!) {\n    deleteUploadImages(ids: $ids) {\n      name\n    }\n  }\n"]);return Dt=function(){return e},e}function Mt(){var e=Object(Te.a)(["\n  mutation($partnerName: String!, $file: Upload) {\n    singleUploadImage(partnerName: $partnerName, file: $file) {\n      id\n      status\n      name\n      path\n      url\n    }\n  }\n"]);return Mt=function(){return e},e}var Bt=Object(ke.b)(Mt()),Yt=Object(ke.b)(Dt()),Rt=Object(ke.b)(xt()),Ut=Object(ke.b)(At()),Lt=Object(ke.b)(kt()),zt=(Nt.a.Dragger,new Ct.a);var Gt=Object(he.b)((function(e){return{isLogin:e.isLogin,token:e.accessToken}}),null)((function(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),c=(a[0],a[1],Object(n.useState)(!0)),l=Object(y.a)(c,2),o=(l[0],l[1],Object(St.createUploadLink)({uri:"https://api.cms.cubegame.vn/graphql",headers:{Authorization:"Bearer ".concat(e.token.accessToken)}})),i=new wt.a({cache:zt,link:o});return r.a.createElement(Pt.a,{client:i},r.a.createElement(Tt.a,{mutation:Bt},(function(t,a){var n=a.data,c=a.loading;a.error;return n&&e.isThumbnail?(te(n.singleUploadImage.url),e.refetch()):n&&0==e.isThumbnail&&(ee(n.singleUploadImage.url),e.refetch()),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(){console.log("Submitted")},encType:"multipart/form-data",name:"T\u1ea3i \u1ea3nh l\xean",style:{paddingRight:"2rem"}},r.a.createElement("input",{style:{display:"none"},name:"fileNews",id:"fileNews",type:"file",onChange:function(){var e=Object(b.a)(E.a.mark((function e(a){var n,r,c,l,o,i,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.target.files,r=!0,c=!1,l=void 0,e.prev=4,o=n[Symbol.iterator]();case 6:if(r=(i=o.next()).done){e.next=13;break}return s=i.value,e.next=10,t({variables:{partnerName:"lqmt",file:s}});case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),c=!0,l=e.t0;case 19:e.prev=19,e.prev=20,r||null==o.return||o.return();case 22:if(e.prev=22,!c){e.next=25;break}throw l;case 25:return e.finish(22);case 26:return e.finish(19);case 27:case"end":return e.stop()}}),e,null,[[4,15,19,27],[20,,22,26]])})));return function(t){return e.apply(this,arguments)}}(),multiple:!0}),r.a.createElement("label",{for:"fileNews",style:{cursor:"pointer"}},"T\u1ea3i \u1ea3nh l\xean"),c&&r.a.createElement("p",null,"Loading.....")))})))}));function Ft(){var e=Object(Te.a)(["\n  query {\n    listAdminAlbums(id:",',user:"','"){\n      name\n      data\n      user\n      status\n    }\n  }\n  ']);return Ft=function(){return e},e}function Ht(){var e=Object(Te.a)(["\n    query {\n      listAdminAlbumsByUser(currentPage: ",", pageSize: ",', user: "','") {\n        count\n        rows {\n          id\n          user\n          name\n          status\n          data\n        }\n      }\n    }\n  ']);return Ht=function(){return e},e}function qt(){var e=Object(Te.a)(['\n  query {\n    listUploadedImages(status:"AVAILABLE") {\n      url\n      id\n      name\n      partnerName\n      status\n    }\n  }\n']);return qt=function(){return e},e}var Jt=Object(ke.b)(qt()),_t=function(e,t,a){return Object(ke.b)(Ht(),e,t,a)},Vt=function(e,t){return Object(ke.b)(Ft(),e,t)},Kt=(a(153),a(65)),$t=(a(187),a(97)),Qt=(a(157),$t.a.Meta),Wt=function(e){var t=Object(n.useState)({currentPage:1,pageSize:10,userAdmin:localStorage.getItem("userNameCMS"),albumName:""}),a=Object(y.a)(t,2),c=a[0],l=(a[1],Object(n.useState)([])),o=Object(y.a)(l,2),i=(o[0],o[1]),s=Object(n.useState)(!1),m=Object(y.a)(s,2),u=(m[0],m[1],Object(n.useState)("")),d=Object(y.a)(u,2),p=(d[0],d[1],c.currentPage),f=c.pageSize,E=c.userAdmin,b=(c.albumName,Object(Re.c)(_t(p,f,E),{onCompleted:function(e){return console.log(e)}})),h=b.loading,v=b.error,g=b.data;b.refetch;if(h)return"Loading...";if(v)return"Error! ".concat(v.message);var O=g.listAdminAlbumsByUser.rows.map((function(t,a){if("INVISIBLE"!==t.status&&t.id>=15)return r.a.createElement(Qe.a,{span:6,style:{marginBottom:"1rem"}},r.a.createElement($t.a,{hoverable:!0,cover:r.a.createElement("img",{alt:t.name,src:JSON.parse(JSON.parse(t.data).listImages[0]).url}),key:a,onClick:function(){return e.setDetailAlbum({isShow:!1,albumId:t.id})}},r.a.createElement(Qt,{title:t.name,description:"".concat(JSON.parse(t.data).listImages.length," \u1ea3nh")})))}));return r.a.createElement(Kt.a.Group,{className:"list-album-news",onChange:function(e){i(e)}},r.a.createElement($e.a,{gutter:16},O))};var Xt=function(e){var t=localStorage.getItem("userNameCMS"),a=Object(n.useState)({currentPage:1,pageSize:10,userAdmin:localStorage.getItem("userNameCMS"),albumName:""}),c=Object(y.a)(a,2),l=c[0],o=(c[1],Object(n.useState)([])),i=Object(y.a)(o,2),s=(i[0],i[1],Object(n.useState)(!1)),m=Object(y.a)(s,2),u=(m[0],m[1],Object(n.useState)([])),d=Object(y.a)(u,2),p=d[0],f=d[1],E=(l.albumName,Object(n.useState)([])),b=Object(y.a)(E,2),h=(b[0],b[1],Object(Re.c)(Vt(e.albumId,t),{onCompleted:function(e){f(JSON.parse(e.listAdminAlbums[0].data).listImages),console.log(e)}})),v=(h.data,h.loading,h.error,p.map((function(e,t){return r.a.createElement(mt.a,{value:JSON.parse(e).url,key:t,className:"list-images-news"},r.a.createElement("img",{src:JSON.parse(e).url,width:"100%",className:"image-news"}))})));return r.a.createElement(Kt.a.Group,{className:"list-album-news"},r.a.createElement(mt.a.Group,{buttonStyle:"solid",onChange:function(t){e.isThumbnail?te(t.target.value):ee(t.target.value)}},v))},Zt=rt.a.TabPane;var ea=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgNews:e.urlImgNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({isShow:!0,albumId:null}),s=Object(y.a)(o,2),m=s[0],u=s[1],d=m.isShow,p=m.albumId,f=Object(Re.a)(Jt,{fetchPolicy:"cache-and-network",onCompleted:function(e){l(e.listUploadedImages)}}),E=Object(y.a)(f,1)[0];Object(n.useEffect)((function(){E()}),[]);var b=c.map((function(e,t){if("INVISIBLE"!==e.status)return r.a.createElement(mt.a,{value:e.url,key:t,className:"list-images-news"},r.a.createElement("img",{src:e.url,width:"100%",className:"image-news"}))})),h=r.a.createElement(Gt,{isThumbnail:e.isThumbnail,refetch:E});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{visible:e.visible,className:"listImages-news-modal",onOk:function(){return Z(!1)},onCancel:function(){return Z(!1)},footer:[r.a.createElement("span",{className:"isThumbnail-".concat(e.isThumbnail)}," ","URL:"," ",r.a.createElement("input",{value:e.urlImgNews,style:{marginLeft:"5px",width:"100%"},disabled:!0}))]},r.a.createElement(rt.a,{type:"card",tabBarExtraContent:h},r.a.createElement(Zt,{tab:"T\u1ea5t c\u1ea3 \u1ea3nh",key:"1"},r.a.createElement($e.a,{className:"listImages_news"},r.a.createElement(mt.a.Group,{buttonStyle:"solid",onChange:function(t){e.isThumbnail?te(t.target.value):ee(t.target.value)},value:e.isThumbnail?e.urlImgThumbnail:e.urlImgNews},b))),r.a.createElement(Zt,{tab:r.a.createElement("span",{onClick:function(){u({isShow:!0,albumId:null})}},r.a.createElement(i.a,{type:"android"}),"Album"),key:"2"},d?r.a.createElement(Wt,{setDetailAlbum:u}):r.a.createElement(Xt,{albumId:p,isThumbnail:e.isThumbnail})))))})),ta=(a(939),Pe.a.Option),aa={type:["NEWS","EVENT","SLIDER","NOTICE","GUIDE"],status:[{value:"COMPLETE",status:"Public"},{value:"INPUT",status:"Draff"}]},na={display:"block",height:"30px",lineHeight:"30px"};var ra=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=Object(n.useRef)(null),a=new URLSearchParams(window.location.search),c=Object(n.useState)(!1),l=Object(y.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)([]),m=Object(y.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)({isShow:!1,content:"Updating successful post !",isDelete:!1,confirmBtn:"Back"}),b=Object(y.a)(E,2),h=b[0],v=b[1],g=Object(n.useState)(""),O=Object(y.a)(g,2),j=O[0],N=O[1],C=Object(n.useState)(!0),S=Object(y.a)(C,2),w=(S[0],S[1]),P=Object(n.useState)(!1),T=Object(y.a)(P,2),k=T[0],A=T[1],x=Object(n.useState)({newsId:null,title:"",shortContent:"",status:"",content:"",createAt:"",type:"",platform:"",startPost:null}),D=Object(y.a)(x,2),M=D[0],B=D[1],Y=Object(Re.a)(function(e){return Object(ke.b)(ft(),e)}(a.get("newsId")),{fetchPolicy:"cache-and-network",onCompleted:function(e){console.log(e),B(e.listNews[0]),N(e.listNews[0].content),te(e.listNews[0].image)}}),R=Object(y.a)(Y,1)[0];Object(Re.c)(ht(),{onCompleted:function(e){f(e.listPartners)}}),Object(n.useEffect)((function(){R()}),[]);var U=M.title,L=M.status,z=M.type,G=M.platform,F=M.shortContent,H=M.newsId,q=M.startPost,J=Object(Re.b)(Ot),_=Object(y.a)(J,1)[0],V=Object(Re.b)(vt,{variables:{newsId:Number(a.get("newsId")),req:{title:U,content:j,shortContent:F,image:e.urlImgThumbnail,platform:G,type:z,status:L,unity:0,startPost:q}},onCompleted:function(e){return console.log(e)}}),K=Object(y.a)(V,1)[0],$=function(e,t){B(Object(I.a)({},M,Object(et.a)({},t.props.name,e)))},Q=function(e){i(e),Z(!0)},W=function(e){v(Object(I.a)({},h,{isShow:!0,content:"Do you want to countinue ".concat(e," this post?"),confirmBtn:"Ok !",isDelete:!0}))},X=function(){var e=Ge()().format("YYYY-MM-DD hh:mm:ss");A(!1),w(!0),B(Object(I.a)({},M,{startPost:e}))},ee=aa.type.map((function(e,t){return r.a.createElement(ta,{value:e,name:"type",key:t},e)})),ae=aa.status.map((function(e,t){return r.a.createElement(mt.a,{style:na,value:e.value,key:t},e.status)})),ne=d.map((function(e,t){return r.a.createElement(ta,{value:e.partnerId,name:"platform",key:t},e.partnerName)}));return console.log(q),r.a.createElement($e.a,null,r.a.createElement(Qe.a,{sm:18,className:"section1-news"},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h3",null,"Update"),r.a.createElement("a",{onClick:function(){return W("update")}},"Back")),r.a.createElement(p.a,{placeholder:"",value:U,name:"title",onChange:function(e){return B(Object(I.a)({},M,{title:e.target.value}))}}),r.a.createElement(p.a,{placeholder:"Subtitle...",value:F,name:"title",onChange:function(e){return B(Object(I.a)({},M,{shortContent:e.target.value}))}}),r.a.createElement(It.a,{ref:t,value:j,onBlur:function(e){return N(e)}}),r.a.createElement(u.a,{onClick:function(){return Q(!1)},style:{marginTop:".5rem"}},"Get image link")),r.a.createElement(Qe.a,{sm:6,style:{padding:"0 1rem"}},r.a.createElement("div",{className:"set-schedule-news"},r.a.createElement("h3",null,"Public status"),r.a.createElement(mt.a.Group,{onChange:function(e){B(Object(I.a)({},M,{status:e.target.value}))},value:L},ae),r.a.createElement("div",{className:"COMPLETE"===L?"option-settimeline":"hide-options-settimeline"},r.a.createElement("p",{style:{margin:".5rem 0"}},"* Set timeline"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Xe.a,{showTime:!0,placeholder:"Set timeline",onChange:function(e,t){var a;a=t,console.log(a),w(!1),B(Object(I.a)({},M,{startPost:a}))},style:{width:"99%",marginRight:"1%"},format:"YYYY-MM-DD HH:mm:ss",allowClear:!0,value:Number.isInteger(Number(q))?Ge()(Ge()(Number(q)).format("YYYY-MM-DD hh:mm:ss"),"YYYY-MM-DD hh:mm:ss"):Ge()(q,"YYYY-MM-DD hh:mm:ss"),disabled:"COMPLETE"!==L,open:k,dropdownClassName:"setTimeline-news",renderExtraFooter:function(){return r.a.createElement(u.a,{size:"small",onClick:X},"Post Now")},onOk:function(){return A(!1)},onFocus:function(){return A(!0)}}))))),r.a.createElement("div",{className:"set-platform-news"},r.a.createElement("h3",null,"Platform"),r.a.createElement(Pe.a,{value:G,style:{width:"100%"},onChange:function(e,t){return $(e,t)}},ne)),r.a.createElement("div",{className:"set-type-news"},r.a.createElement("h3",null,"Type"),r.a.createElement(Pe.a,{value:z,style:{width:"100%"},onChange:function(e,t){return $(e,t)}},ee)),r.a.createElement("div",{className:"set-thumbnail-news"},r.a.createElement("h3",null,"Thumbnail image"),r.a.createElement("div",{style:{width:"70%",margin:"0 auto"}},r.a.createElement("img",{src:e.urlImgThumbnail,style:{width:"100%"}})),r.a.createElement("a",{onClick:function(){return Q(!0)}},"Change")),r.a.createElement("div",{className:"btn-submit"},r.a.createElement("p",{onClick:function(){return W("delete")},style:{color:"red",cursor:"pointer"}},"Delete news"),r.a.createElement("a",{onClick:function(){K().then((function(e){return v(Object(I.a)({},h,{isShow:!0}))}))}},"Update"))),r.a.createElement(ea,{isThumbnail:o}),r.a.createElement(Ze.a,{title:"Confirm!",visible:h.isShow,okText:r.a.createElement(Ie.b,{to:"/news"},h.confirmBtn),onOk:function(){h.isDelete&&_({variables:{ids:[H]}})},cancelText:"Next",onCancel:function(){v(Object(I.a)({},h,{isShow:!1,isDelete:!1,content:"Updating successful post!",confirmBtn:"Back"}))}},r.a.createElement("p",null,h.content)))})),ca=a(476);a(940);var la=function(){var e=Object(n.useState)({currentPage:1,pageSize:10,search:""}),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(y.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)([]),f=Object(y.a)(d,2),h=f[0],v=f[1],g=Object(n.useState)({totalActive:[],totalInactive:[]}),O=Object(y.a)(g,2),j=O[0],N=O[1],C=Object(Re.a)(yt,{fetchPolicy:"cache-and-network",onCompleted:function(e){var t=e.listNewsByType.rows.map((function(e,t){return"COMPLETE"===e.status})),a=e.listNewsByType.rows.map((function(e,t){return"COMPLETE"!==e.status}));m(e.listNewsByType),N({totalActive:t,totalInactive:a})}}),S=Object(y.a)(C,1)[0],w=a.currentPage,P=a.pageSize,T=a.search;j.totalActive,j.totalInactive,Object(n.useEffect)((function(){S({variables:{currentPage:w,pageSize:P,search:T}}),Z(null),te(null)}),[]);var k=Object(Re.b)(Ot),A=Object(y.a)(k,1)[0],x=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A({variables:{ids:h}});case 2:S({variables:{currentPage:w,pageSize:P,search:T}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=[{title:"Title",dataIndex:"title",key:"title",width:"25%",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(Ie.b,{to:"news/edit?newsId=".concat(t.newsId)},e))}},{title:"Type",dataIndex:"type",key:"type"},{title:"News ID",dataIndex:"newsId",key:"newsId"},{title:"Platform",dataIndex:"partner",key:"platform",render:function(e){return r.a.createElement("span",null,e.partnerName)}},{title:"Time",dataIndex:"createAt",key:"time",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY"))}},{title:"Status",dataIndex:"status",key:"status"}],M={onChange:function(e,t){var a=t.map((function(e,t){return e.newsId}));v(a)}},B=function(){S({variables:{currentPage:w,pageSize:P,search:T}})};return s.length>0&&(Object(ca.a)("totalActiveNews"),s.rows.map((function(e,t){return"COMPLETE"===e.status}))),r.a.createElement("div",null,r.a.createElement("h2",null,"News"),r.a.createElement("div",{style:{marginBottom:16},className:"news-header"},r.a.createElement("div",null,r.a.createElement("span",null,"All ","(".concat(s.count,")"))),r.a.createElement("div",null,r.a.createElement(p.a,{onChange:function(e){c(Object(I.a)({},a,{search:e.target.value}))},style:{width:"30%"},value:T,suffix:r.a.createElement(we.a,{title:"reset",className:""!==T?"reset-btn-show":"reset-btn-hide"},r.a.createElement(i.a,{type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:function(){c({currentPage:1,pageSize:10,search:""}),S({variables:{currentPage:1,pageSize:10,search:""}})}}))}),r.a.createElement(u.a,{onClick:B,onPressEnter:B,style:{margin:"0 .35rem"}},"Search"),r.a.createElement(u.a,{disabled:!(h.length>0),onClick:x,style:{marginRight:".5rem"}},"Delete"),r.a.createElement(u.a,{type:"primary"},r.a.createElement(Ie.b,{to:"/news/addnews",onClick:function(){te(null),Z(null)}},"Addnew")))),r.a.createElement(Se.a,{rowSelection:M,columns:D,dataSource:s.rows,pagination:!1}),r.a.createElement(Ce.a,{current:a.currentPage,total:s.count,pageSize:10,onChange:function(e){c(Object(I.a)({},a,{currentPage:e})),S({variables:{currentPage:e,pageSize:P,search:T}})},className:"pagination-listUser"}))};a(941);var oa=Pe.a.Option,ia={type:["NEWS","EVENT","SLIDER","NOTICE","GUIDE"],status:[{value:"COMPLETE",status:"Public"},{value:"INPUT",status:"Draff"}]},sa={display:"block",height:"30px",lineHeight:"30px"};var ma=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),s=Object(y.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(""),E=Object(y.a)(f,2),b=E[0],h=E[1],v=Object(n.useState)(!1),g=Object(y.a)(v,2),O=g[0],j=g[1],N=Object(n.useState)(!0),C=Object(y.a)(N,2),S=(C[0],C[1]),w=Object(n.useState)({title:"",subTitle:"",type:"NEWS",status:"INPUT",platform:"5A6DC0B0-B02B-40FB-BA2C-3C42EC442B89",startPost:Ge()().format("YYYY-MM-DD HH:mm:ss")}),P=Object(y.a)(w,2),T=P[0],k=P[1],A=Object(n.useState)({isShow:!1,content:"Updating successful post !",isDelete:!1,confirmBtn:"Back"}),x=Object(y.a)(A,2),D=x[0],M=x[1];Object(Re.c)(ht(),{onCompleted:function(e){d(e.listPartners)}});var B=T.title,Y=T.status,R=T.type,U=T.platform,L=T.subTitle,z=T.startPost,G=Object(Re.b)(gt,{variables:{req:{title:B,shortContent:L,content:b,platform:U,type:R,status:Y,image:e.urlImgThumbnail,unity:0,startPost:z}},onCompleted:function(e){return console.log(e)}}),F=Object(y.a)(G,1)[0],H=function(e,t){k(Object(I.a)({},T,Object(et.a)({},t.props.name,e))),console.log(T)},q=function(e){l(e),Z(!0)},J=function(){var e=Ge()().format("YYYY-MM-DD hh:mm:ss");j(!1),S(!0),k(Object(I.a)({},T,{startPost:e}))},_=ia.type.map((function(e,t){return r.a.createElement(oa,{value:e,name:"type",key:t},e)})),V=ia.status.map((function(e,t){return r.a.createElement(mt.a,{style:sa,value:e.value,key:t},e.status)})),K=m.map((function(e,t){return r.a.createElement(oa,{value:e.partnerId,name:"platform",key:t},e.partnerName)}));return r.a.createElement($e.a,null,r.a.createElement(Qe.a,{sm:18,className:"section1-news"},r.a.createElement("h3",null,r.a.createElement(i.a,{type:"close",style:{color:"rgba(0,0,0,.45)",paddingRight:".5rem"},onClick:function(){M(Object(I.a)({},D,{isShow:!0,content:"Do you want to countinue creating a new post?"}))}}),"Add News"),r.a.createElement(p.a,{placeholder:"Title...",value:B,name:"title",onChange:function(e){return k(Object(I.a)({},T,{title:e.target.value}))}}),r.a.createElement(p.a,{placeholder:"Subtitle...",value:L,name:"subTitle",onChange:function(e){return k(Object(I.a)({},T,{subTitle:e.target.value}))}}),r.a.createElement(It.a,{value:b,onBlur:function(e){return h(e)}}),r.a.createElement(u.a,{onClick:function(){return q(!1)},style:{marginTop:".5rem"}},"Get image link")),r.a.createElement(Qe.a,{sm:6,style:{padding:"0 1rem"}},r.a.createElement("div",{className:"set-schedule-news"},r.a.createElement("h3",null,"Public status"),r.a.createElement(mt.a.Group,{onChange:function(e){k(Object(I.a)({},T,{status:e.target.value,startPost:Ge()().format("YYYY-MM-DD hh:mm:ss")}))}},V),r.a.createElement("div",{className:"COMPLETE"===Y?"option-settimeline":"hide-options-settimeline"},r.a.createElement("p",{style:{margin:".5rem 0"}},"* Set timeline"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Xe.a,{showTime:{format:"HH:mm:ss"},placeholder:"Set timeline",onChange:function(e,t){var a;a=t,S(!1),k(Object(I.a)({},T,{startPost:a}))},style:{width:"99%",marginRight:"1%"},disabledDate:function(e){return e&&e<Ge()().endOf("day")},format:"YYYY-MM-DD HH:mm:ss",allowClear:!1,defaultValue:Ge()(z,"YYYY-MM-DD HH:mm:ss"),disabled:"COMPLETE"!==Y,open:O,dropdownClassName:"setTimeline-news",renderExtraFooter:function(){return r.a.createElement(u.a,{size:"small",onClick:J},"Post Now")},onOk:function(){return j(!1)},onFocus:function(){return j(!0)}}))))),r.a.createElement("div",{className:"set-platform-news"},r.a.createElement("h3",null,"Platform"),r.a.createElement(Pe.a,{value:U,style:{width:"100%"},onChange:function(e,t){return H(e,t)}},K)),r.a.createElement("div",{className:"set-type-news"},r.a.createElement("h3",null,"Type"),r.a.createElement(Pe.a,{value:R,style:{width:"100%"},onChange:function(e,t){return H(e,t)}},_)),r.a.createElement("div",{className:"set-thumbnail-news"},r.a.createElement("h3",null,"Thumbnail image"),r.a.createElement("div",{style:{width:"70%",margin:"0 auto"}},r.a.createElement("img",{src:e.urlImgThumbnail,style:{width:"100%"}})),r.a.createElement("a",{onClick:function(){return q(!0)}},"Select")),r.a.createElement(u.a,{onClick:function(){""!==B&&""!==b&&""!==L&&""!==Y?F().then((function(e){M(Object(I.a)({},D,{isShow:!0,content:"Create new post successful!"})),k(Object(I.a)({},T,{title:"",subTitle:"",type:"NEWS",status:"INPUT",platform:"5A6DC0B0-B02B-40FB-BA2C-3C42EC442B89"})),h(""),te(null)})):Ze.a.error({title:"Something went wrong!",content:"Check again post title, subtile, status and post content !"})}},"Submit")),r.a.createElement(ea,{isThumbnail:c}),r.a.createElement(Ze.a,{title:"Confirm !",visible:D.isShow,okText:r.a.createElement(Ie.b,{to:"/news"},"Back"),cancelText:"Next",onCancel:function(){M(Object(I.a)({},D,{isShow:!1}))}},r.a.createElement("p",null,D.content)))})),ua=Nt.a.Dragger,da=new Ct.a;var pa=Object(he.b)((function(e){return{isLogin:e.isLogin,token:e.accessToken}}),null)((function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!0),s=Object(y.a)(o,2),m=(s[0],s[1],Object(n.useState)(!1)),d=Object(y.a)(m,2),p=(d[0],d[1],Object(St.createUploadLink)({uri:"https://api.cms.cubegame.vn/graphql",headers:{Authorization:"Bearer ".concat(e.token.accessToken)}})),f=new wt.a({cache:da,link:p}),h={name:"file",accept:".png, .jpg, .gif",multiple:!0,showUploadList:{showDownloadIcon:!1},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onRemove:function(e){var t=c.indexOf(e),a=c.slice();a.splice(t,1),l(a)},beforeUpload:function(e,t){l(t)},fileList:c},v=function(){l([])};return r.a.createElement(Pt.a,{client:f},r.a.createElement(Tt.a,{mutation:Bt},(function(t,a){var n=a.data,o=a.loading,s=a.error;return console.log(n,o,s),r.a.createElement(Qe.a,{md:8,className:"section-upload"},r.a.createElement(ua,h,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(i.a,{type:"file-add"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")),r.a.createElement("div",{className:"btn-load-images"},r.a.createElement(u.a,{style:{marginRight:"10px"},onClick:v},"Cancel"),r.a.createElement(u.a,{onClick:Object(b.a)(E.a.mark((function a(){var n,r,o,i,s,m;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=!0,r=!1,o=void 0,a.prev=3,i=c[Symbol.iterator]();case 5:if(n=(s=i.next()).done){a.next=12;break}return m=s.value,a.next=9,t({variables:{partnerName:"lqmt",file:m}});case 9:n=!0,a.next=5;break;case 12:a.next=18;break;case 14:a.prev=14,a.t0=a.catch(3),r=!0,o=a.t0;case 18:a.prev=18,a.prev=19,n||null==i.return||i.return();case 21:if(a.prev=21,!r){a.next=24;break}throw o;case 24:return a.finish(21);case 25:return a.finish(18);case 26:e.refetch(),Ze.a.success({content:"Upload successful...!"}),l([]);case 28:case"end":return a.stop()}}),a,null,[[3,14,18,26],[19,,21,25]])}))),disabled:0===c.length},"Load media")),o&&r.a.createElement("p",null,"Loading....."))})))})),fa=a(237),Ea=(a(460),a(949),{width:"24%",textAlign:"center",padding:"2px",margin:".5%",position:"relative",height:"100px"});var ba=function(){var e=Object(n.useState)([]),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([{url:"",status:"",id:"",name:"",partnerName:""}]),o=Object(y.a)(l,2),s=o[0],m=o[1],u=Object(Re.b)(Yt,{variables:{ids:a.map((function(e,t){return e.id}))}}),d=Object(y.a)(u,1)[0],p=Object(n.useState)(!1),f=Object(y.a)(p,2),h=f[0],v=f[1],g=Object(n.useState)(0),O=Object(y.a)(g,2),j=O[0],I=O[1],N=Object(Re.a)(Jt,{fetchPolicy:"cache-and-network",onCompleted:function(e){m(e.listUploadedImages)}}),C=Object(y.a)(N,1)[0];Object(n.useEffect)((function(){C()}),[]);var S=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:return e.next=4,C();case 4:c([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=s.map((function(e,t){return r.a.createElement($t.a.Grid,{style:Ea,key:t,className:"checkbox-image-container"},r.a.createElement(Kt.a,{value:'{"id":'.concat(e.id,',"url":"').concat(e.url,'"}'),className:"checkbox-image"}),r.a.createElement("div",{style:{height:"100%",cursor:"pointer"},onClick:function(){return function(e){I(e),v(!0)}(t)}},r.a.createElement("img",{src:e.url,alt:e.name,style:{maxHeight:"100%",maxWidth:"100%"}})))}));return r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/media"},r.a.createElement("h2",null,"Media")),r.a.createElement(Qe.a,{md:16,className:"container-images"},a.length>0?r.a.createElement("div",{className:"btn-media-options"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"close",style:{marginRight:"5px"},onClick:function(){return c([])}}),r.a.createElement("span",null,a.length)," items is chosen"),r.a.createElement("div",null,r.a.createElement(i.a,{type:"delete",style:{fontSize:"18px",margin:"0 5px"},onClick:S}))):r.a.createElement("div",{className:"menu-images"},r.a.createElement(Ie.b,{to:"/media",style:{marginRight:"3rem"}},r.a.createElement("h3",null,"Images")),r.a.createElement(Ie.b,{to:"/media/album"},r.a.createElement("h3",null,"Album"))),r.a.createElement(Kt.a.Group,{style:{width:"100%"},className:"list-media",onChange:function(e){console.log(e);var t=e.map((function(e,t){return JSON.parse(e)}));c(t)},value:a.map((function(e,t){return JSON.stringify(e)}))},r.a.createElement(Qe.a,null,w)),h&&r.a.createElement(fa.a,{mainSrc:s[j].url,nextSrc:s[(j+1)%s.length].url,prevSrc:s[(j+s.length-1)%s.length].url,onCloseRequest:function(){return v(!1)},onMovePrevRequest:function(){return I((j+s.length-1)%s.length)},onMoveNextRequest:function(){return I((j+1)%s.length)}})),r.a.createElement(pa,{refetch:C}))};function ya(){Ze.a.error({content:"Check again your album name !"})}function ha(e){Ze.a.success({content:"Your album is ".concat(e," !")})}var va=Nt.a.Dragger,ga=new Ct.a;var Oa=Object(he.b)((function(e){return{isLogin:e.isLogin,token:e.accessToken}}),null)((function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!0),s=Object(y.a)(o,2),m=(s[0],s[1],Object(n.useState)([])),d=Object(y.a)(m,2),p=(d[0],d[1],Object(St.createUploadLink)({uri:"https://api.cms.cubegame.vn/graphql",headers:{Authorization:"Bearer ".concat(e.token.accessToken)}})),f=new wt.a({cache:ga,link:p}),h={name:"file",accept:".png, .jpg, .gif",multiple:!0,showUploadList:{showDownloadIcon:!1},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onRemove:function(e){var t=c.indexOf(e),a=c.slice();a.splice(t,1),l(a)},beforeUpload:function(e,t){l(t)},fileList:c},v=function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:delete a.singleUploadImage.path,delete a.singleUploadImage.__typename,delete a.singleUploadImage.name,e.setImagesForAlbum([].concat(Object(V.a)(e.imagesForAlbum),[JSON.stringify(a.singleUploadImage)])),console.log(JSON.stringify(a.singleUploadImage));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(Pt.a,{client:f},r.a.createElement(Tt.a,{mutation:Bt,update:function(e,t){var a=t.data;v(a)}},(function(t,a){a.data;var n=a.loading;a.error,a.called;return r.a.createElement(r.a.Fragment,null,r.a.createElement(va,h,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(i.a,{type:"file-add"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload")),r.a.createElement(u.a,{onClick:Object(b.a)(E.a.mark((function a(){var n,r,l,o,i,s;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(""!==e.albumName){a.next=4;break}ya(),a.next=35;break;case 4:n=!0,r=!1,l=void 0,a.prev=7,o=c[Symbol.iterator]();case 9:if(n=(i=o.next()).done){a.next=16;break}return s=i.value,a.next=13,t({variables:{partnerName:"lqmt",file:s}});case 13:n=!0,a.next=9;break;case 16:a.next=22;break;case 18:a.prev=18,a.t0=a.catch(7),r=!0,l=a.t0;case 22:a.prev=22,a.prev=23,n||null==o.return||o.return();case 25:if(a.prev=25,!r){a.next=28;break}throw l;case 28:return a.finish(25);case 29:return a.finish(22);case 30:return a.next=32,e.submitCreateAndUpdateAlbum();case 32:e.setPickDataImages(),e.removeAlbumName(),e.refetch();case 35:case"end":return a.stop()}}),a,null,[[7,18,22,30],[23,,25,29]])}))),disabled:0===c.length,style:{margin:"1rem 0"}},"Submit"),r.a.createElement("a",{onClick:e.setPickDataImages},r.a.createElement(i.a,{type:"double-left"}),"Quay l\u1ea1i"),n&&r.a.createElement("p",null,"Loading....."))})))})),ja={width:"24%",textAlign:"center",padding:"2px",margin:".5%",position:"relative"};var Ia=function(e){var t=e.imagesForAlbum,a=Object(n.useState)([]),c=Object(y.a)(a,2),l=(c[0],c[1]),o=Object(n.useState)(!1),s=Object(y.a)(o,2),m=s[0],d=s[1],p=Object(Re.c)(Jt,{fetchPolicy:"cache-and-network",onCompleted:function(e){var t=e.listUploadedImages.filter((function(e,t){return"INVISIBLE"!==e.status}));l(t)}}),f=p.loading,E=p.error,b=p.data;if(p.refetch,f)return"Loading...";if(E)return"Error! ".concat(E.message);var h=t.map((function(e,t){return r.a.createElement(Qe.a,{xs:4,style:{height:"55px"},key:t},r.a.createElement("img",{src:JSON.parse(e).url,style:{height:"100%",width:"100%"},key:t,alt:"img"}))})),v=b.listUploadedImages.map((function(e,t){if("INVISIBLE"!==e.status)return r.a.createElement($t.a.Grid,{style:ja,key:t},r.a.createElement(Kt.a,{value:'{"id":'.concat(e.id,',"status":"').concat(e.status,'","url":"').concat(e.url,'"}'),className:"checkbox-image"},r.a.createElement("img",{src:e.url,alt:e.name,width:"100%"})))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){d(!0)},style:{paddingRight:".5rem"}},r.a.createElement(i.a,{type:"double-right"}),"Ch\u1ecdn \u1ea3nh"),r.a.createElement("span",null,t.length)," items \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ecdn",r.a.createElement($e.a,{style:{margin:"1rem 0"}},h),r.a.createElement(u.a,{onClick:function(){d(!1),""===e.albumName?ya():(e.submitCreateAndUpdateAlbum(),e.setPickDataImages(),e.removeAlbumName())},style:{width:"100%",marginBottom:".5rem"},disabled:!(e.imagesForAlbum.length>0)},"Submit"),r.a.createElement("a",{onClick:e.setPickDataImages},r.a.createElement(i.a,{type:"double-left"}),"Quay l\u1ea1i")),r.a.createElement(Ze.a,{title:"Media",visible:m,onOk:function(e){d(!1)},onCancel:function(e){d(!1)}},r.a.createElement($e.a,null,r.a.createElement(Qe.a,null,t.length>0&&r.a.createElement("div",{className:"btn-media-options"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"close",style:{marginRight:"5px"}}),r.a.createElement("span",null,t.length)," items \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ecdn")),r.a.createElement(Kt.a.Group,{style:{width:"100%"},value:t,onChange:function(t){e.setImagesForAlbum(t),console.log(t)}},r.a.createElement(Qe.a,null,v))))))},Na=$t.a.Meta,Ca=function(){var e=Object(n.useState)({currentPage:1,pageSize:10,count:"",userAdmin:localStorage.getItem("userNameCMS"),albumName:""}),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(y.a)(l,2),s=o[0],m=o[1],u=Object(n.useState)(!1),d=Object(y.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)([]),v=Object(y.a)(h,2),g=v[0],O=v[1],j=Object(n.useState)([]),N=Object(y.a)(j,2),C=N[0],S=N[1],w=Object(n.useState)([{id:"",user:"",name:"",status:"",data:""}]),P=Object(y.a)(w,2),T=P[0],k=P[1],A=Object(n.useState)({fromComp:"",fromLibary:""}),x=Object(y.a)(A,2),D=x[0],M=x[1],B=a.currentPage,Y=a.pageSize,R=a.userAdmin,U=a.albumName,L=a.count,z=D.fromComp,G=D.fromLibary,F=Object(Re.b)(Rt,{variables:{ids:s}}),H=Object(y.a)(F,1)[0];Object(n.useMemo)((function(){O([]),S([])}),[z,G]);var q=Object(Re.b)(Ut,{variables:{req:{user:R,name:U,data:'{"listImages":'.concat(JSON.stringify(g),"}")}},onCompleted:function(e){console.log(JSON.parse(e.createAdminAlbum.data))}}),J=Object(y.a)(q,1)[0],_=Object(Re.b)(Ut,{variables:{req:{user:R,name:U,data:'{"listImages":'.concat(JSON.stringify(C),"}")}},onCompleted:function(e){console.log(JSON.parse(e.createAdminAlbum.data))}}),V=Object(y.a)(_,1)[0],K=Object(Re.a)(_t(B,Y,R),{fetchPolicy:"cache-and-network",onCompleted:function(e){c(Object(I.a)({},a,{count:e.listAdminAlbumsByUser.count})),k(e.listAdminAlbumsByUser.rows)}}),$=Object(y.a)(K,1)[0];Object(n.useEffect)((function(){$()}),[]);var Q=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return e.next=4,$();case 4:m([]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.next=4,ha("created");case 4:$();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return e.next=4,ha("created");case 4:$();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){M({fromComp:"",fromLibary:""})},ee=function(){c(Object(I.a)({},a,{albumName:""}))},te=T.map((function(e,t){if(e.id>=1)return r.a.createElement(Qe.a,{sm:6,key:t,style:{padding:"0 .5rem .5rem .5rem"}},r.a.createElement(Ie.b,{to:"/media/album/edit?id=".concat(e.id)},r.a.createElement($t.a,{hoverable:!0,style:{width:"100%"},cover:r.a.createElement("div",null,r.a.createElement("img",{alt:0===JSON.parse(e.data).listImages.length?"Album is empty":e.name,src:JSON.parse(e.data).listImages.length>0?JSON.parse(JSON.parse(e.data).listImages[0]).url:"",style:{maxHeight:"100%",maxWidth:"100%"}}))},r.a.createElement(Na,{title:e.name,description:"".concat(JSON.parse(e.data).listImages.length," \u1ea3nh")}))))}));return r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/media"},r.a.createElement("h2",null,"Media")),r.a.createElement(Qe.a,{md:16,className:"container-images"},s.length>0?r.a.createElement("div",{className:"btn-media-options"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"close",style:{marginRight:"5px"}}),r.a.createElement("span",null,s.length)," albums \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ecdn"),r.a.createElement("div",null,r.a.createElement(i.a,{type:"delete",style:{fontSize:"18px",margin:"0 5px"},onClick:Q}))):r.a.createElement("div",{className:"menu-images"},r.a.createElement(Ie.b,{to:"/media",style:{marginRight:"3rem"}},r.a.createElement("h3",null,"Images")),r.a.createElement(Ie.b,{to:"/media/album"},r.a.createElement("h3",null,"Album"))),r.a.createElement($e.a,{style:{padding:"1rem .5rem"}},te),r.a.createElement(Ce.a,{current:B,total:L,pageSize:10,onChange:function(e){c(Object(I.a)({},a,{currentPage:e}))},className:"pagination-listUser"})),r.a.createElement(Qe.a,{md:8,className:"create-album"},p?r.a.createElement("div",{onClick:function(){return f(!1)}},r.a.createElement(i.a,{type:"folder-add",style:{fontSize:"60px"}}),r.a.createElement("p",null,"T\u1ea1o album m\u1edbi")):r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement(i.a,{onClick:function(){return f(!1)},type:"close",style:{marginRight:"5px",fontSize:"15px"}}),"Creat new album"),r.a.createElement("input",{className:"input-album-name",placeholder:"Name album",value:U,name:"name",onChange:function(e){return function(e){console.log(e.target.value),c(Object(I.a)({},a,{albumName:e.target.value}))}(e)}}),r.a.createElement("p",{className:"add-images"},"Add image"),"pickFromComp"===z&&r.a.createElement(Oa,{setImagesForAlbum:O,submitCreateAndUpdateAlbum:W,albumName:U,refetch:$,imagesForAlbum:g,setPickDataImages:Z,removeAlbumName:ee}),"pickFromLibary"===G&&r.a.createElement(Ia,{setImagesForAlbum:S,submitCreateAndUpdateAlbum:X,refetch:$,albumName:U,imagesForAlbum:C,setPickDataImages:Z,removeAlbumName:ee}),""===G?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"create-album-pick",onClick:function(){return M(Object(et.a)({fromComp:"f"},"fromComp","pickFromComp"))}},r.a.createElement(i.a,{type:"plus",style:{marginRight:".5rem"}}),"Select photo from the computer"),r.a.createElement("div",{className:"create-album-pick",onClick:function(){return M(Object(I.a)({},D,{fromLibary:"pickFromLibary"}))}},r.a.createElement(i.a,{type:"search",style:{marginRight:".5rem"}}),"Select photo from the library")):null)))},Sa={width:"24%",textAlign:"center",padding:"2px",margin:".5%",position:"relative",height:"100px"};var wa=function(){var e=new URLSearchParams(window.location.search).get("id"),t=localStorage.getItem("userNameCMS"),a=Object(n.useState)({currentPage:2,pageSize:10,userAdmin:localStorage.getItem("userNameCMS"),albumName:""}),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),m=Object(y.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(!1),h=Object(y.a)(f,2),v=(h[0],h[1]),g=Object(n.useState)(!1),O=Object(y.a)(g,2),j=O[0],N=O[1],C=Object(n.useState)([]),S=Object(y.a)(C,2),w=S[0],P=S[1],T=Object(n.useState)(!1),k=Object(y.a)(T,2),A=k[0],x=k[1],D=Object(n.useState)(0),M=Object(y.a)(D,2),B=M[0],Y=M[1],R=Object(n.useState)({fromComp:"",fromLibary:""}),U=Object(y.a)(R,2),L=U[0],z=U[1],G=l.albumName,F=L.fromComp,H=L.fromLibary,q=Object(Re.b)(Rt,{variables:{ids:[Number(e)]}}),J=Object(y.a)(q,1)[0],_=Object(Re.c)(Vt(e,t),{onCompleted:function(e){P(JSON.parse(e.listAdminAlbums[0].data).listImages),o(Object(I.a)({},l,{albumName:e.listAdminAlbums[0].name}))}}),V=_.loading,K=_.error,$=_.data,Q=_.refetch,W=Object(Re.b)(Lt,{variables:{id:Number(e),req:{user:t,name:G,data:'{"listImages":'.concat(JSON.stringify(w),"}")}},onCompleted:function(e){return console.log(e)}}),X=Object(y.a)(W,1)[0];if(V)return"Loading...";if(K)return"Error! ".concat(K.message);JSON.parse($.listAdminAlbums[0].data).listImages;var Z=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:ha("deleted");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==G){e.next=4;break}ya(),e.next=9;break;case 4:return e.next=6,X();case 6:Q(),ha("updated"),p([]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.filter((function(e,t){return-1===d.indexOf(e)})),e.next=3,P(t);case 3:ee();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){z({fromComp:"",fromLibary:""})},ne=function(){},re=w.map((function(e,t){return r.a.createElement($t.a.Grid,{style:Sa,key:t,className:"checkbox-image-container"},r.a.createElement(Kt.a,{value:e,className:"checkbox-image"}),r.a.createElement("div",{style:{height:"100%",cursor:"pointer"},onClick:function(){return function(e){Y(e),x(!0)}(t)}},r.a.createElement("img",{src:JSON.parse(e).url,style:{maxHeight:"100%",maxWidth:"100%"}})))}));return r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/media"},r.a.createElement("h2",null,"Media")),r.a.createElement(Qe.a,{md:16,className:"container-images"},d.length>0?r.a.createElement("div",{className:"btn-media-options"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"close",style:{marginRight:"5px"},onClick:function(){return p([])}}),r.a.createElement("span",null,d.length)," items is chosen."),r.a.createElement("div",null,r.a.createElement(i.a,{type:"delete",style:{fontSize:"18px",margin:"0 5px"},onClick:te}))):r.a.createElement("div",{className:"menu-images",style:{justifyContent:"space-between",alignItems:"center"}},r.a.createElement(Ie.b,{to:"/media/album"},r.a.createElement("h3",null,r.a.createElement(i.a,{type:"arrow-left",style:{marginRight:".5rem"}}),"List album")),r.a.createElement("span",{style:{color:"red",cursor:"pointer"},onClick:function(){return N(!0)}},"Delete album")),r.a.createElement(Kt.a.Group,{style:{width:"100%"},onChange:function(e){p(e),console.log(e)},value:d},r.a.createElement("div",null,re)),A&&r.a.createElement(fa.a,{mainSrc:JSON.parse(w[B]).url,nextSrc:JSON.parse(w[(B+1)%w.length]).url,prevSrc:JSON.parse(w[(B+w.length-1)%w.length]).url,onCloseRequest:function(){return x(!1)},onMovePrevRequest:function(){return Y((B+w.length-1)%w.length)},onMoveNextRequest:function(){return Y((B+1)%w.length)}})),r.a.createElement(Qe.a,{md:8,className:"create-album"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement(i.a,{onClick:function(){return v(!1)},type:"close",style:{marginRight:"5px",fontSize:"15px"}}),"Update Album")),r.a.createElement("input",{className:"input-album-name",placeholder:"Nh\u1eadp t\xean album",value:l.albumName,name:"name",onChange:function(e){return function(e){o(Object(I.a)({},l,{albumName:e.target.value}))}(e)}}),r.a.createElement("p",{className:"add-images"},"Add Image"),"pickFromComp"===F&&r.a.createElement(Oa,{setImagesForAlbum:P,submitCreateAndUpdateAlbum:ee,refetch:Q,imagesForAlbum:w,setPickDataImages:ae,removeAlbumName:ne}),"pickFromLibary"===H&&r.a.createElement(Ia,{setImagesForAlbum:P,submitCreateAndUpdateAlbum:ee,refetch:Q,imagesForAlbum:w,setPickDataImages:ae,removeAlbumName:ne}),""===H?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"create-album-pick",onClick:function(){return z(Object(et.a)({fromComp:"f"},"fromComp","pickFromComp"))}},r.a.createElement(i.a,{type:"plus",style:{marginRight:".5rem"}}),"Select photo from the computer"),r.a.createElement("div",{className:"create-album-pick",onClick:function(){return z(Object(I.a)({},L,{fromLibary:"pickFromLibary"}))}},r.a.createElement(i.a,{type:"search",style:{marginRight:".5rem"}}),"Select photo from the library")):null,""===F&&""===H?r.a.createElement("div",{style:{margin:"0 2rem"}},r.a.createElement(u.a,{onClick:ee,style:{width:"100%"}},"Submit")):null)),r.a.createElement(Ze.a,{title:"Confirm !",visible:j,onCancel:function(){return N(!1)},onOk:function(){return Z()},okText:r.a.createElement(Ie.b,{to:"/media/album"},"Ok"),cancelText:"Cancel"},r.a.createElement("p",null,"Do you want to delete this album ?")))};function Pa(){var e=Object(Te.a)(['\n  query {\n    __type(name: "eventPaymentType") {\n      name\n      enumValues {\n        name\n      }\n    }\n  }\n']);return Pa=function(){return e},e}function Ta(){var e=Object(Te.a)(['\n  query {\n    __type(name: "promotionType") {\n      enumValues {\n        name\n        description\n      }\n    }\n  }\n']);return Ta=function(){return e},e}function ka(){var e=Object(Te.a)(['\n   query{\n    __type(name:"','"){\n        name,\n        enumValues{\n          name\n          description\n        }\n      }\n   }\n']);return ka=function(){return e},e}var Aa=Object(ke.b)(ka(),"productPaymentType"),xa=Object(ke.b)(Ta()),Da=Object(ke.b)(Pa()),Ma=(a(112),a(113));function Ba(){var e=Object(Te.a)(["\n  query listChargesByType(\n    $currentPage: Int!\n    $pageSize: Int!\n    $type: Int!\n    $search: String\n    $fromDate: String!\n    $toDate: String!\n  ) {\n    listChargesByType(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      type: $type\n      search: $search\n      fromDate: $fromDate\n      toDate: $toDate\n    ) {\n      count\n      rows {\n        createAt\n        chargeId\n        userId\n        baseCoin\n        price\n        paymentType\n        status\n        user {\n          username\n          nickname\n        }\n      }\n    }\n  }\n"]);return Ba=function(){return e},e}function Ya(){var e=Object(Te.a)(["\nquery listProducts( $productId: String){\n  listProducts(productId:$productId){\n    productName\n    type\n    sort\n    price\n    status\n    image\n  }\n}\n"]);return Ya=function(){return e},e}function Ra(){var e=Object(Te.a)(["\n  query listProductsByPaymentType(\n    $currentPage: Int!\n    $pageSize: Int!\n    $type: String\n    $productName: String\n  ) {\n    listProductsByPaymentType(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      type: $type\n      productName: $productName\n    ) {\n      count\n      rows {\n        baseCoin\n        type\n        discount\n        productId\n        productName\n        price\n      }\n    }\n  }\n"]);return Ra=function(){return e},e}var Ua=Object(ke.b)(Ra()),La=Object(ke.b)(Ya()),za=Object(ke.b)(Ba());function Ga(e){Ze.a.error({title:"Something went wrong!",content:e})}function Fa(){var e=Object(Te.a)(["\n  query chartCachePartnerChargeByDates(\n    $fromDate: String!\n    $toDate: String!\n  ) {\n    chartCachePartnerChargeByDates(\n      fromDate: $fromDate\n      toDate: $toDate\n    ) {\n      xAxis\n      yAxis\n    }\n  }\n"]);return Fa=function(){return e},e}function Ha(){var e=Object(Te.a)(["\n  query listCacheChargesByDate($fromDate: String!, $toDate: String!) {\n    listCacheChargesByDate(fromDate: $fromDate, toDate: $toDate) {\n      xAxis\n      yAxis\n    }\n  }\n"]);return Ha=function(){return e},e}var qa=Object(ke.b)(Ha()),Ja=Object(ke.b)(Fa());function _a(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e}var Va={scaleStartValue:0,tooltips:{callback:function(e){return _a(e)}},scales:{yAxes:[{ticks:{steps:10,stepValue:1e4,beginAtZero:!0,min:0,gridLines:{drawTicks:!0},callback:function(e,t){return _a(e)}},scaleLabel:{display:!0,labelString:"Ti\u1ec1n (VN\u0110)"}}]},legend:{position:"top",display:!0}},Ka={scaleStartValue:0,tooltips:{callback:function(e){return _a(e)}},scales:{yAxes:[{ticks:{steps:10,stepValue:1e4,beginAtZero:!0,min:0,gridLines:{drawTicks:!0},callback:function(e,t){return _a(e)}}}]},legend:{position:"top",display:!0}},$a={TODAY:Ge()().subtract(1,"days").format("YYYY-MM-DD"),THREE_DAY_AGO:Ge()().subtract(3,"days").format("YYYY-MM-DD"),SEVENT_DAY_AGO:Ge()().subtract(7,"days").format("YYYY-MM-DD"),FOURTEEN_DAY_AGO:Ge()().subtract(14,"days").format("YYYY-MM-DD"),THIRTY_DAY_AGO:Ge()().subtract(30,"days").format("YYYY-MM-DD")},Qa={THISMONTH:Ge()().subtract(1,"months").format("YYYY-MM"),THREE_MONTHS_AGO:Ge()().subtract(3,"months").format("YYYY-MM"),SIX_MONTHS_AGO:Ge()().subtract(6,"months").format("YYYY-MM"),ONE_YEAR_AGO:Ge()().subtract(1,"years").format("YYYY-MM")},Wa=Pe.a.Option,Xa=[{days:"Last 3 days",variables:"THREE_DAY_AGO"},{days:"Last 7 days",variables:"SEVENT_DAY_AGO"},{days:"Last 14 days",variables:"FOURTEEN_DAY_AGO"},{days:"Last 30 days",variables:"THIRTY_DAY_AGO"}],Za=function(e){var t=Object(n.useState)({fromDate:$a.SEVENT_DAY_AGO,toDate:$a.TODAY,fromDateCustom:null,toDateCustom:null}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({xAxis:[],yAxis:[]}),s=Object(y.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)(!1),f=Object(y.a)(d,2),E=f[0],b=f[1],h=c.fromDate,v=c.toDate,g=c.fromDateCustom,O=c.toDateCustom,j=$a.TODAY,N=Object(Re.a)(qa,{onCompleted:function(t){u({xAxis:JSON.parse(t.listCacheChargesByDate.xAxis),yAxis:JSON.parse(t.listCacheChargesByDate.yAxis)});var a=JSON.parse(t.listCacheChargesByDate.yAxis).map((function(e,t){return e[0].money})).reduce((function(e,t){return e+t}));e.setTotalIndex(Object(I.a)({},e.totalIndex,{totalMoney:a}))},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),C=Object(y.a)(N,1)[0],S=Object(Re.a)(za,{variables:{currentPage:1,type:1,pageSize:10,search:"",fromDate:h,toDate:v},onCompleted:function(t){e.setTotalIndex(Object(I.a)({},e.totalIndex,{totalPurchase:t.listChargesByType.count}))},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),w=Object(y.a)(S,1)[0];Object(n.useEffect)((function(){C({variables:{fromDate:h,toDate:v}}),w()}),[]);var P=function(){b(!E)},T=function(){C({variables:{fromDate:g,toDate:O}}),b(!E)},k=function(e){var t=[];m.yAxis.map((function(a,n){return a.map((function(a,n){a.paymentType===e&&t.push(a.money)}))}));return t},A={labels:m.xAxis,datasets:[{label:"ALL",fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("ALL")},{label:"GATE",fill:!1,backgroundColor:"#ffd54f",borderColor:"#ffd54f",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("GATE")},{label:"MOMO",fill:!1,backgroundColor:"#fcaf18",borderColor:"#fcaf18",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("MOMO")},{label:"NGANLUONG",fill:!1,backgroundColor:"#4280ad",borderColor:"#4280ad",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("NGANLUONG")}]},x=Xa.map((function(e,t){return r.a.createElement(Wa,{value:e.variables,key:t},e.days)}));return r.a.createElement("div",{className:"line_chart"},r.a.createElement("div",{className:"chart-charges-title"},r.a.createElement("h2",null,"Trend"),r.a.createElement(Pe.a,{defaultValue:"SEVENT_DAY_AGO",style:{width:120},onChange:function(e){var t;t=e,l(Object(I.a)({},c,{fromDate:$a[t],toDate:j})),C({variables:{fromDate:$a[t],toDate:j}})},className:"select-charges-date"},x,r.a.createElement(Wa,{value:"5",onClick:P},"Custom...")),E&&r.a.createElement("div",{className:"modal_datepicker-chartCoin"},r.a.createElement(Xe.a,{allowClear:!1,disabledDate:function(e){if(null!=g)return e&&e<Ge()(g).subtract(1,"days").endOf("day")||e>Ge()().endOf("day")},format:"YYYY-MM-DD",value:null==g?null:Ge()(g,"YYYY-MM-DD"),placeholder:"StartDate",onChange:function(e){return t=e,void l(null==g?Object(I.a)({},c,{fromDateCustom:t}):Object(I.a)({},c,{toDateCustom:Ge()(t).format("YYYY-MM-DD")}));var t},className:"input_date_chart",open:!0,dropdownClassName:"calendar-select-chartsCoin",renderExtraFooter:function(){return r.a.createElement("div",{className:"datepicker_footer"},r.a.createElement("span",{onClick:function(){return l(Object(I.a)({},c,{fromDateCustom:null,toDateCustom:null}))}},"CLEAR"),r.a.createElement("span",{onClick:P},"CANCEL"),r.a.createElement("span",{style:{color:"#0085ff"},onClick:T},"APPLY"))}}),r.a.createElement(p.a,{open:!0,value:O,placeholder:"EndDate",suffix:r.a.createElement(i.a,{type:"calendar",style:{color:"#9e9e9e"}}),className:"input_date_chart"}))),r.a.createElement(Ma.a,{data:A,width:100,height:40,options:Va}))},en=function(e,t){return e.filter((function(e,a){return e.name===t}))[0].description},tn=Pe.a.Option,an=[{days:"Last 3 days",variables:"THREE_DAY_AGO"},{days:"Last 7 days",variables:"SEVENT_DAY_AGO"},{days:"Last 14 days",variables:"FOURTEEN_DAY_AGO"},{days:"Last 30 days",variables:"THIRTY_DAY_AGO"}];var nn=Object(he.b)((function(e){return{listPaymentType:e.listPaymentType}}),null)((function(e){var t=Object(n.useState)({currentPage:1,type:1,pageSize:10,search:"",fromDate:"",toDate:""}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),s=Object(y.a)(o,2),m=s[0],u=s[1],d=c.currentPage,p=c.pageSize,f=c.type,E=c.search,b=c.fromDate,h=c.toDate,v=$a.TODAY,g=Object(Re.a)(za,{onCompleted:function(e){console.log(e),u(e)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),O=Object(y.a)(g,2),j=O[0],N=O[1],C=N.loading;N.data,N.error,Object(n.useEffect)((function(){j({variables:{currentPage:d,type:f,pageSize:p,search:E,fromDate:b,toDate:h}})}),[]);var S=[{title:"Purchase Coin ID",dataIndex:"chargeId",key:"chargeId",width:"14%",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"C.coin",dataIndex:"baseCoin",key:"baseCoin",width:"10%"},{title:"UserName",dataIndex:"user",key:"userName",width:"20%",render:function(e){return r.a.createElement("span",null,null!==e?e.username:null)}},{title:"Type",dataIndex:"paymentType",key:"paymenttype",width:"18%",render:function(t){return r.a.createElement("span",null,en(e.listPaymentType,t))}},{title:"Time",dataIndex:"createAt",key:"createAt",width:"23%",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY"))}},{title:"Status",dataIndex:"status",key:"status",width:"15%"}],w=an.map((function(e,t){return r.a.createElement(tn,{value:e.variables,key:t},e.days)}));return C?"Loading...":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"History Purchase"),r.a.createElement("div",{className:"view-more"},r.a.createElement(Ie.b,{className:"btn-view-more",to:"/payment/coin/charges/detail"},"Detail ",r.a.createElement(i.a,{type:"double-right"})),r.a.createElement(Pe.a,{defaultValue:"SEVENT_DAY_AGO",style:{width:120},onChange:function(e){var t;t=e,l(Object(I.a)({},c,{fromDate:$a[t],toDate:v})),j({variables:{fromDate:$a[t],toDate:v,currentPage:d,type:f,pageSize:p,search:E}})},className:"select-charges-date"},w)))),m&&r.a.createElement(Se.a,{columns:S,dataSource:m.listChargesByType.rows,pagination:!1}))}));function rn(){var e=Object(Te.a)(["\nmutation deleteProducts($ids:[String]!){\n    deleteProducts(ids:$ids){\n        productName\n        status\n    }\n}\n"]);return rn=function(){return e},e}function cn(){var e=Object(Te.a)(["\n  mutation createProduct($req: ProductRequest!) {\n    createProduct(req: $req) {\n      productName\n      type\n      sort\n      price\n      status\n      baseCoin\n    }\n  }\n"]);return cn=function(){return e},e}function ln(){var e=Object(Te.a)(["\n  mutation updateProduct($productId: String!, $req: ProductRequest!) {\n    updateProduct(productId: $productId, req: $req) {\n      productName\n    }\n  }\n"]);return ln=function(){return e},e}var on=Object(ke.b)(ln()),sn=Object(ke.b)(cn()),mn=Object(ke.b)(rn()),un=Pe.a.Option,dn={display:"block",height:"24px",lineHeight:"30px"};var pn=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=localStorage.getItem("userNameCMS"),a=(new URLSearchParams(window.location.search).get("productId"),Object(n.useState)({statusBtnCancel:!1,oldData:{productName:"",type:"",sort:null,price:null,status:"INPUT"}})),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)({productName:"",type:"",sort:null,price:null,status:"INPUT"}),m=Object(y.a)(s,2),d=m[0],f=m[1],E=Object(n.useState)({isShow:!1,content:"Do you want to countinue creating a new C.coin package?",isDelete:!1,confirmBtn:"Back"}),b=Object(y.a)(E,2),h=b[0],v=b[1];Object(n.useEffect)((function(){te(null)}),[]);var g=d.productName,O=d.status,j=d.price,N=d.sort,C=d.type,S=Object(Re.b)(sn,{variables:{req:{productName:g+" coin",sort:Number(N),price:Number(j),baseCoin:Number(g),type:C,status:O,image:e.urlImgThumbnail}},onCompleted:function(e){console.log(e)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),w=Object(y.a)(S,1)[0],P=function(e){f(Object(I.a)({},d,Object(et.a)({},e.target.name,e.target.value))),o(Object(I.a)({},l,{statusBtnCancel:!1}))},T=e.data.__type.enumValues.map((function(e,t){return r.a.createElement(un,{value:e.name,key:t},e.description)}));return r.a.createElement($e.a,null,r.a.createElement("a",{onClick:function(){return v(Object(I.a)({},h,{isShow:!0}))}},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back")),r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"Create new C.coin"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(u.a,{onClick:function(){return v(Object(I.a)({},h,{isShow:!0}))},disabled:l.statusBtnCancel,style:{marginRight:".5rem"}},"Cancel"),r.a.createElement(u.a,{onClick:function(){w().then((function(e){e&&(v(Object(I.a)({},h,{isShow:!0,content:"Create new C.coin package successful !"})),f(l.oldData),te(null))}))},disabled:""===g||""===C||null===N||null===j||""===O||null===e.urlImgThumbnail},"Create C.coin"))))),r.a.createElement($e.a,{className:"products-content"},r.a.createElement(Qe.a,{md:12,className:"section1-listcoin"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"C.coin Id"),r.a.createElement("span",null,"Id: AUTO "))),r.a.createElement("div",{className:"product-input-update"},r.a.createElement("span",{className:"edit-product-content-title"},"C.coin number"),r.a.createElement(p.a,{type:"number",min:"0",name:"productName",onChange:P,value:g}),r.a.createElement("span",{className:"edit-product-content-title"},"Price (VN\u0110)"),r.a.createElement(p.a,{type:"number",max:"9990000000",name:"price",onChange:P,value:j}),r.a.createElement("div",null,r.a.createElement(Qe.a,null,r.a.createElement("span",{className:"edit-product-content-title"},"Sort"),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(p.a,{style:{width:"4rem"},type:"number",max:"10",min:"1",name:"sort",onChange:P,value:N}),r.a.createElement("span",{style:{paddingLeft:".2rem"}},"/10")))),r.a.createElement("div",null,r.a.createElement("span",{className:"edit-product-content-title"},"Image")),r.a.createElement("div",{style:{width:"100px"}},null===e.urlImgThumbnail?r.a.createElement("i",null,"Thumbnail image is emtry"):r.a.createElement("img",{src:e.urlImgThumbnail,width:"100%"})),r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){return Z(!0)}},"Get image")))),r.a.createElement(Qe.a,{md:6,className:"section2"},r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Status"),r.a.createElement(mt.a.Group,{onChange:function(e){f(Object(I.a)({},d,Object(et.a)({},e.target.name,e.target.value)))},name:"status",value:O},r.a.createElement(mt.a,{style:dn,value:"INPUT"},"INPUT"),r.a.createElement(mt.a,{style:dn,value:"COMPLETE"},"COMPLETE"),r.a.createElement(mt.a,{style:dn,value:"DELETE"},"DELETE"))),r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement("p",{className:"edit-product-content-title"},"Create"),r.a.createElement("span",null,"Admin: ",r.a.createElement("span",null,t)))),r.a.createElement(Qe.a,{md:6,className:"section2"},r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Payment Type"),r.a.createElement(Pe.a,{value:C,style:{width:"100%"},onChange:function(e){f(Object(I.a)({},d,{type:e}))}},T))),r.a.createElement(ea,{isThumbnail:!0})),r.a.createElement(Ze.a,{title:"Confirm !",visible:h.isShow,okText:"Back",cancelText:"Next",onOK:function(){console.log("fsfsf")},onCancel:function(){v(Object(I.a)({},h,{isShow:!1}))}},r.a.createElement("p",null,h.content)))})),fn={display:"block",height:"30px",lineHeight:"30px"};var En=function(e){var t=Object(n.useState)({currentPage:1,type:"",pageSize:100,productName:"",listTypePayment:[{name:"",description:""}]}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),s=Object(y.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)([]),f=Object(y.a)(p,2),h=f[0],v=f[1],g=c.currentPage,O=c.type,j=c.pageSize,N=c.listTypePayment,C=c.productName,S=Object(Re.a)(Ua,{fetchPolicy:"cache-and-network",onCompleted:function(e){d(e)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),w=Object(y.a)(S,2),P=w[0],T=w[1],k=T.loading,A=T.refetch,x=(Object(Re.c)(Aa,{onCompleted:function(e){console.log(e),l(Object(I.a)({},c,{listTypePayment:e.__type.enumValues})),ye(e.__type.enumValues)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}).data,Object(Re.b)(mn,{variables:{ids:h},onError:function(e){return Ga(e.networkError.result.errors[0].message)}})),D=Object(y.a)(x,1)[0];Object(n.useEffect)((function(){P({variables:{currentPage:g,type:O,pageSize:j,productName:C}})}),[]);var M=function(e){l(Object(I.a)({},c,{type:e.target.value}))},B=function(){P({variables:{currentPage:g,type:O,pageSize:j,productName:C}})},Y=function(){P({variables:{currentPage:g,type:"",pageSize:j,productName:C}})},R=[{title:"C.coin Id",dataIndex:"productId",key:"productId",width:"15%",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"C.coin Name",dataIndex:"productName",key:"productName",width:"20%"},,{title:"Price (VND)",dataIndex:"price",key:"price",render:function(e){return r.a.createElement("span",null,e.toLocaleString()," \u0111")},width:"20%"},{title:"Promotion",dataIndex:"discount",key:"discount",width:"10%"},{title:"Type",dataIndex:"type",key:"type",width:"20%",render:function(e){return r.a.createElement("span",null,en(N,e))},filterDropdown:function(){return r.a.createElement("div",{style:{padding:8}},r.a.createElement(mt.a.Group,{onChange:M,value:O},z),r.a.createElement(u.a,{type:"primary",onClick:B,size:"small",style:{width:90,marginRight:8}},"Filter"),r.a.createElement(u.a,{onClick:Y,size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(i.a,{type:"filter",theme:"filled",style:{color:e?"#1890ff":"#fafafa"}})}},{title:"Action",key:"action",width:"15%",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(Ie.b,{to:"/payment/coin/edit?productId=".concat(t.productId)},"Edit"))}}],U={onChange:function(e,t){var a=t.map((function(e,t){return e.productId}));v(a)}},L=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:e.sent,A();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=N.map((function(e,t){return r.a.createElement(mt.a,{style:fn,value:e.name,key:t},e.name)})),G=h.length>0;return k?r.a.createElement(Qe.a,{md:12},r.a.createElement("p",null,"loading...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"C.coin managerment"),r.a.createElement("div",{className:"view-more"},r.a.createElement(Ie.b,{to:"/payment/coin",onClick:function(){return e.setIsCreateCoin(!0)}},r.a.createElement(u.a,{icon:"plus"},"Add new C.coin package")),r.a.createElement(u.a,{disabled:!G,onClick:L,style:{marginLeft:".25rem"}},"Delete")))),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{rowSelection:U,columns:R,dataSource:m.listProductsByPaymentType.rows})))};var bn=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({totalMoney:0,totalPurchase:0}),i=Object(y.a)(o,2),s=i[0],m=i[1],u=Object(Re.c)(Aa).data;return console.log(c),c?r.a.createElement(pn,{setIsCreateCoin:l,data:u}):!1===c?r.a.createElement($e.a,null,r.a.createElement(Qe.a,{md:24},r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(Qe.a,{md:12,style:{paddingRight:".5rem"}},r.a.createElement("h2",null,"C.coin exchange Total"),r.a.createElement("div",{className:"total-revenue"},r.a.createElement("span",null,_a(s.totalMoney)),r.a.createElement("p",null,"VN\u0110"))),r.a.createElement(Qe.a,{md:12,style:{paddingLeft:".5rem"}},r.a.createElement("h2",null,"Total Purchase times"),r.a.createElement("div",{className:"total-revenue"},r.a.createElement("span",null,_a(s.totalPurchase)),r.a.createElement("p",null,"times")))),r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(Za,{setTotalIndex:m,totalIndex:s}))),r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(En,{setIsCreateCoin:l})),r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(nn,{setTotalIndex:m,totalIndex:s}))):void 0};function yn(){var e=Object(Te.a)(["\n  query listPartnerProducts($partnerId: String) {\n    listPartnerProducts(partnerId: $partnerId) {\n      productName\n      partnerProductId\n    }\n  }\n"]);return yn=function(){return e},e}function hn(){var e=Object(Te.a)(['\n  query{\n    listPartnerProducts(partnerId:"','"){\n      productName\n      productId\n      partnerProductId\n    }\n  }\n']);return hn=function(){return e},e}function vn(){var e=Object(Te.a)(["\n  query listPartnerProducts($partnerProductId: String) {\n    listPartnerProducts(partnerProductId: $partnerProductId) {\n      status\n      productName\n      partnerId\n      partnerProductName\n      coin\n      productId\n      image\n    }\n  }\n"]);return vn=function(){return e},e}function gn(){var e=Object(Te.a)(["\n  query listPartnerChargesByType(\n    $currentPage: Int!\n    $pageSize: Int!\n    $type: Int!\n    $partnerId: String\n    $os: String\n    $userType: String\n    $search: String\n    $status: String\n    $fromDate: String!\n    $toDate: String!\n  ) {\n    listPartnerChargesByType(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      type: $type\n      fromDate: $fromDate\n      search: $search\n      status: $status\n      toDate: $toDate\n      partnerId: $partnerId\n      os: $os\n      userType: $userType\n    ) {\n      count\n      rows {\n        partnerChargeCode\n        payload\n        user {\n          username\n          nickname\n        }\n        coin\n        partner {\n          partnerName\n        }\n        partnerProduct {\n          productName\n        }\n        promotionRef\n        createAt\n        status\n      }\n    }\n  }\n"]);return gn=function(){return e},e}function On(){var e=Object(Te.a)(['\n  query{\n listRefPartnerProducts(partnerId:"','"){\n    productId\n    productName\n  }\n}\n  ']);return On=function(){return e},e}function jn(){var e=Object(Te.a)(["\n  query listPartnerProductsByPartner(\n    $currentPage: Int!\n    $pageSize: Int!\n    $partnerId: String!\n    $partnerProductName: String!\n  ) {\n    listPartnerProductsByPartner(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      partnerId: $partnerId\n      partnerProductName: $partnerProductName\n    ) {\n      count\n      rows {\n        partnerProductId\n        partnerId\n        productName\n        coin\n        createAt\n        partner {\n          partnerName\n        }\n      }\n    }\n  }\n"]);return jn=function(){return e},e}var In=Object(ke.b)(jn()),Nn=function(e){return Object(ke.b)(On(),e)},Cn=Object(ke.b)(gn()),Sn=Object(ke.b)(vn()),wn=function(e){return Object(ke.b)(hn(),e)},Pn=Object(ke.b)(yn());function Tn(){var e=Object(Te.a)(["\nmutation deletePartnerProducts($ids:[String]!){\n    deletePartnerProducts(ids:$ids){\n        productName\n        status\n    }\n}\n"]);return Tn=function(){return e},e}function kn(){var e=Object(Te.a)(["\n  mutation createPartnerProduct($req: PartnerProductRequest!) {\n    createPartnerProduct(req: $req) {\n      partnerProductId\n      partnerId\n      productName\n      coin\n      createAt\n      status\n      partnerProductName\n      productId\n      image\n    }\n  }\n"]);return kn=function(){return e},e}function An(){var e=Object(Te.a)(["\n  mutation updatePartnerProduct($partnerProductId: String!, $req: PartnerProductRequest!) {\n    updatePartnerProduct(partnerProductId: $partnerProductId, req: $req) {\n      partnerProductId\n      partnerId\n      productName\n      coin\n      createAt\n      status\n      partnerProductName\n      productId\n    }\n  }\n"]);return An=function(){return e},e}var xn=Object(ke.b)(An()),Dn=Object(ke.b)(kn()),Mn=Object(ke.b)(Tn()),Bn=Pe.a.Option,Yn={display:"block",height:"24px",lineHeight:"30px"};var Rn=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=localStorage.getItem("userNameCMS"),a=new URLSearchParams(window.location.search).get("partnerProductId"),c=Object(n.useState)({statusBtnCancel:!1,oldData:{productName:"",partnerId:"",productId:"",coin:"",partnerProductName:"",promotionId:"",status:""}}),l=Object(y.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)([]),d=Object(y.a)(m,2),f=d[0],h=d[1],v=Object(n.useState)([]),g=Object(y.a)(v,2),O=g[0],j=g[1],N=Object(n.useState)({productName:"",partnerId:"",productId:"",coin:"",partnerProductName:"",promotionId:"",status:""}),C=Object(y.a)(N,2),S=C[0],w=C[1],P=Object(n.useState)({isShow:!1,content:"Do you want to countinue creating a new Item ?",isDelete:!1,confirmBtn:"Back"}),T=Object(y.a)(P,2),k=T[0],A=T[1];Object(n.useEffect)((function(){te(null)}),[]);var x=Object(Re.c)(ht(),{onCompleted:function(e){h(e.listPartners)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),D=(x.loading,x.error,x.data,S.productName),M=S.status,B=S.productId,Y=S.coin,R=S.partnerProductName,U=S.partnerId,L=S.promotionId,z=Object(Re.a)(Nn(U),{onCompleted:function(e){j(e.listRefPartnerProducts)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),G=Object(y.a)(z,1)[0],F=Object(Re.b)(Dn,{variables:{req:{productName:D,status:M,partnerId:U,productId:B,coin:Number(Y),partnerProductName:R,promotionId:Number(L),image:e.urlImgThumbnail}},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),H=Object(y.a)(F,1)[0],q=function(e){w(Object(I.a)({},S,Object(et.a)({},e.target.name,e.target.value))),s(Object(I.a)({},o,{statusBtnCancel:!1}))},J=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(Object(I.a)({},S,{partnerProductName:JSON.parse(t).productName,productId:JSON.parse(t).productId}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _(){return(_=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(Object(I.a)({},S,{partnerId:t}));case 2:G();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=f.map((function(e,t){return r.a.createElement(Bn,{value:e.partnerId,key:t},e.partnerName)})),K=O.map((function(e,t){return t<=0?null:r.a.createElement(Bn,{value:'{"productId":"'.concat(e.productId,'","productName":"').concat(e.productName,'"}'),key:t},e.productName)}));return r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/payment/items",onClick:function(){return A(Object(I.a)({},k,{isShow:!0}))}},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back")),r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"Create Item"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(u.a,{onClick:function(){return A(Object(I.a)({},k,{isShow:!0}))},disabled:o.statusBtnCancel,style:{marginRight:".5rem"}},"Cancel"),r.a.createElement(u.a,{onClick:function(){H().then((function(e){e&&(alert("Task is completed !"),s(Object(I.a)({},o,{statusBtnCancel:!0})),w(o.oldData))}))},disabled:""===D||""===U||""===B||""===Y||""===R||0===L||""===M},"Add new Item"))))),r.a.createElement($e.a,{className:"products-content"},r.a.createElement(Qe.a,{md:12,className:"section1-listcoin"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Item Id"),r.a.createElement("span",null,"Id: AUTO ",a," "))),r.a.createElement("div",{className:"product-input-update"},r.a.createElement("span",{className:"edit-product-content-title"},"Platform"),r.a.createElement(Pe.a,{value:U,style:{width:"100% !important"},onChange:function(e){return _.apply(this,arguments)}},V),r.a.createElement("span",{className:"edit-product-content-title"},"ProductIdAndName"),r.a.createElement(Pe.a,{value:""===B?null:'{"productId":"'.concat(B,'","productName":"').concat(R,'"}'),style:{width:"100%",marginTop:"0"},onChange:J,disabled:0===O.length},K),r.a.createElement("span",{className:"edit-product-content-title"},"Item name"),r.a.createElement(p.a,{value:D,name:"productName",onChange:q}),r.a.createElement("span",{className:"edit-product-content-title"},"Price (C.coin)"),r.a.createElement(p.a,{value:Y,type:"number",max:"9990000000",name:"coin",onChange:q}),r.a.createElement("div",null,r.a.createElement("span",{className:"edit-product-content-title"},"Image")),r.a.createElement("div",{style:{width:"100px"}},null===e.urlImgThumbnail?r.a.createElement("i",null,"Thumbnail image is emtry"):r.a.createElement("img",{src:e.urlImgThumbnail,width:"100%"})),r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){return Z(!0)}},"Select")))),r.a.createElement(Qe.a,{md:8,className:"section2"},r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Status"),r.a.createElement(mt.a.Group,{value:M,onChange:function(e){w(Object(I.a)({},S,{status:e.target.value}))}},r.a.createElement(mt.a,{style:Yn,value:"INPUT"},"INPUT"),r.a.createElement(mt.a,{style:Yn,value:"COMPLETE"},"COMPLETE"),r.a.createElement(mt.a,{style:Yn,value:"DELETE"},"DELETE"))),r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement("p",{className:"edit-product-content-title"},"Admin"),r.a.createElement("span",null,"Admin: ",r.a.createElement("span",null,t)))),r.a.createElement(ea,{isThumbnail:!0})),r.a.createElement(Ze.a,{title:"Confirm !",visible:k.isShow,okText:"Back",cancelText:"Next",onOK:function(e){console.log(e)},onCancel:function(){A(Object(I.a)({},k,{isShow:!1}))}},r.a.createElement("p",null,k.content)))})),Un=Pe.a.Option,Ln=[{days:"Last 3 days",variables:"THREE_DAY_AGO"},{days:"Last 7 days",variables:"SEVENT_DAY_AGO"},{days:"Last 14 days",variables:"FOURTEEN_DAY_AGO"},{days:"Last 30 days",variables:"THIRTY_DAY_AGO"}];var zn=function(){var e=Object(n.useState)({currentPage:1,type:1,pageSize:10,search:"",fromDate:"",toDate:"",userType:"",partnerId:"",os:""}),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(y.a)(l,2),s=o[0],m=o[1],u=a.currentPage,d=a.pageSize,p=a.type,f=a.userType,E=a.os,b=a.partnerId,h=a.search,v=a.fromDate,g=a.toDate,O=$a.TODAY,j=Object(Re.a)(Cn,{onCompleted:function(e){m(e)}}),N=Object(y.a)(j,2),C=N[0],S=N[1],w=S.loading;S.data,Object(n.useEffect)((function(){C({variables:{currentPage:u,type:p,pageSize:d,search:h,fromDate:v,toDate:g,userType:f,os:E,partnerId:b}})}),[]);var P=[{title:"Purchase Item ID",dataIndex:"partnerChargeCode",key:"chargeId",width:"18%",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"UserName",dataIndex:"user",key:"userName",width:"15%",render:function(e){return r.a.createElement("span",null,null!==e?e.username:null)}},{title:"C.coin",dataIndex:"coin",key:"coin",width:"15%"},{title:"Game",dataIndex:"partner",key:"partner",width:"17%",render:function(e){return r.a.createElement("span",null,e.partnerName)}},{title:"Time",dataIndex:"createAt",key:"createAt",width:"20%",render:function(e){return r.a.createElement(we.a,{title:Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY")},r.a.createElement("span",{className:"convert-col"},Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY")))}},{title:"Status",dataIndex:"status",key:"status",width:"15%",render:function(e){return r.a.createElement("span",{className:"convert-col"},"INPUT"===e?"PENDING":"DONE")}}],T=Ln.map((function(e,t){return r.a.createElement(Un,{value:e.variables,key:t},e.days)}));return w?"Loading...":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"History purchase"),r.a.createElement("div",{className:"view-more"},r.a.createElement(Ie.b,{to:"/payment/item/charges/detail",className:"btn-view-more"},"Detail ",r.a.createElement(i.a,{type:"double-right"})),r.a.createElement(Pe.a,{defaultValue:"SEVENT_DAY_AGO",style:{width:120},onChange:function(e){var t;t=e,c(Object(I.a)({},a,{fromDate:$a[t],toDate:O})),C({variables:{fromDate:$a[t],toDate:O,currentPage:u,type:p,pageSize:d,search:h,userType:f,os:E,partnerId:b}})},className:"select-charges-date"},T)))),s&&r.a.createElement(Se.a,{columns:P,dataSource:s.listPartnerChargesByType.rows,pagination:!1}))};function Gn(){var e=Object(Te.a)(["\n      query {\n        listPartners {\n          partnerId\n          partnerName\n        }\n      }\n    "]);return Gn=function(){return e},e}var Fn=Object(ke.b)(Gn()),Hn=(a(144),Pe.a.Option),qn=[{days:"3 days ago",variables:"THREE_DAY_AGO"},{days:"7 days ago",variables:"SEVENT_DAY_AGO"},{days:"14 days ago",variables:"FOURTEEN_DAY_AGO"},{days:"30 days ago",variables:"THIRTY_DAY_AGO"}];var Jn=Object(he.b)((function(e){return{listPartner:e.listPartner}}),null)((function(e){var t=Object(n.useState)({fromDate:$a.SEVENT_DAY_AGO,toDate:$a.TODAY,fromDateCustom:null,toDateCustom:null}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(y.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)({xAxis:[],yAxis:[]}),f=Object(y.a)(d,2),E=f[0],b=f[1],h=c.fromDate,v=c.toDate,g=c.fromDateCustom,O=c.toDateCustom,j=$a.TODAY,N=Object(Re.a)(Ja,{onCompleted:function(t){console.log(t),b({xAxis:JSON.parse(t.chartCachePartnerChargeByDates.xAxis),yAxis:JSON.parse(t.chartCachePartnerChargeByDates.yAxis)});var a=JSON.parse(t.chartCachePartnerChargeByDates.yAxis).map((function(e,t){return e[0].coin})).reduce((function(e,t){return e+t}),0);e.setTotalIndex(Object(I.a)({},e.totalIndex,{totalMoney:a}))}}),C=Object(y.a)(N,1)[0],S=Object(Re.a)(Cn,{onCompleted:function(t){console.log(t),e.setTotalIndex(Object(I.a)({},e.totalIndex,{totalPurchase:t.listPartnerChargesByType.count}))}}),w=Object(y.a)(S,1)[0];Object(n.useEffect)((function(){C({variables:{fromDate:h,toDate:v}}),w({variables:{currentPage:1,type:1,pageSize:10,search:"",fromDate:h,toDate:v,userType:"",os:"",partnerId:""}})}),[]);var P=function(){u(!m)},T=function(){C({variables:{fromDate:g,toDate:O}}),w({variables:{currentPage:1,type:1,pageSize:10,search:"",fromDate:g,toDate:O,userType:"",os:"",partnerId:""}}),u(!m)},k=function(e){var t=[];E.yAxis.map((function(a,n){return a.map((function(a,n){a.partner===e&&t.push(a.coin)}))}));return t},A={labels:E.xAxis,datasets:[{label:"Total",fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("Total")},{label:"3Q Zombie",fill:!1,backgroundColor:"#ffd54f",borderColor:"#ffd54f",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("3Q Zombie")},{label:"Li\xean Qu\xe2n Ma Thu\u1eadt",fill:!1,backgroundColor:"#fcaf18",borderColor:"#fcaf18",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("Li\xean Qu\xe2n Ma Thu\u1eadt")},{label:"Wara Store",fill:!1,backgroundColor:"#4280ad",borderColor:"#4280ad",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:k("Wara Store")}]},x=qn.map((function(e,t){return r.a.createElement(Hn,{value:e.variables,key:t},e.days)}));return r.a.createElement("div",{className:"line_chart"},r.a.createElement("div",{className:"chart-charges-title"},r.a.createElement("h2",null,"Trend"),r.a.createElement("div",null,r.a.createElement(Pe.a,{defaultValue:"SEVENT_DAY_AGO",style:{width:120},onChange:function(e){var t;"5"!==e&&(t=e,l(Object(I.a)({},c,{fromDate:$a[t],toDate:j})),C({variables:{fromDate:$a[t],toDate:j}}),w({variables:{currentPage:1,type:1,pageSize:10,search:"",fromDate:$a[t],toDate:j,userType:"",os:"",partnerId:""}}))},className:"select_dates-stats"},x,r.a.createElement(Hn,{value:"5",onClick:P},"Custom...")),m&&r.a.createElement("div",{className:"modal_datepicker-chartCoin"},r.a.createElement(Xe.a,{allowClear:!1,disabledDate:function(e){if(null!=g)return e&&e<Ge()(g).subtract(1,"days").endOf("day")||e>Ge()().endOf("day")},format:"YYYY-MM-DD",value:null==g?null:Ge()(g,"YYYY-MM-DD"),placeholder:"StartDate",onChange:function(e){return t=e,void l(null==g?Object(I.a)({},c,{fromDateCustom:t}):Object(I.a)({},c,{toDateCustom:Ge()(t).format("YYYY-MM-DD")}));var t},className:"input_date_chart",open:!0,dropdownClassName:"calendar-select-chartsCoin",renderExtraFooter:function(){return r.a.createElement("div",{className:"datepicker_footer"},r.a.createElement("span",{onClick:function(){return l(Object(I.a)({},c,{fromDateCustom:null,toDateCustom:null}))}},"CLEAR"),r.a.createElement("span",{onClick:P},"CANCEL"),r.a.createElement("span",{style:{color:"#0085ff"},onClick:T},"APPLY"))}}),r.a.createElement(p.a,{open:!0,value:O,placeholder:"EndDate",suffix:r.a.createElement(i.a,{type:"calendar",style:{color:"#9e9e9e"}}),className:"input_date_chart"})))),r.a.createElement(Ma.a,{data:A,width:100,height:40,options:Va}))})),_n={display:"block",height:"30px",lineHeight:"30px"};var Vn=function(e){var t=Object(n.useState)({currentPage:1,pageSize:10,partnerId:"",partnerProductName:""}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([{partnerId:"",partnerName:""}]),s=Object(y.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(null),f=Object(y.a)(p,2),h=f[0],v=f[1],g=Object(n.useState)([]),O=Object(y.a)(g,2),j=O[0],N=O[1],C=c.currentPage,S=c.pageSize,w=c.partnerId,P=c.partnerProductName,T=Object(Re.a)(In,{fetchPolicy:"cache-and-network",onCompleted:function(e){v(e)}}),k=Object(y.a)(T,2),A=k[0],x=k[1].loading,D=Object(Re.a)(Fn,{fetchPolicy:"cache-and-network",onCompleted:function(e){return d(e.listPartners)}}),M=Object(y.a)(D,1)[0],B=Object(Re.b)(Mn,{variables:{ids:j}}),Y=Object(y.a)(B,1)[0];Object(n.useEffect)((function(){M(),A({variables:{currentPage:C,pageSize:S,partnerId:w,partnerProductName:P}})}),[]);var R=function(){A({variables:{currentPage:1,pageSize:10,partnerId:w,partnerProductName:P}})},U=function(){A({variables:{currentPage:1,pageSize:10,partnerId:"",partnerProductName:""}})},L=[{title:"Item Id",dataIndex:"partnerProductId",key:"productId",width:"23%",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"Name",dataIndex:"productName",key:"productName",width:"20%"},{title:"Price (C.coin)",dataIndex:"coin",key:"coin",width:"20%",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"Game",dataIndex:"partner",key:"partner",width:"20%",render:function(e){return r.a.createElement("span",null,e.partnerName)},filterDropdown:function(){return r.a.createElement("div",{style:{padding:8}},r.a.createElement(mt.a.Group,{onChange:function(e){return l(Object(I.a)({},c,{partnerId:e.target.value}))},value:c.partnerId},H),r.a.createElement(u.a,{type:"primary",onClick:R,size:"small",style:{width:90,marginRight:8}},"Filter"),r.a.createElement(u.a,{onClick:U,size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return r.a.createElement(i.a,{type:"filter",theme:"filled",style:{color:e?"#1890ff":"#fafafa"}})}},{title:"Action",key:"action",width:"17%",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(Ie.b,{to:"/payment/items/edit?partnerProductId=".concat(t.partnerProductId)},"Edit"))}}],z={onChange:function(e,t){var a=t.map((function(e,t){return e.partnerProductId}));N(a)}},G=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:A({variables:{currentPage:C,pageSize:S,partnerId:w,partnerProductName:P}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=j.length>0,H=m.map((function(e,t){return r.a.createElement(mt.a,{style:_n,value:e.partnerId,key:t},e.partnerName)}));return x?r.a.createElement(Qe.a,{md:12},r.a.createElement("p",null,"loading...")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"Item managerment"),r.a.createElement("div",{className:"view-more"},r.a.createElement(Ie.b,{to:"/payment/items",onClick:function(){return e.setIsCreateItem(!0)}},r.a.createElement(u.a,{icon:"plus"},"Add new Item"),r.a.createElement(u.a,{disabled:!F,onClick:G},"Delete"))))),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{rowSelection:z,columns:L,dataSource:h.listPartnerProductsByPartner.rows,pagination:!1}),r.a.createElement(Ce.a,{current:c.currentPage,total:h.listPartnerProductsByPartner.count,pageSize:10,onChange:function(e){l(Object(I.a)({},c,{currentPage:e})),A({variables:{currentPage:e,pageSize:S,partnerId:w,partnerProductName:P}})},className:"pagination-listUser"})))};var Kn=function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({totalMoney:0,totalPurchase:0}),o=Object(y.a)(l,2),i=o[0],s=o[1];return a?r.a.createElement(Rn,{setIsCreateItem:c}):!1===a?r.a.createElement($e.a,null,r.a.createElement(Qe.a,{md:24},r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(Qe.a,{md:12,style:{paddingRight:".5rem"}},r.a.createElement("h2",null,"C.coin exchange Total"),r.a.createElement("div",{className:"total-revenue"},r.a.createElement("span",null,_a(i.totalMoney)),r.a.createElement("p",null,"C.Coin"))),r.a.createElement(Qe.a,{md:12,style:{paddingLeft:".5rem"}},r.a.createElement("h2",null,"Total Purchase"),r.a.createElement("div",{className:"total-revenue"},r.a.createElement("span",null,_a(i.totalPurchase)),r.a.createElement("p",null,"times")))),r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(Jn,{totalIndex:i,setTotalIndex:s}))),r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(Vn,{setIsCreateItem:c})),r.a.createElement(Qe.a,{md:12,className:"items-section"},r.a.createElement(zn,null))):void 0},$n=Pe.a.Option,Qn={display:"block",height:"24px",lineHeight:"30px"};var Wn=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=localStorage.getItem("userNameCMS"),a=new URLSearchParams(window.location.search).get("productId"),c=Object(n.useState)({statusBtnCancel:!1,oldData:null}),l=Object(y.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)({productName:"",type:"",sort:null,price:null,status:"",image:""}),d=Object(y.a)(m,2),f=d[0],E=d[1],b=Object(n.useState)([{name:""}]),h=Object(y.a)(b,2),v=h[0],g=h[1],O=Object(Re.a)(La,{fetchPolicy:"cache-and-network",onCompleted:function(e){E(e.listProducts[0]),s(Object(I.a)({},o,{oldData:e.listProducts[0]})),te(e.listProducts[0].image)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),j=Object(y.a)(O,1)[0];Object(Re.c)(Aa,{onCompleted:function(e){g(e.__type.enumValues)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}).data,Object(n.useEffect)((function(){j({variables:{productId:a}})}),[]);var N=f.productName,C=f.status,S=f.price,w=f.sort,P=f.type,T=(f.image,Object(Re.b)(on,{variables:{productId:a,req:{productName:N,sort:Number(w),price:Number(S),baseCoin:Number(S),type:P,status:C,image:e.urlImgThumbnail}},onError:function(e){return Ga(e.networkError.result.errors[0].message)}})),k=Object(y.a)(T,1)[0],A=function(e){E(Object(I.a)({},f,Object(et.a)({},e.target.name,e.target.value))),s(Object(I.a)({},o,{statusBtnCancel:!1}))},x=v.map((function(e,t){return r.a.createElement($n,{value:e.name,key:t},e.description)}));return null!==f?r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/payment/coin"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back")),r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"Update C.coin"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(u.a,{onClick:function(){E(o.oldData)},disabled:o.statusBtnCancel,style:{marginRight:".5rem"}},"Cancel"),r.a.createElement(u.a,{onClick:function(){k().then((function(e){e&&(alert("update th\xe0nh c\xf4ng!"),s(Object(I.a)({},o,{statusBtnCancel:!0})))}))}},"Update C.coin"))))),r.a.createElement($e.a,{className:"products-content"},r.a.createElement(Qe.a,{md:12,className:"section1"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"C.coin Id"),r.a.createElement("span",null,"Id: ",a," "))),r.a.createElement("div",{className:"product-input-update"},r.a.createElement("span",{className:"edit-product-content-title"},"C.coin name"),r.a.createElement(p.a,{value:N,name:"productName",onChange:A}),r.a.createElement("span",{className:"edit-product-content-title"},"Price (VN\u0110)"),r.a.createElement(p.a,{value:S,type:"number",max:"9990000000",name:"price",onChange:A}),r.a.createElement("div",null,r.a.createElement(Qe.a,null,r.a.createElement("span",{className:"edit-product-content-title"},"Sort"),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(p.a,{style:{width:"4rem"},type:"number",max:"10",min:"1",name:"sort",onChange:A,value:w}),r.a.createElement("span",{style:{paddingLeft:".2rem"}},"/10")))),r.a.createElement("div",null,r.a.createElement("span",{className:"edit-product-content-title"},"Image")),r.a.createElement("div",{style:{width:"100px"}},r.a.createElement("img",{src:e.urlImgThumbnail,width:"100%"})),r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){return Z(!0)}},"Select")))),r.a.createElement(Qe.a,{md:6,className:"section2"},r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Status"),r.a.createElement(mt.a.Group,{value:C,onChange:function(e){E(Object(I.a)({},f,{status:e.target.value}))}},r.a.createElement(mt.a,{style:Qn,value:"INPUT"},"INPUT"),r.a.createElement(mt.a,{style:Qn,value:"COMPLETE"},"COMPLETE"),r.a.createElement(mt.a,{style:Qn,value:"DELETED"},"DELETED"))),r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement("p",{className:"edit-product-content-title"},"Create"),r.a.createElement("span",null,"Admin: ",r.a.createElement("span",null,t)))),r.a.createElement(Qe.a,{md:6,className:"section2"},r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Payment Type"),r.a.createElement(Pe.a,{value:P,style:{width:"100%"},onChange:function(e){E(Object(I.a)({},f,{type:e}))}},x))),r.a.createElement(ea,{isThumbnail:!0}))):r.a.createElement("p",null,"Loading...")})),Xn=Pe.a.Option,Zn={display:"block",height:"24px",lineHeight:"30px"};var er=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=localStorage.getItem("userNameCMS"),a=new URLSearchParams(window.location.search).get("partnerProductId"),c=Object(n.useState)({statusBtnCancel:!1,oldData:null}),l=Object(y.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)([]),d=Object(y.a)(m,2),f=d[0],h=d[1],v=Object(n.useState)([]),g=Object(y.a)(v,2),O=g[0],j=g[1],N=Object(n.useState)({productName:"",partnerId:"",productId:"",coin:0,partnerProductName:"",status:"",image:""}),C=Object(y.a)(N,2),S=C[0],w=C[1];Object(Re.c)(ht(),{onCompleted:function(e){h(e.listPartners)}});var P=Object(Re.c)(Sn,{variables:{partnerProductId:a},onCompleted:function(e){console.log(e),w(e.listPartnerProducts[0]),s(Object(I.a)({},o,{oldData:e.listPartnerProducts[0]}))}}),T=(P.data,P.loading,P.error,P.refetch),k=S.productName,A=S.status,x=S.productId,D=S.coin,M=S.partnerProductName,B=S.partnerId,Y=Object(Re.a)(Nn(B),{onCompleted:function(e){j(e.listRefPartnerProducts)}}),R=Object(y.a)(Y,1)[0];Object(n.useEffect)((function(){R()}),[]);var U=Object(Re.b)(xn,{variables:{partnerProductId:a,req:{productName:k,status:A,partnerId:B,productId:x,coin:Number(D),partnerProductName:M,image:e.urlImgThumbnail}}}),L=Object(y.a)(U,1)[0],z=function(e){w(Object(I.a)({},S,Object(et.a)({},e.target.name,e.target.value))),s(Object(I.a)({},o,{statusBtnCancel:!1}))},G=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(Object(I.a)({},S,{partnerProductName:JSON.parse(t).productName,productId:JSON.parse(t).productId}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=f.map((function(e,t){return r.a.createElement(Xn,{value:e.partnerId,key:t},e.partnerName)})),H=O.map((function(e,t){return 0?r.a.createElement(Xn,{value:'{"productId":"'.concat(x,'","productName":"').concat(M,'"}'),key:0},M):r.a.createElement(Xn,{value:'{"productId":"'.concat(e.productId,'","productName":"').concat(e.productName,'"}'),key:0},e.productName)}));return null!==S?r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/payment/items"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Danh s\xe1ch Items")),r.a.createElement("div",{className:"products-title"},r.a.createElement("div",null,r.a.createElement("h2",null,"Update Item"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(u.a,{onClick:function(){w(o.oldData)},disabled:o.statusBtnCancel},"Cancel"),r.a.createElement(u.a,{onClick:function(){L().then((function(e){e&&(alert("update th\xe0nh c\xf4ng!"),T(),s(Object(I.a)({},o,{statusBtnCancel:!0})))}))}},"Update Item"))))),r.a.createElement($e.a,{className:"products-content"},r.a.createElement(Qe.a,{md:12,className:"section1"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Item Id"),r.a.createElement("span",{style:{paddingLeft:"1rem"}},"Id: ",a," "))),r.a.createElement("div",{className:"product-input-update"},r.a.createElement("div",null,r.a.createElement("span",{className:"edit-product-content-title"},"Platform"),r.a.createElement(Pe.a,{value:B,style:{width:"100%"},onChange:function(e){w(Object(I.a)({},S,{partnerId:e}))}},F),r.a.createElement("span",{className:"edit-product-content-title"},"ProductId And Name"),r.a.createElement(Pe.a,{value:0===O.length?"":'{"productId":"'.concat(x,'","productName":"').concat(M,'"}'),style:{width:"100%",marginTop:"0"},onChange:G,disabled:0===O.length},H)),r.a.createElement("span",{className:"edit-product-content-title"},"Name"),r.a.createElement(p.a,{value:k,name:"productName",onChange:z}),r.a.createElement("span",{className:"edit-product-content-title"},"Price (C.coin)"),r.a.createElement(p.a,{value:D,type:"number",max:"9990000000",name:"coin",onChange:z}),r.a.createElement("div",null,r.a.createElement("span",{className:"edit-product-content-title"},"Image")),r.a.createElement("div",{style:{width:"100px"}},r.a.createElement("img",{src:e.urlImgThumbnail,width:"100%"})),r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){return Z(!0)}},"Select")))),r.a.createElement(Qe.a,{md:8,className:"section2"},r.a.createElement("div",null,r.a.createElement("p",{className:"edit-product-content-title"},"Status"),r.a.createElement(mt.a.Group,{value:A,onChange:function(e){w(Object(I.a)({},S,{status:e.target.value}))}},r.a.createElement(mt.a,{style:Zn,value:"INPUT"},"INPUT"),r.a.createElement(mt.a,{style:Zn,value:"COMPLETE"},"COMPLETE"),r.a.createElement(mt.a,{style:Zn,value:"DELETED"},"DELETED"))),r.a.createElement("div",{style:{marginTop:"1rem"}},r.a.createElement("p",{className:"edit-product-content-title"},"Create"),r.a.createElement("span",null,"Admin: ",r.a.createElement("span",null,t)))),r.a.createElement(ea,{isThumbnail:!0}))):r.a.createElement("p",null,"Loading...")}));a(140);function tr(){var e=Object(Te.a)(["\n  mutation deleteEvents($ids: [Int]!) {\n    deleteEvents(ids: $ids) {\n      name\n    }\n  }\n"]);return tr=function(){return e},e}function ar(){var e=Object(Te.a)(["\n  mutation deletePromotions($ids: [Int]!) {\n    deletePromotions(ids: $ids) {\n      name\n    }\n  }\n"]);return ar=function(){return e},e}function nr(){var e=Object(Te.a)(["\n  mutation updateEvent($id: Int!, $req: EventRequest!) {\n    updateEvent(id: $id, req: $req) {\n      name\n      status\n      config\n      eventTime\n    }\n  }\n"]);return nr=function(){return e},e}function rr(){var e=Object(Te.a)(["\n  mutation updatePromotion($id: Int!, $req: PromotionRequest!) {\n    updatePromotion(id: $id, req: $req) {\n      name\n      status\n      shop\n      eventTime\n    }\n  }\n"]);return rr=function(){return e},e}function cr(){var e=Object(Te.a)(["\n  mutation createEvent($req: EventRequest!) {\n    createEvent(req: $req) {\n      id\n      name\n      paymentType\n    }\n  }\n"]);return cr=function(){return e},e}function lr(){var e=Object(Te.a)(["\n  mutation createProduct($req: ProductRequest!) {\n    createProduct(req: $req) {\n      productName\n      productId\n      baseCoin\n    }\n  }\n"]);return lr=function(){return e},e}function or(){var e=Object(Te.a)(["\n  mutation createPromotion($req: PromotionRequest!) {\n    createPromotion(req: $req) {\n      id\n      shop\n      name\n      eventTime\n    }\n  }\n"]);return or=function(){return e},e}var ir=Object(ke.b)(or()),sr=Object(ke.b)(lr()),mr=Object(ke.b)(cr()),ur=Object(ke.b)(rr()),dr=Object(ke.b)(nr()),pr=Object(ke.b)(ar()),fr=Object(ke.b)(tr()),Er=function(e){return e.map((function(e,t){switch(e){case 0:return r.a.createElement("span",{key:t}," Monday,");case 1:return r.a.createElement("span",{key:t}," Tuesday,");case 2:return r.a.createElement("span",{key:t}," Wednesday,");case 3:return r.a.createElement("span",{key:t}," Thursday,");case 4:return r.a.createElement("span",{key:t}," Friday,");case 5:return r.a.createElement("span",{key:t}," Saturday,");case 6:return r.a.createElement("span",{key:t}," Sunday,")}}))},br=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yr=[{purchaseTimes:1,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]}],hr=(Ge()().format("YYYY-MM-DD HH:mm"),Ge()().format("YYYY-MM-DD HH:mm"),function(e,t,a,n,r){return""!=e&&""!=t&&""!==n&&""!==r&&""!==a}),vr=function(e){return e.map((function(e,t){return e.purchaseItemId.length>0})).every((function(e,t){return 0!=e}))},gr=function(e){return e.map((function(e,t){return e.rewards.length>0&&""!==e.rewards[0]})).every((function(e,t){return 0!=e}))},Or=function(e){var t=[];e.map((function(e,a){e.rewards.map((function(e,a){e.itemId.length>0?t.push(!0):t.push(!1)}))}));return t.every((function(e,t){return 0!=e}))},jr=function(e){return e.map((function(t,a){if(a>0)return t.point>e[a-1].point})).every((function(e,t){return!0===e||void 0===e}))},Ir=function(e){return e.map((function(t,a){if(a>0)return t.purchaseTimes>e[a-1].purchaseTimes})).every((function(e,t){return!0===e||void 0===e}))},Nr=function(e){var t=Ge()(e).format("x"),a=Ge()().format("x");return Number(a)-Number(t)>0},Cr=function(e){switch(e){case"00:00:00":return"00:00:00";default:return e}},Sr=function(e){switch(e){case"00:00:00":return"23:59:59";default:return e}},wr=function(){Ze.a.error({title:"Error !!!",content:r.a.createElement("div",null,r.a.createElement("p",null,"+ Ki\u1ec3m tra th\xf4ng tin game, server, item, h\xecnh th\u1ee9c."),r.a.createElement("p",null,"+ Gi\xe1 tr\u1ecb c\xe1c m\u1ed1c khuy\u1ebfn m\xe3i t\u0103ng d\u1ea7n."))})},Pr=function(){Ze.a.error({title:"Error!!!",content:r.a.createElement("div",null,r.a.createElement("p",null,"+ Ki\u1ec3m tra th\xf4ng tin t\xean, tr\u1ea1ng th\xe1i, th\u1eddi gian."))})},Tr={server:0,serverName:"All server"},kr=Pe.a.Option;var Ar=Object(he.b)((function(e){return{imageUrl:e.urlImgThumbnail}}),null)((function(e){var t=Object(n.useState)([{productName:"",partnerProductId:""}]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=e.indexPromoAndEvent,s=o.name,m=o.status,d=o.type,f=o.timeTotal,h=o.dates,v=o.daily,g=o.startTime,O=o.endTime,j=o.linkUrl,I=e.indexGameForPromo,N=I.platformId,C=I.server,S=e.indexShop,w=e.isUpdate;Object(Re.c)(wn(N),{onCompleted:function(e){l(e.listPartnerProducts)}});var P=Object(Re.b)(ir,{variables:{req:{name:s,type:d,status:m,game:N,server:C,shop:JSON.stringify(S),eventTime:JSON.stringify({startTime:f[0],endTime:f[1],dates:h,daily:v,hour:[Cr(g),Sr(O)]}),linkUrl:j,imageUrl:e.imageUrl}},onCompleted:function(e){w?be(e.createPromotion.id):console.log(e)}}),T=Object(y.a)(P,1)[0],k=function(){var t=Object(b.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!hr(s,d,f[0],g,O)){t.next=10;break}if(!(vr(S)&&Ir(S)&&Or(S)&&""!==C&&""!==N)){t.next=7;break}return t.next=4,T();case 4:e.successAlert(!0),t.next=8;break;case 7:wr();case 8:t.next=11;break;case 10:Pr();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===a){t.next=5;break}return t.next=3,S.filter((function(e,t){return t!==a}));case 3:n=t.sent,e.setIndexShop(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={numb:1,itemId:[]},(r=Object(V.a)(S))[a].rewards=[].concat(Object(V.a)(r[a].rewards),[n]),e.setIndexShop(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(b.a)(E.a.mark((function t(a,n){var r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(V.a)(S),!(S[a].rewards.length>1)){t.next=7;break}return t.next=4,S[a].rewards.filter((function(e,t){return n!==t}));case 4:c=t.sent,r[a].rewards=c,e.setIndexShop(r);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),M=c.map((function(e,t){return r.a.createElement(kr,{value:e.partnerProductId,key:t},e.productName)})),B=S.map((function(t,a){var n=t.rewards.map((function(t,n){return r.a.createElement("div",{key:n,className:"more-reward"},r.a.createElement(i.a,{type:"minus",onClick:function(){return D(a,n)},style:{fontSize:"16px",margin:"0 .25rem"}}),r.a.createElement(p.a,{value:S[a].rewards[n].numb,type:"number",name:"pucharseTimes",onChange:function(t){return function(t,a,n){var r=Object(V.a)(S);r[t].rewards[a].numb=""!==n.target.value?Number(n.target.value):"",e.setIndexShop(r)}(a,n,t)},style:{width:"20%"}}),r.a.createElement(Pe.a,{mode:"multiple",value:S[a].rewards[n].itemId,style:{width:"80%"},onChange:function(t){return function(t,a,n){var r=Object(V.a)(S);r[t].rewards[a].itemId=n,e.setIndexShop(r)}(a,n,t)}},M)," ")}));return r.a.createElement("div",{key:a},r.a.createElement(Qe.a,{md:12,className:"more-items"},r.a.createElement(i.a,{type:"close",onClick:function(){return A(a)},style:{fontSize:"16px",margin:"0 .25rem"}}),r.a.createElement(p.a,{value:S[a].purchaseTimes,type:"number",min:a>0?S[a-1].purchaseTimes:0,name:"pucharseTimes",onChange:function(t){return function(t,a){var n=Object(V.a)(S);n[t].purchaseTimes=""!==a.target.value?Number(a.target.value):"",e.setIndexShop(n)}(a,t)},style:{width:"20%"}}),r.a.createElement(Pe.a,{value:S[a].purchaseItemId,style:{width:"80%"},onChange:function(t){return function(t,a){var n=Object(V.a)(S);n[t].purchaseItemId=a,e.setIndexShop(n)}(a,t)}},M)," "),r.a.createElement(Qe.a,{md:12,style:{padding:"1rem 1rem 1rem .25rem"}},n,r.a.createElement(u.a,{onClick:function(){return x(a)},style:{marginLeft:"1.5rem"}},"Add more present")))}));return r.a.createElement("div",{className:"section4-promotion"},r.a.createElement("div",{style:{width:"100%"},className:"section4-promotion-title"},r.a.createElement("div",{style:{width:"50%",display:"flex"}},r.a.createElement("div",{style:{width:"20%"}},"The mount of item"),r.a.createElement("div",{style:{width:"80%"}},"Item")),r.a.createElement("div",{style:{width:"50%",display:"flex",paddingLeft:"1.5rem"}},r.a.createElement("div",{style:{width:"20%"}},"Amount"),r.a.createElement("div",{style:{width:"80%"}},"Present"))),r.a.createElement("div",{className:"btn-create-promo"},r.a.createElement(u.a,{onClick:k},"X\xe1c nh\u1eadn")),r.a.createElement($e.a,null,B,r.a.createElement(u.a,{onClick:function(){return function(){var t={purchaseTimes:S[S.length-1].purchaseTimes,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]};e.setIndexShop([].concat(Object(V.a)(S),[t]))}()},style:{margin:"1rem 1.5rem"}},"Add more conditions")))}));function xr(){var e=Object(Te.a)(["\nquery {\n  listEvents(id:","){\n    name\n    id\n    eventTime\n    paymentType\n    config\n    status\n    linkUrl\n    imageUrl\n  }\n}\n"]);return xr=function(){return e},e}function Dr(){var e=Object(Te.a)(["\nquery {\n  listPromotions(id:","){\n    id\n    name\n    game\n    status\n    eventTime\n    server\n    type\n    shop\n    imageUrl\n    linkUrl\n  }\n}\n"]);return Dr=function(){return e},e}function Mr(){var e=Object(Te.a)(["\n  query listEventsByType(\n    $currentPage: Int!\n    $pageSize: Int!\n    $paymentType: String\n    $status: String\n    $name: String\n  ) {\n    listEventsByType(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      paymentType: $paymentType\n      status: $status\n      name: $name\n    ) {\n      count\n      rows {\n        name\n        paymentType\n        status\n        eventTime\n        config\n        id\n      }\n    }\n  }\n"]);return Mr=function(){return e},e}function Br(){var e=Object(Te.a)(["\n  query listPromotionsByType(\n    $currentPage: Int!\n    $pageSize: Int!\n    $type: String\n    $game: String\n    $server: Int\n    $status: String\n    $name: String\n  ) {\n    listPromotionsByType(\n      currentPage: $currentPage\n      pageSize: $pageSize\n      status: $status\n      type: $type\n      game: $game\n      server: $server\n      name: $name\n    ) {\n      count\n      rows {\n        name\n        type\n        status\n        eventTime\n        id\n      }\n    }\n  }\n"]);return Br=function(){return e},e}function Yr(){var e=Object(Te.a)(["\n  query {\n    listProducts(type: EVENT) {\n      productName\n      productId\n    }\n  }\n"]);return Yr=function(){return e},e}function Rr(){var e=Object(Te.a)(["\nquery listPartnerServersByPartner($partnerId:String!){\n  listPartnerServersByPartner(partnerId:$partnerId){\n    id\n    status\n    server\n    serverName\n    createdDate\n  }\n}\n"]);return Rr=function(){return e},e}function Ur(){var e=Object(Te.a)(['\nquery{\n    listPartnerServers(partnerId:"','"){\n      server\n      serverName\n      status\n    }\n  }\n']);return Ur=function(){return e},e}var Lr=function(e){return Object(ke.b)(Ur(),e)},zr=Object(ke.b)(Rr()),Gr=Object(ke.b)(Yr()),Fr=Object(ke.b)(Br()),Hr=Object(ke.b)(Mr()),qr=Pe.a.Option;var Jr=Object(he.b)((function(e){return{typeEventByMoney:e.typeEventByMoney,nameEventByMoney:e.nameEventByMoney,imageUrl:e.urlImgThumbnail}}),null)((function(e){var t=e.isUpdate,a=Object(n.useState)({isShow:!1,itemsForEventTypeMoney:[{productName:"",partnerProductId:""}]}),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([{productId:"",productName:""}]),m=Object(y.a)(s,2),d=m[0],f=m[1],h=e.indexPromoAndEvent,v=h.name,g=h.platformId,O=h.server,j=h.status,N=(h.promoType,h.timeTotal),C=h.dates,S=h.daily,w=h.startTime,P=h.endTime,T=h.linkUrl,k=Object(n.useState)(0),A=Object(y.a)(k,2),x=A[0],D=A[1],M=Object(n.useState)(null),B=Object(y.a)(M,2),Y=B[0],R=B[1],U=Object(n.useState)([{point:1,rewards:[]}]),L=Object(y.a)(U,2),z=L[0],G=L[1];Object(Re.c)(Gr,{onCompleted:function(e){f(e.listProducts)}});var F=l.isShow,H=l.itemsForEventTypeMoney;Object(n.useMemo)((function(){G([{point:1,rewards:[]}])}),[e.typeEventByMoney]),Object(Re.c)(wn(g),{onCompleted:function(e){o(Object(I.a)({},l,{itemsForEventTypeMoney:e.listPartnerProducts})),G([{point:1,rewards:[]}])}});var q=Object(Re.b)(sr,{variables:{req:{productName:"".concat(Y," coin"),type:"EVENT",status:"COMPLETE",sort:0,price:1e3*Y,baseCoin:Number(Y)}},onCompleted:function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a={productName:t.createProduct.productName,productId:t.createProduct.productId},f([].concat(Object(V.a)(d),[a])),(n=Object(V.a)(z))[x].rewards[0]=t.createProduct.productId,G(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),J=Object(y.a)(q,1)[0],_=Object(Re.b)(mr,{variables:{req:{name:v,status:j,paymentType:e.nameEventByMoney,eventTime:JSON.stringify({startTime:N[0],endTime:N[1],dates:C,daily:S,hour:[w,P]}),config:JSON.stringify({type:e.typeEventByMoney,data:z}),linkUrl:T,imageUrl:e.imageUrl}},onCompleted:function(e){t?be(e.createEvent.id):console.log(e)}}),K=Object(y.a)(_,1)[0],$=Object(Re.b)(mr,{variables:{req:{name:v,status:j,paymentType:e.nameEventByMoney,eventTime:JSON.stringify({startTime:Ge()(N[0]).format("YYYY-MM-DD hh:mm"),endTime:Ge()(N[1]).format("YYYY-MM-DD hh:mm"),dates:C,daily:S,hour:[Cr(w),Sr(P)]}),config:JSON.stringify({game:g,server:O,type:e.typeEventByMoney,data:z}),linkUrl:T,imageUrl:e.imageUrl}},onCompleted:function(e){t?be(e.createEvent.id):console.log(e)}}),Q=Object(y.a)($,1)[0],W=function(){var t=Object(b.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!hr(v,e.nameEventByMoney,N[0],w,P)){t.next=21;break}if("MONEY"!==e.nameEventByMoney){t.next=11;break}if(!gr(z)||!jr(z)){t.next=8;break}return t.next=5,K();case 5:e.successAlert(!0),t.next=9;break;case 8:wr();case 9:t.next=19;break;case 11:if("COIN"!==e.nameEventByMoney){t.next=19;break}if(!gr(z)||!jr(z)||""===g||""===O){t.next=18;break}return t.next=15,Q();case 15:e.successAlert(!0),t.next=19;break;case 18:wr();case 19:t.next=22;break;case 21:Pr();case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t){e.next=5;break}return e.next=3,z.filter((function(e,a){return a!==t}));case 3:a=e.sent,G(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==Y&&(J(),o(Object(I.a)({},l,{isShow:!1})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(Object(I.a)({},l,{isShow:!0})),D(t),R(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=H.map((function(e,t){return r.a.createElement(qr,{value:e.partnerProductId,key:t},e.productName)})),ae=d.map((function(e,t){return r.a.createElement(qr,{value:e.productId,key:t},e.productName)})),ne=d.map((function(e,t){return r.a.createElement(Qe.a,{span:24,key:t},r.a.createElement(mt.a,{style:{display:"block",height:"30px",lineHeight:"30px"},value:e.productId},e.productName))})),re=z.map((function(t,a){return r.a.createElement("div",{key:a,style:{display:"flex",alignItems:"center",marginBottom:"1rem"}},r.a.createElement("div",{style:{width:"15%",display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:".2rem"}},"From"),r.a.createElement(p.a,{value:z[a].point,min:a>0?z[a-1].point:0,type:"number",name:"pucharseTimes",onChange:function(e){return function(e,t){var a=Object(V.a)(z);a[e].point=""!==t.target.value?Number(t.target.value):"",G(a)}(a,e)}}),r.a.createElement("span",{style:{marginLeft:".2rem"}},"MONEY"===e.nameEventByMoney?"VN\u0110":"C.COIN")),r.a.createElement("div",{className:"promo-input-item-input"},"INKIND"===e.typeEventByMoney&&r.a.createElement("div",{className:"promo-input-coin-event"},r.a.createElement(p.a,{value:z[a].rewards[0],placeholder:"-Input name of gift out game-",name:"pucharseTimes",onChange:function(e){return function(e,t){var a=Object(V.a)(z);a[e].rewards[0]=t.target.value,G(a)}(a,e)},style:{width:"45%"}}),r.a.createElement(i.a,{type:"close",onClick:function(){return X(a)},style:{fontSize:"16px",margin:"0 .25rem"}})),"COIN"===e.typeEventByMoney&&r.a.createElement("div",{className:"promo-input-coin-event"},r.a.createElement("div",{style:{width:"35%",display:"flex",alignItems:"center"}},r.a.createElement(Pe.a,{value:z[a].rewards[0],dropdownClassName:"dropdown-coin-event",showArrow:!1,style:{width:"90%"},className:"select-coin-event"},ae)," ",r.a.createElement(i.a,{type:"menu",onClick:function(){return ee(a)},style:{fontSize:"24px",margin:"0 .25rem"}})),r.a.createElement(i.a,{type:"close",onClick:function(){return X(a)},style:{fontSize:"16px",margin:"0 .25rem"}})),"ITEM"===e.typeEventByMoney&&r.a.createElement("div",{className:"promo-input-coin-event"},r.a.createElement(Pe.a,{mode:"multiple",value:z[a].rewards,style:{width:"80%"},onChange:function(e){return function(e,t){var a=Object(V.a)(z);a[e].rewards=t,G(a)}(a,e)}},te)," ",r.a.createElement(i.a,{type:"close",onClick:function(){return X(a)},style:{fontSize:"16px",margin:"0 .25rem"}}))))}));return r.a.createElement("div",{className:"section4-promotion"},r.a.createElement("div",{style:{width:"100%"},className:"section4-promotion-title"},r.a.createElement("div",{className:"promo-input-title-numb"},r.a.createElement("span",null,"Total price of purchase from")),r.a.createElement("div",{className:"promo-input-title-item"},r.a.createElement("span",null,"Gift's out game"))),r.a.createElement("div",{className:"btn-create-promo"},r.a.createElement(u.a,null,"Cancel"),r.a.createElement(u.a,{onClick:W},"Submit")),r.a.createElement($e.a,{className:"promo-input-item"},re,r.a.createElement(u.a,{onClick:function(){return function(){var e={point:z[z.length-1].point,rewards:[]};G([].concat(Object(V.a)(z),[e]))}()}},"Add more conditions")),r.a.createElement(Ze.a,{title:"Choose C.coin package",centered:!0,visible:F,onOk:function(){return o(Object(I.a)({},l,{isShow:!1}))},onCancel:function(){return o(Object(I.a)({},l,{isShow:!1}))}},r.a.createElement("div",{className:"input-coin-event-money"},r.a.createElement(p.a,{type:"number",min:"0",placeholder:"Input volume c.coin package...",value:Y,onChange:function(e){return R(e.target.value)}}),r.a.createElement(u.a,{onClick:Z},"Submit")),r.a.createElement(mt.a.Group,{onChange:function(e){return function(e){var t=Object(V.a)(z);t[x].rewards=[e.target.value],G(t),R(null)}(e)}},ne)))})),_r=Pe.a.Option,Vr=(Xe.a.RangePicker,[{value:"COIN",description:"C.Coin"},{value:"INKIND",description:"Gift's out game"}]),Kr=[{value:"ITEM",description:"Gift's in game"}];var $r=Object(he.b)((function(e){return{typeEventByMoney:e.typeEventByMoney,nameEventByMoney:e.nameEventByMoney,listPartners:e.listPartner}}),null)((function(e){var t=e.server,a=(e.listPartner.listGame,e.indexPromoAndEvent.platformId),c=Object(n.useState)({eventType:[],eventPaymentType:[],value:""}),l=Object(y.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)([Tr]),m=Object(y.a)(s,2),u=m[0],d=m[1],p=o.eventType,f=o.eventPaymentType,h=o.value;Object(Re.c)(Da,{onCompleted:function(e){console.log(e),i(Object(I.a)({},o,{eventType:e.__type.enumValues}))}}),Object(Re.c)(Lr(a),{onCompleted:function(e){d([].concat(Object(V.a)(e.listPartnerServers),[Tr]))}}),Object(n.useMemo)((function(){ne("MONEY"),i(Object(I.a)({},o,{eventPaymentType:Vr,value:"INKIND"})),ae("INKIND"),e.setIndexEventByMoney(Object(I.a)({},e.indexEventByMoney,{isPaymentTypeByCoin:!1}))}),[e.switchTypeEvent]);var v=function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"MONEY"===a?(ne(a),i(Object(I.a)({},o,{eventPaymentType:Vr,value:"INKIND"})),ae("INKIND"),e.setIndexEventByMoney(Object(I.a)({},e.indexEventByMoney,{isPaymentTypeByCoin:!1}))):"COIN"===a&&(ne(a),i(Object(I.a)({},o,{eventPaymentType:Kr,value:"ITEM"})),ae("ITEM"),e.setIndexEventByMoney(Object(I.a)({},e.indexEventByMoney,{isPaymentTypeByCoin:!0})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,i(Object(I.a)({},o,{value:t}));case 3:ae(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=f.map((function(e,t){return r.a.createElement(_r,{key:t,value:e.value},e.description)})),j=p.map((function(e,t){return r.a.createElement(_r,{key:t,value:e.name},"By ",e.name," ( ",e.name," exchange)")})),N=e.listPartners.map((function(e,t){return r.a.createElement(_r,{value:e.partnerId,key:t},e.partnerName)})),C=u.map((function(e,t){return r.a.createElement(_r,{value:e.server,key:t},e.serverName)}));return r.a.createElement("div",{className:"promo-section2"},r.a.createElement("div",{className:"promo-choose-platform"},r.a.createElement("div",null,r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",null,"Type of Purchase"),r.a.createElement(Pe.a,{style:{width:"64%"},onChange:v,placeholder:"-Ch\u1ecdn game-",value:e.nameEventByMoney},j)," "),r.a.createElement("div",{className:"promo-choose-platform-server"},r.a.createElement("span",null,"Type of present: "),r.a.createElement(Pe.a,{value:h,style:{width:"65%"},onChange:g},O))),e.indexEventByMoney.isPaymentTypeByCoin&&r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",{className:"promotion-title-field"},"Platform"),r.a.createElement(Pe.a,{style:{width:"65%"},onChange:e.handleChangePlatform,placeholder:"-Choose Platform-"},N)," "),r.a.createElement("div",{className:"promo-choose-platform-server"},r.a.createElement("span",null,"Server"),r.a.createElement(Pe.a,{placeholder:"-Ch\u1ecdn server-",style:{width:"65%"},onChange:e.handleChangeServer,name:"server",value:t},C)," "))))})),Qr=(a(303),a(126)),Wr=Pe.a.Option;Xe.a.RangePicker;function Xr(e){var t=e.switchTypeEvent,a=e.indexPromoAndEvent,n=a.name,c=a.status;return r.a.createElement("div",null,r.a.createElement("h3",{className:"promotion-title-field"},"Promotion Name"),r.a.createElement(p.a,{placeholder:"Ex: Promotion for open new server...",onChange:e.setInfoPromo,name:"name",value:n}),r.a.createElement("div",{className:"promotion-title-status"},r.a.createElement("h3",null,"Status"),r.a.createElement(mt.a.Group,{onChange:e.setInfoPromo,value:c,name:"status"},r.a.createElement(mt.a,{value:"COMPLETE"},"Active"),r.a.createElement(mt.a,{value:"INPUT"},"Plan"))),r.a.createElement("h3",null,"Method"),r.a.createElement(mt.a.Group,{disabled:!!e.isTimeInPromo&&e.isTimeInPromo,value:t,buttonStyle:"solid",onChange:function(t){e.setSwitchTypeEvent(t.target.value),e.resetGameAndServer()},className:"promotion-choose-typeEvent"},r.a.createElement(mt.a.Button,{value:!1},"Promotion for purchase"),r.a.createElement(mt.a.Button,{value:!0},"Promotion for Item")))}function Zr(e){for(var t=Object(n.useState)(!1),a=Object(y.a)(t,2),c=a[0],l=a[1],o=e.indexPromoAndEvent,i=o.dates,s=o.daily,m=(o.server,o.startTime),d=o.endTime,p=o.timeTotal,f=Er(s),E=i.map((function(e,t){return r.a.createElement(r.a.Fragment,null,e,"rd, ")})),b=[],h=1;h<=31;h++)b.push(r.a.createElement(Wr,{key:h,value:h},h<10?"0"+h:h));var v=br.map((function(e,t){return r.a.createElement(Wr,{key:t,value:t},e)})),g=function(){l(!1),e.pickAllDay()},O=function(){l(!0)},j=function(){l(!1)};return r.a.createElement(Qe.a,{md:12,className:"section2-promotion"},r.a.createElement("div",null,r.a.createElement("h3",{className:"promotion-title-field"},"Set timeline "),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",{style:{width:"25%"}},"Time: "),r.a.createElement("div",{style:{width:"75%"}},r.a.createElement(Xe.a,{showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",defaultValue:Ge()(p[0],"YYYY-MM-DD HH:mm"),placeholder:"Start",style:{width:"49.5%",marginRight:".5%",minWidth:"0"},allowClear:!1,onChange:e.handleStartTimeTotal,disabled:e.isTimeInPromo}),r.a.createElement(Xe.a,{disabledDate:function(e){var t=Ge()(p[0]).format("x");return e.valueOf()<=Number(t)},style:{width:"49.5%",marginLeft:".5%",minWidth:"0"},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",defaultValue:Ge()(p[1],"YYYY-MM-DD HH:mm"),placeholder:"End",allowClear:!1,onChange:e.handleEndTimeTotal}))),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",{style:{width:"25%"}},"By day of the month: "),r.a.createElement(Pe.a,{mode:"multiple",style:{width:"75%"},placeholder:"- Choose what day of the month the promotion is...",onChange:e.handleChangeDates,disabled:0!==s.length,value:i},b)),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",{style:{width:"25%"}},"By day of the week:"),r.a.createElement(Pe.a,{mode:"multiple",style:{width:"75%"},placeholder:"- Choose what day of the week the promotion is...",onChange:e.handleChangeDaily,disabled:0!==i.length,value:s},v)),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",{style:{width:"25%"}},"By hours of the day:"),r.a.createElement("div",{style:{width:"75%"}},r.a.createElement(Qr.a,{allowClear:!1,open:c,minuteStep:10,format:"HH:mm",placeholder:"- Gi\u1edd b\u1eaft \u0111\u1ea7u",onOpenChange:O,onChange:function(t,a){return e.setTimePromo(a,"startTime")},value:""===m?null:Ge()(m,"HH:mm"),style:{width:"49.5%",marginRight:".5%"},addon:function(){return r.a.createElement(u.a,{size:"small",type:"primary",onClick:g},"24h")}}),r.a.createElement(Qr.a,{open:c,allowClear:!1,minuteStep:10,value:""===d?null:Ge()(d,"HH:mm"),style:{width:"49.5%",marginLeft:".5%"},format:"HH:mm",placeholder:"- Gi\u1edd k\u1ebft th\xfac",onOpenChange:O,onChange:function(t,a){e.setTimePromo(a,"endTime")},addon:function(){return r.a.createElement("div",{className:"pickTime-footer"},r.a.createElement(u.a,{size:"small",type:"primary",onClick:g},"24h"),r.a.createElement("a",{onClick:j},"close"))}})))),r.a.createElement("div",{className:"section2-promotion-footer"},"Promotion's timeline will be on "," ","00:00:00"===d?"":"".concat(m," to ").concat(d)," ",f,E," from ",p[0]," to ",p[1]))}var ec=Pe.a.Option;var tc=Object(he.b)((function(e){return{listPartners:e.listPartner}}),null)((function(e){var t=e.indexGameForPromo,a=t.platformId,c=t.server,l=e.indexPromoAndEvent.type,o=Object(n.useState)([{}]),i=Object(y.a)(o,2),s=(i[0],i[1]),m=Object(n.useState)([Tr]),u=Object(y.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)([{name:"",description:""}]),E=Object(y.a)(f,2),b=E[0],h=E[1];Object(Re.c)(xa,{onCompleted:function(e){h(e.__type.enumValues)}}),Object(Re.c)(Fn,{onCompleted:function(e){s(e.listPartners)}}),Object(Re.c)(Lr(a),{onCompleted:function(e){p([].concat(Object(V.a)(e.listPartnerServers),[Tr]))}});var v=b.map((function(e,t){return r.a.createElement(ec,{value:e.name,key:t},e.description)})),g=e.listPartners.map((function(e,t){return r.a.createElement(ec,{value:e.partnerId,key:t},e.partnerName)})),O=d.map((function(e,t){return r.a.createElement(ec,{value:e.server,key:t},e.serverName)}));return r.a.createElement("div",{className:"promo-section2"},r.a.createElement("div",{className:"promo-choose-platform"},r.a.createElement("div",null,r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",null,"Platform:"),r.a.createElement(Pe.a,{style:{width:"65%"},onChange:e.handleChangePlatformPromo,placeholder:"-Ch\u1ecdn game-",value:a},g)," "),r.a.createElement("div",{className:"promo-choose-platform-server"},r.a.createElement("p",null,"Server:"),r.a.createElement(Pe.a,{placeholder:"-Ch\u1ecdn server-",style:{width:"65%"},onChange:e.handleChangeServerPromo,name:"server",value:c},O)," ")),r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",null,"Type of present :"),r.a.createElement(Pe.a,{style:{width:"65%"},onChange:e.handleChangeTypePromo,placeholder:"-T\u1eb7ng qu\xe0-",value:l},v)," ")))})),ac=[{purchaseTimes:1,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]}];var nc=Object(he.b)((function(e){return{visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=Object(n.useState)(!0),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({name:"",platformId:"",server:"",status:"INPUT",type:"",typeEvent:"",timeTotal:[Ge()().format("YYYY-MM-DD HH:mm:ss"),Ge()().format("YYYY-MM-DD HH:mm:ss")],dates:[],daily:[],startTime:"00:00:00",endTime:"00:00:00",linkUrl:null}),s=Object(y.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)({platformId:"",server:""}),f=Object(y.a)(d,2),E=f[0],b=f[1],h=Object(n.useState)({listGame:[{}],listServer:[{server:0,serverName:"All server"}],listItems:[{productId:"",partnerProductId:""}]}),v=Object(y.a)(h,2),g=v[0],O=v[1],j=Object(n.useState)({paymentTypeByMoney:"",isPaymentTypeByCoin:!1,itemsForEventByMoney:[{productName:"",productId:""}]}),N=Object(y.a)(j,2),C=N[0],S=N[1],w=Object(n.useState)(ac),P=Object(y.a)(w,2),T=P[0],k=P[1];Object(n.useEffect)((function(){te(null)}),[]);var A=m.platformId,x=m.status,D=m.server,M=m.linkUrl,B=(g.listGame,g.listItems);g.listServer,Object(Re.c)(wn(A),{onCompleted:function(e){O(Object(I.a)({},g,{listItems:e.listPartnerProducts}))}}).data,Object(Re.c)(Fn,{onCompleted:function(e){O(Object(I.a)({},g,{listGame:e.listPartners}))}}),Object(Re.c)(Lr(A),{onCompleted:function(e){O(Object(I.a)({},g,{listServer:[{server:0,serverName:"All server"}].concat(Object(V.a)(e.listPartnerServers))}))}}).data2;var Y=Object(Re.a)(Gr,{onCompleted:function(e){S(Object(I.a)({},C,{itemsForEventByMoney:e.listProducts}))}}),R=Object(y.a)(Y,1)[0],U=function(e){Ze.a.confirm({title:"T\u1ea1o khuy\u1ebfn m\xe3i th\xe0nh c\xf4ng",okText:"Xem danh s\xe1ch",cancelText:"Ti\u1ebfp t\u1ee5c",onOk:function(){le(!0)},onCancel:function(){l(!c)}})};return r.a.createElement(Ie.a,null,r.a.createElement($e.a,{className:"container-promotion"},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Ie.b,{to:"/payment/promotion",onClick:function(){return le(!0)}},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Quay l\u1ea1i")),r.a.createElement("h2",null,"Th\xeam m\u1edbi khuy\u1ebfn m\xe3i"))),r.a.createElement(Qe.a,{md:12,className:"section1-promotion"},r.a.createElement("div",null,r.a.createElement(Xr,{listPartner:g,indexPromoAndEvent:m,setListPartner:O,status:x,setInfoPromo:function(e){u(Object(I.a)({},m,Object(et.a)({},e.target.name,e.target.value)))},resetGameAndServer:function(){O(Object(I.a)({},g,{listServer:[{server:0,serverName:"All server"}]})),u(Object(I.a)({},m,{platformPromoId:"",server:""}))},switchTypeEvent:c,setSwitchTypeEvent:l}),c?r.a.createElement(tc,{indexGameForPromo:E,listPartner:g,handleChangeTypePromo:function(e){u(Object(I.a)({},m,{type:e}))},indexPromoAndEvent:m,handleChangePlatformPromo:function(e){k([{purchaseTimes:1,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]}]),b(Object(I.a)({},E,{platformId:e,server:""}))},handleChangelistPartner:function(e){u(Object(I.a)({},m,{listPartner:e}))},handleChangeServerPromo:function(e){b(Object(I.a)({},E,{server:e}))}}):r.a.createElement($r,{switchTypeEvent:c,indexPromoAndEvent:m,indexEventByMoney:C,setIndexEventByMoney:S,getItemsForEventTypeMoney:R,server:D,listPartner:g,handleChangePlatform:function(e){u(Object(I.a)({},m,{platformId:e,server:""}))},handleChangeServer:function(e){u(Object(I.a)({},m,{server:e}))}}))),r.a.createElement(Zr,{indexPromoAndEvent:m,handleStartTimeTotal:function(e){var t=m.timeTotal;t[0]=Ge()(e).format("YYYY-MM-DD HH:mm")+":00";var a=Number(Ge()(t[1]).format("x"));e.valueOf()-a>0&&(t[1]=Ge()(e).add(10,"days").format("YYYY-MM-DD hh:mm")),u(Object(I.a)({},m,{timeTotal:t}))},handleEndTimeTotal:function(e){var t=m.timeTotal;t[1]=Ge()(e).format("YYYY-MM-DD hh:mm")+":59",u(Object(I.a)({},m,{timeTotal:t}))},pickAllDay:function(){u(Object(I.a)({},m,{startTime:"00:00:00",endTime:"23:59:59"}))},handleChangeDaily:function(e){u(Object(I.a)({},m,{daily:e.sort((function(e,t){return e-t}))}))},handleChangeDates:function(e){u(Object(I.a)({},m,{dates:e.sort((function(e,t){return e-t}))}))},setTimePromo:function(e,t){u("startTime"===t?Object(I.a)({},m,{startTime:""!==e?e+":00":""}):Object(I.a)({},m,{endTime:""!==e?e+":59":""}))},isTimeInPromo:null}),r.a.createElement(Qe.a,{md:18},c?r.a.createElement(Ar,{successAlert:U,listItems:B,indexPromoAndEvent:m,indexGameForPromo:E,indexShop:T,setIndexShop:k}):r.a.createElement(Jr,{listItems:B,successAlert:U,indexShop:T,setIndexShop:k,indexPromoAndEvent:m,listPartner:g,setIndexPromoAndEvent:u,indexEventByMoney:C,setIndexEventByMoney:S,getItemsForEventTypeMoney:R})),r.a.createElement(Qe.a,{md:6,style:{margin:".5rem 0"}},r.a.createElement("h3",null,"Link post"),r.a.createElement(p.a,{placeholder:"Get link post...",style:{width:"100%"},value:M,onChange:function(e){u(Object(I.a)({},m,{linkUrl:e.target.value}))}}),r.a.createElement("div",null,r.a.createElement("p",{className:"select-image-promotion"},"Select thumbnail promotion"),r.a.createElement("div",{style:{width:"100%"}},null===e.urlImgThumbnail?r.a.createElement("i",null,"Thumbnail image is emtry"):r.a.createElement("img",{src:e.urlImgThumbnail,style:{maxHeight:"100%",maxWidth:"100%"}})),r.a.createElement("a",{onClick:function(){return Z(!0)}},"Select")),r.a.createElement(ea,{isThumbnail:!0}))))})),rc=["DAU","MAU","NRU","DPU","NPU","PR","ARPDAU","ARPPDAU"];function cc(){var e=Object(Te.a)(["\n  query {\n    listPartnersByGame {\n      partnerId\n      partnerName\n      fullName\n    }\n  }\n"]);return cc=function(){return e},e}function lc(){var e=Object(Te.a)(["\n  query chartMau(\n    $fromMonth: String!\n    $toMonth: String!\n    $game: String!\n  ) {\n    chartMau(\n      fromMonth: $fromMonth\n      toMonth: $toMonth\n      game: $game\n    ) {\n      xAxis\n      yAxis\n    }\n  }\n"]);return lc=function(){return e},e}function oc(){var e=Object(Te.a)(["\nquery chartPaidUserByDate(\n  $fromDate: String!\n  $toDate: String!\n  $game: String!\n){\n  chartPaidUserByDate(\n    fromDate: $fromDate\n    toDate: $toDate\n    game: $game\n  ){\n    xAxis\n    yAxis\n  }\n}\n"]);return oc=function(){return e},e}function ic(){var e=Object(Te.a)(["\nquery chartNruByOs(\n  $fromDate: String!\n  $toDate: String!\n  $game: String!\n){\n  chartNruByOs(\n    fromDate: $fromDate\n    toDate: $toDate\n    game: $game\n  ){\n    xAxis\n    yAxis\n  }\n}\n"]);return ic=function(){return e},e}function sc(){var e=Object(Te.a)(["\n  query chartDau(\n    $fromDate: String!\n    $toDate: String!\n    $game: String!\n  ) {\n    chartDau(\n      fromDate: $fromDate\n      toDate: $toDate\n      game: $game\n    ) {\n      xAxis\n      yAxis\n    }\n  }\n"]);return sc=function(){return e},e}var mc=Object(ke.b)(sc()),uc=Object(ke.b)(ic()),dc=Object(ke.b)(oc()),pc=Object(ke.b)(lc()),fc=Object(ke.b)(cc()),Ec=(a(461),Pe.a.Option),bc=[{days:"3 days ago",variables:"THREE_DAY_AGO"},{days:"7 days ago",variables:"SEVENT_DAY_AGO"},{days:"14 days ago",variables:"FOURTEEN_DAY_AGO"},{days:"30 days ago",variables:"THIRTY_DAY_AGO"}],yc=function(e){var t=Object(n.useState)({fromDate:$a.SEVENT_DAY_AGO,toDate:$a.TODAY,fromDateCustom:null,toDateCustom:null}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(y.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)("SEVENT_DAY_AGO"),f=Object(y.a)(d,2),E=f[0],b=f[1],h=e.nameStats,v=e.partnerId,g=(c.fromDate,c.toDate,c.fromDateCustom),O=c.toDateCustom,j=Object(n.useState)({xAxis:[],yAxis:[]}),N=Object(y.a)(j,2),C=N[0],S=N[1],w=$a.TODAY,P=Object(Re.a)(mc,{fetchPolicy:"cache-and-network",onCompleted:function(e){S({xAxis:JSON.parse(e.chartDau.xAxis),yAxis:JSON.parse(e.chartDau.yAxis)})}}),T=Object(y.a)(P,1)[0],k=Object(Re.a)(uc,{fetchPolicy:"cache-and-network",onCompleted:function(e){console.log(e),S({xAxis:JSON.parse(e.chartNruByOs.xAxis),yAxis:JSON.parse(e.chartNruByOs.yAxis)})}}),A=Object(y.a)(k,1)[0];Object(n.useMemo)((function(){switch(b("SEVENT_DAY_AGO"),h){case"DAU":T({variables:{fromDate:$a.SEVENT_DAY_AGO,toDate:w,game:v}});break;case"NRU":A({variables:{fromDate:$a.SEVENT_DAY_AGO,toDate:w,game:v}})}}),[v,h]);var x=function(){u(!m)},D=function(e){if("NRU"===h){var t=[];C.yAxis.map((function(a,n){return a.map((function(a,n){a.os===e&&t.push(a.count)}))}));return t}var a=[];C.yAxis.map((function(t,n){return t.map((function(t,n){t.os===e&&a.push(t.dau)}))}));return a},M=function(){switch(h){case"DAU":T({variables:{fromDate:g,toDate:O,game:v}});break;case"NRU":A({variables:{fromDate:g,toDate:O,game:v}})}u(!m)},B={labels:C.xAxis,datasets:[{label:"ALL",fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:D("ALL")},{label:"WEB",fill:!1,backgroundColor:"#ffd54f",borderColor:"#ffd54f",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:D("web")},{label:"ANDROID",fill:!1,backgroundColor:"#fcaf18",borderColor:"#fcaf18",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:D("android")},{label:"IOS",fill:!1,backgroundColor:"#4280ad",borderColor:"#4280ad",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:D("ios")}]},Y=bc.map((function(e,t){return r.a.createElement(Ec,{value:e.variables,key:t},e.days)}));return r.a.createElement("div",{style:{width:"85%"},className:"chart-stats"},r.a.createElement("div",{className:"title-stats"},r.a.createElement("h2",{style:{margin:"0"}},h),r.a.createElement("span",null,"Daily active users")),r.a.createElement("div",{className:"chart-select-dates"},r.a.createElement(Pe.a,{value:E,style:{width:120,marginTop:"1.5rem"},onChange:function(e){!function(e){switch(l({fromDate:$a[e],toDate:w}),h){case"DAU":T({variables:{fromDate:$a[e],toDate:w,game:v}});break;case"NRU":A({variables:{fromDate:$a[e],toDate:w,game:v}})}}(e),b(e)},className:"select_dates-stats"},Y,r.a.createElement(Ec,{value:"5",onClick:x},"Custom...")),m&&r.a.createElement("div",{className:"modal_datepicker"},r.a.createElement(Xe.a,{allowClear:!1,disabledDate:function(e){if(null!=g)return e&&e<Ge()(g).subtract(1,"days").endOf("day")||e>Ge()().endOf("day")},format:"YYYY-MM-DD",value:null==g?null:Ge()(g,"YYYY-MM-DD"),placeholder:"StartDate",onChange:function(e){return t=e,void l(null==g?Object(I.a)({},c,{fromDateCustom:t}):Object(I.a)({},c,{toDateCustom:Ge()(t).format("YYYY-MM-DD")}));var t},className:"input_date_chart",open:!0,dropdownClassName:"calendar-select-stats",renderExtraFooter:function(){return r.a.createElement("div",{className:"datepicker_footer"},r.a.createElement("span",{onClick:function(){return l(Object(I.a)({},c,{fromDateCustom:null,toDateCustom:null}))}},"CLEAR"),r.a.createElement("span",{onClick:x},"CANCEL"),r.a.createElement("span",{style:{color:"#0085ff"},onClick:M},"APPLY"))}}),r.a.createElement(p.a,{open:!0,value:O,placeholder:"EndDate",suffix:r.a.createElement(i.a,{type:"calendar",style:{color:"#9e9e9e"}}),className:"input_date_chart"}))),r.a.createElement(Ma.a,{data:B,width:100,height:50,options:Ka}))},hc=Pe.a.Option,vc=Xe.a.MonthPicker,gc=[{days:"3 months ago",variables:"THREE_MONTHS_AGO"},{days:"6 months ago",variables:"SIX_MONTHS_AGO"},{days:"1 years ago",variables:"ONE_YEAR_AGO"}],Oc=function(e){var t=Object(n.useState)({fromMonth:Qa.THREE_MONTHS_AGO,toMonth:Qa.THISMONTH,fromMonthCustom:null,toMonthCustom:null,defaulSelectMonth:"THREE_MONTHS_AGO"}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(y.a)(o,2),m=s[0],u=s[1],d=e.nameStats,f=e.partnerId,E=(c.fromMonth,c.toMonth,c.fromMonthCustom),b=c.toMonthCustom,h=c.defaulSelectMonth,v=Object(n.useState)({xAxis:[],yAxis:[]}),g=Object(y.a)(v,2),O=g[0],j=g[1],N=Qa.THISMONTH,C=Object(Re.a)(pc,{onCompleted:function(e){j({xAxis:JSON.parse(e.chartMau.xAxis),yAxis:JSON.parse(e.chartMau.yAxis)})}}),S=Object(y.a)(C,1)[0];Object(n.useMemo)((function(){S({variables:{fromMonth:Qa.THREE_MONTHS_AGO,toMonth:N,game:f}}),l(Object(I.a)({},c,{defaulSelectMonth:"THREE_MONTHS_AGO"}))}),[f]);var w=function(){u(!m)},P=function(e){var t=[];O.yAxis.map((function(a,n){return a.map((function(a,n){a.os===e&&t.push(a.mau)}))}));return t},T=function(){S({variables:{fromMonth:E,toMonth:b,game:f}}),u(!m)},k={labels:O.xAxis,datasets:[{label:"ALL",fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:P("ALL")},{label:"WEB",fill:!1,backgroundColor:"#ffd54f",borderColor:"#ffd54f",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:P("web")},{label:"ANDROID",fill:!1,backgroundColor:"#fcaf18",borderColor:"#fcaf18",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:P("android")},{label:"IOS",fill:!1,backgroundColor:"#4280ad",borderColor:"#4280ad",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:P("ios")}]},A=gc.map((function(e,t){return r.a.createElement(hc,{value:e.variables,key:t},e.days)}));return r.a.createElement("div",{style:{width:"85%"},className:"chart-stats"},r.a.createElement("div",{className:"title-stats"},r.a.createElement("h2",{style:{margin:"0"}},d),r.a.createElement("span",null,"Daily active users")),r.a.createElement("div",{className:"chart-select-months"},r.a.createElement(Pe.a,{value:h,style:{width:120,marginTop:"1.5rem"},onChange:function(e){var t;t=e,console.log(t),l(Object(I.a)({},c,{fromMonth:Qa[t],toMonth:N,defaulSelectMonth:t})),S({variables:{fromMonth:Qa[t],toMonth:N,game:f}})},className:"select_months-stats"},A,r.a.createElement(hc,{value:"5",onClick:w},"Custom...")),m&&r.a.createElement("div",{className:"modal_datepicker"},r.a.createElement(vc,{allowClear:!1,disabledDate:function(e){if(null!=E)return e&&e<Ge()(E).subtract(1,"months").endOf("months")||e>Ge()().endOf("month")},format:"YYYY-MM-DD",value:null==E?null:Ge()(E,"YYYY-MM-DD"),placeholder:"StartMonth",onChange:function(e){return t=e,void l(null==E?Object(I.a)({},c,{fromMonthCustom:t}):Object(I.a)({},c,{toMonthCustom:Ge()(t).format("YYYY-MM-DD")}));var t},className:"input_month_chart",open:!0,dropdownClassName:"calendar-selectmonth-stats",renderExtraFooter:function(){return r.a.createElement("div",{className:"datepicker_footer"},r.a.createElement("span",{onClick:function(){return l(Object(I.a)({},c,{fromMonthCustom:null,toMonthCustom:null}))}},"CLEAR"),r.a.createElement("span",{onClick:w},"CANCEL"),r.a.createElement("span",{style:{color:"#0085ff"},onClick:T},"APPLY"))}}),r.a.createElement(p.a,{open:!0,value:b,placeholder:"EndMonth",suffix:r.a.createElement(i.a,{type:"calendar",style:{color:"#9e9e9e"}}),className:"input_month_chart"}))),r.a.createElement(Ma.a,{data:k,width:100,height:50,options:Ka}))},jc=Pe.a.Option,Ic=[{days:"3 days ago",variables:"THREE_DAY_AGO"},{days:"7 days ago",variables:"SEVENT_DAY_AGO"},{days:"14 days ago",variables:"FOURTEEN_DAY_AGO"},{days:"30 days ago",variables:"THIRTY_DAY_AGO"}],Nc=function(e){var t=Object(n.useState)({fromDate:$a.SEVENT_DAY_AGO,toDate:$a.TODAY,fromDateCustom:null,toDateCustom:null}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(y.a)(o,2),m=s[0],u=s[1],d=Object(n.useState)("SEVENT_DAY_AGO"),f=Object(y.a)(d,2),E=f[0],b=f[1],h=e.nameStats,v=e.partnerId,g=(c.fromDate,c.toDate,c.fromDateCustom),O=c.toDateCustom,j=Object(n.useState)({xAxis:[],yAxis:[]}),N=Object(y.a)(j,2),C=N[0],S=N[1],w=$a.TODAY,P=Object(Re.a)(dc,{fetchPolicy:"cache-and-network",onCompleted:function(e){console.log(JSON.parse(e.chartPaidUserByDate.yAxis)),S({xAxis:JSON.parse(e.chartPaidUserByDate.xAxis),yAxis:JSON.parse(e.chartPaidUserByDate.yAxis)})}}),T=Object(y.a)(P,1)[0];Object(n.useMemo)((function(){b("SEVENT_DAY_AGO"),T({variables:{fromDate:$a.SEVENT_DAY_AGO,toDate:w,game:v}})}),[v,h]);var k=function(){u(!m)},A=function(){T({variables:{fromDate:g,toDate:O,game:v}}),u(!m)},x={labels:C.xAxis,datasets:[{label:h,fill:!1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,0.4)",borderWidth:2,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:function(e){switch(e){case"npu":return C.yAxis.map((function(e,t){return e[0].dfpu}));case"dpu":return C.yAxis.map((function(e,t){return e[0].dpu}));case"pr":return C.yAxis.map((function(e,t){return e[0].pr}));case"arpdau":return C.yAxis.map((function(e,t){return e[0].arpdau}));case"arppdau":return C.yAxis.map((function(e,t){return e[0].arppdau}))}}(h.toLowerCase())}]},D=Ic.map((function(e,t){return r.a.createElement(jc,{value:e.variables,key:t},e.days)}));return r.a.createElement("div",{style:{width:"85%"},className:"chart-stats"},r.a.createElement("div",{className:"title-stats"},r.a.createElement("h2",{style:{margin:"0"}},h),r.a.createElement("span",null,function(e){switch(e){case"DPU":return"Daily paid user";case"NPU":return"New pay user";case"PR":return"Pay/Rate";case"ARPDAU":return"REV/DAU";case"ARPPDAU":return"REV/DPU"}}(h))),r.a.createElement("div",{className:"chart-select-dates"},r.a.createElement(Pe.a,{value:E,style:{width:120,marginTop:"1.5rem"},onChange:function(e){var t;l({fromDate:$a[t=e],toDate:w}),T({variables:{fromDate:$a[t],toDate:w,game:v}}),b(e)},className:"select_dates-stats"},D,r.a.createElement(jc,{value:"5",onClick:k},"Custom...")),m&&r.a.createElement("div",{className:"modal_datepicker"},r.a.createElement(Xe.a,{allowClear:!1,disabledDate:function(e){if(null!=g)return e&&e<Ge()(g).subtract(1,"days").endOf("day")||e>Ge()().endOf("day")},format:"YYYY-MM-DD",value:null==g?null:Ge()(g,"YYYY-MM-DD"),placeholder:"StartDate",onChange:function(e){return t=e,void l(null==g?Object(I.a)({},c,{fromDateCustom:t}):Object(I.a)({},c,{toDateCustom:Ge()(t).format("YYYY-MM-DD")}));var t},className:"input_date_chart",open:!0,dropdownClassName:"calendar-select-stats",renderExtraFooter:function(){return r.a.createElement("div",{className:"datepicker_footer"},r.a.createElement("span",{onClick:function(){return l(Object(I.a)({},c,{fromDateCustom:null,toDateCustom:null}))}},"CLEAR"),r.a.createElement("span",{onClick:k},"CANCEL"),r.a.createElement("span",{style:{color:"#0085ff"},onClick:A},"APPLY"))}}),r.a.createElement(p.a,{open:!0,value:O,placeholder:"EndDate",suffix:r.a.createElement(i.a,{type:"calendar",style:{color:"#9e9e9e"}}),className:"input_date_chart"}))),r.a.createElement(Ma.a,{data:x,width:100,height:50,options:Ka}))},Cc=m.a.SubMenu;var Sc=function(){var e=rc,t=Object(n.useState)([{partnerId:"",partnerName:"",fullName:""}]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({partnerId:"",nameStats:""}),i=Object(y.a)(o,2),s=i[0],u=i[1],d=s.partnerId,p=s.nameStats;Object(Re.c)(fc,{onCompleted:function(e){return l(e.listPartnersByGame)}}),Object(n.useEffect)((function(){u({partnerId:"1BA3F861-D4F2-4D97-9F78-38633155EC27",nameStats:"DAU"})}),[]);var f=c.map((function(t,a){var n=e.map((function(e,a){return r.a.createElement(m.a.Item,{key:'{"partnerId":"'.concat(t.partnerId,'","nameStats":"').concat(e,'"}')},e)}));return r.a.createElement(Cc,{key:t.partnerName,title:r.a.createElement("span",null,r.a.createElement("span",null,t.fullName))},n)})),E=r.a.createElement(m.a,{onClick:function(e){u(JSON.parse(e.key))},style:{width:"15%"},mode:"inline",defaultSelectedKeys:['{"partnerId":"1BA3F861-D4F2-4D97-9F78-38633155EC27","nameStats":"DAU"}'],defaultOpenKeys:["3qzombie"]},f);switch(p){case"MAU":return r.a.createElement("div",{className:"stats"},E,r.a.createElement(Oc,{nameStats:p,partnerId:d}));case"DPU":case"NPU":case"PR":case"ARPDAU":case"ARPPDAU":case"MPU":return r.a.createElement("div",{className:"stats"},E,r.a.createElement(Nc,{nameStats:p,partnerId:d}));default:return r.a.createElement("div",{className:"stats"},E,r.a.createElement(yc,{nameStats:p,partnerId:d}))}},wc=["Servers"],Pc=function(e){var t=Object(n.useState)([]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(Re.a)(zr,{onCompleted:function(e){l(e.listPartnerServersByPartner)}}),i=Object(y.a)(o,1)[0],s=e.nameStats,m=e.partnerId;Object(n.useMemo)((function(){switch(s){case"Servers":i({variables:{partnerId:m}})}}),[m]);var u=[{title:"Server name",dataIndex:"serverName"},{title:"Id",dataIndex:"server"},{title:"Th\u1eddi gian t\u1ea1o",dataIndex:"createdDate",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY"))}},{title:"Status",dataIndex:"status"}];return r.a.createElement("div",{style:{width:"85%"},className:"chart-stats"},r.a.createElement("div",{className:"title-stats",style:{marginBottom:"1rem"}},r.a.createElement("h2",{style:{margin:"0"}},"Clappigames"),r.a.createElement("span",null,s)),r.a.createElement(Se.a,{columns:u,dataSource:c,pagination:!1}))},Tc=m.a.SubMenu;var kc=function(){var e=wc,t=Object(n.useState)([{partnerId:"",partnerName:"",fullName:""}]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({partnerId:"",nameStats:""}),i=Object(y.a)(o,2),s=i[0],u=i[1],d=s.partnerId,p=s.nameStats;Object(Re.c)(fc,{onCompleted:function(e){return l(e.listPartnersByGame)}}),Object(n.useEffect)((function(){u({partnerId:"1BA3F861-D4F2-4D97-9F78-38633155EC27",nameStats:"Servers"})}),[]);var f=c.map((function(t,a){var n=e.map((function(e,a){return r.a.createElement(m.a.Item,{key:'{"partnerId":"'.concat(t.partnerId,'","nameStats":"').concat(e,'"}')},e)}));return r.a.createElement(Tc,{key:t.partnerName,title:r.a.createElement("span",null,r.a.createElement("span",null,t.fullName))},n)}));return r.a.createElement("div",{className:"stats"},r.a.createElement(m.a,{onClick:function(e){u(JSON.parse(e.key))},style:{width:"15%",height:"80vh"},mode:"inline",defaultSelectedKeys:['{"partnerId":"1BA3F861-D4F2-4D97-9F78-38633155EC27","nameStats":"Servers"}'],defaultOpenKeys:["3qzombie"]},f),r.a.createElement(Pc,{nameStats:p,partnerId:d}))},Ac=rt.a.TabPane;var xc=function(){var e=Object(n.useState)({currentPage:1,pageSize:10,status:"",type:"",game:"",server:0,name:""}),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(y.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)([]),d=Object(y.a)(m,2),f=d[0],h=d[1],v=a.currentPage,g=a.pageSize,O=a.status,j=a.type,N=a.game,C=a.server,S=a.name,w=Object(Re.a)(Fr,{fetchPolicy:"cache-and-network",onCompleted:function(e){s(e.listPromotionsByType)}}),P=Object(y.a)(w,2),T=P[0],k=P[1],A=k.loading,x=(k.data,Object(Re.b)(pr,{variables:{ids:f},onCompleted:function(e){return console.log(e)}})),D=Object(y.a)(x,1)[0];Object(n.useMemo)((function(){T({variables:{currentPage:v,pageSize:g,status:O,type:j,game:N,server:C,name:S}})}),[]);var M=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(Ie.b,{to:"/payment/promotion/detail/promotion?id=".concat(t.id)},e))}},{title:"Method",dataIndex:"type",key:"type"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return r.a.createElement("span",null,"INPUT"===e?"Ng\u1eebng ho\u1ea1t \u0111\u1ed9ng":"Ho\u1ea1t \u0111\u1ed9ng")}},{title:"Total",dataIndex:"",key:"demo"},{title:"Start Time",dataIndex:"eventTime",key:"startTime",render:function(e){return r.a.createElement("span",null,JSON.parse(e).startTime)}},{title:"End Time",dataIndex:"eventTime",key:"endTime",render:function(e){return r.a.createElement("span",null,JSON.parse(e).endTime)}}],B=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:T({variables:{currentPage:v,pageSize:g,status:O,type:j,game:N,server:C,name:S}}),h([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y={onChange:function(e,t){h(t.map((function(e,t){return e.id})))}};return A?"Loading...":r.a.createElement("div",null,r.a.createElement("div",{className:"btn-search-promo"},r.a.createElement(p.a,{onChange:function(e){c(Object(I.a)({},a,{name:e.target.value}))},style:{marginRight:".25rem"}}),r.a.createElement(u.a,{onClick:function(){T({variables:{currentPage:v,pageSize:g,status:O,type:j,game:N,server:C,name:S}})},style:{marginRight:".25rem"}},"Search"),r.a.createElement(u.a,{onClick:B,disabled:!(f.length>0)},"Delete")),r.a.createElement(rt.a,{activeKey:O,onChange:function(e){c(Object(I.a)({},a,{status:e})),T({variables:{currentPage:v,pageSize:g,status:e,type:j,game:N,server:C,name:S}})}},r.a.createElement(Ac,{tab:"Total Purchase",key:""}),r.a.createElement(Ac,{tab:"Active",key:"COMPLETE"}),r.a.createElement(Ac,{tab:"Plan",key:"INPUT"})),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{columns:M,dataSource:i.rows,pagination:!1,rowSelection:Y}),r.a.createElement(Ce.a,{current:v,total:i.count,pageSize:10,onChange:function(e){c(Object(I.a)({},a,{currentPage:e})),T({variables:{currentPage:v,pageSize:g,status:O,type:j,game:N,server:C,name:S}})},className:"pagination-listUser"})))},Dc=rt.a.TabPane;var Mc=Object(he.b)((function(e){return{isCreatePromo:e.isCreatePromo}}),null)((function(e){var t=Object(n.useState)({currentPage:1,pageSize:10,status:"",paymentType:"",name:""}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),i=Object(y.a)(o,2),s=i[0],m=i[1],d=Object(n.useState)([]),f=Object(y.a)(d,2),h=f[0],v=f[1],g=c.currentPage,O=c.pageSize,j=c.status,N=c.paymentType,C=c.name,S=Object(Re.a)(Hr,{fetchPolicy:"cache-and-network",onCompleted:function(e){m(e.listEventsByType)}}),w=Object(y.a)(S,2),P=w[0],T=w[1],k=T.loading,A=(T.data,Object(Re.b)(fr,{variables:{ids:h},onCompleted:function(e){return console.log(e)}})),x=Object(y.a)(A,1)[0];Object(n.useEffect)((function(){P({variables:{currentPage:g,pageSize:O,status:j,paymentType:N,name:C}})}),[]);var D=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(Ie.b,{to:"/payment/promotion/detail/event?id=".concat(t.id)},e))}},{title:"Method",dataIndex:"config",key:"type",render:function(e){return"INKIND"===JSON.parse(e).type?r.a.createElement("span",null,"T\u1eb7ng qu\xe0 out Game"):"COIN"===JSON.parse(e).type?r.a.createElement("span",null,"T\u1eb7ng C.COIN"):r.a.createElement("span",null,"T\u1eb7ng Item in Game")}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return r.a.createElement("span",null,"INPUT"===e?"Plan":"Active")}},{title:"Total",dataIndex:"",key:"demo"},{title:"Start Time",dataIndex:"eventTime",key:"startTime",render:function(e){return r.a.createElement("span",null,JSON.parse(e).startTime)}},{title:"End Time",dataIndex:"eventTime",key:"endTime",render:function(e){return r.a.createElement("span",null,JSON.parse(e).endTime)}}],M={onChange:function(e,t){v(t.map((function(e,t){return e.id})))}},B=function(){var e=Object(b.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:P({variables:{currentPage:g,pageSize:O,status:j,paymentType:N,name:C}}),v([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?"Loading...":r.a.createElement("div",null,r.a.createElement("div",{className:"btn-search-promo"},r.a.createElement(p.a,{onChange:function(e){l(Object(I.a)({},c,{name:e.target.value}))},style:{marginRight:".25rem"}}),r.a.createElement(u.a,{onClick:function(){P({variables:{currentPage:g,pageSize:O,status:j,paymentType:N,name:C}})},style:{marginRight:".25rem"}},"Search"),r.a.createElement(u.a,{onClick:B,disabled:!(h.length>0)},"Delete")),r.a.createElement(rt.a,{activeKey:j,onChange:function(e){l(Object(I.a)({},c,{status:e})),P({variables:{currentPage:g,pageSize:O,status:e,paymentType:N,name:C}})}},r.a.createElement(Dc,{tab:"Total Purchase",key:""}),r.a.createElement(Dc,{tab:"Active",key:"COMPLETE"}),r.a.createElement(Dc,{tab:"Plan",key:"INPUT"})),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{columns:D,dataSource:s.rows,pagination:!1,rowSelection:M}),r.a.createElement(Ce.a,{current:g,total:s.count,pageSize:10,onChange:function(e){l(Object(I.a)({},c,{currentPage:e})),P({variables:{currentPage:g,pageSize:O,status:j,paymentType:N,name:C}})},className:"pagination-listUser"})))}));var Bc=Object(he.b)((function(e){return{isCreatePromo:e.isCreatePromo}}),null)((function(e){var t=Object(n.useState)("promo"),a=Object(y.a)(t,2),c=a[0],l=a[1];return Object(Re.c)(Fn,{onCompleted:function(e){re(e.listPartners)}}),r.a.createElement(r.a.Fragment,null,e.isCreatePromo?r.a.createElement("div",{className:"container-listPromo"},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,"Promotion managerment"," ",r.a.createElement(u.a,{size:"small",onClick:function(){return le(!1)}},"Creat new promotion"))),r.a.createElement("div",null,r.a.createElement(mt.a.Group,{value:c,buttonStyle:"solid",onChange:function(e){l(e.target.value)}},r.a.createElement(mt.a.Button,{value:"promo",className:"btn-switch-listPromo",style:{marginRight:".5rem"}},"Promotion for Item"),r.a.createElement(mt.a.Button,{value:"event",className:"btn-switch-listPromo"},"Promotion for purchase"))),"promo"===c?r.a.createElement(xc,{isCreatePromo:e.isCreatePromo}):r.a.createElement(Mc,{isPromo:c})):r.a.createElement(nc,null))})),Yc=Pe.a.Option;var Rc=Object(he.b)((function(e){return{detailPromo:e.detailPromo}}),null)((function(e){var t=Object(n.useState)([{productName:"",partnerProductId:""}]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([{partnerId:"",partnerName:""}]),i=Object(y.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([{server:0,serverName:"All server"}]),d=Object(y.a)(u,2),f=d[0],E=d[1],b=e.detailPromo,h=(b.name,b.status,b.eventTime,b.type),v=b.shop,g=b.game,O=b.server,j=Object(Re.a)(Fn,{onCompleted:function(e){return m(e.listPartners)}}),I=Object(y.a)(j,1)[0],N=Object(Re.a)(Lr(g),{onCompleted:function(e){E([{server:0,serverName:"All server"}].concat(Object(V.a)(e.listPartnerServers)))}}),C=Object(y.a)(N,1)[0],S=Object(Re.a)(wn(g),{onCompleted:function(e){l(e.listPartnerProducts)}}),w=Object(y.a)(S,1)[0];Object(n.useMemo)((function(){return I()}),[g]),Object(n.useMemo)((function(){return C()}),[g]),Object(n.useMemo)((function(){return w()}),[g]);var P=c.map((function(e,t){return r.a.createElement(Yc,{value:e.partnerProductId,key:t},e.productName)}));if(v){var T=JSON.parse(v),k=T.map((function(e,t){var a=e.rewards.map((function(e,a){return r.a.createElement("div",{key:a,className:"more-reward-detail"},r.a.createElement(p.a,{value:T[t].rewards[a].numb,type:"number",max:"10",name:"pucharseTimes",style:{width:"19%",marginRight:"2%"}}),r.a.createElement(Pe.a,{mode:"multiple",style:{width:"79%"},dropdownClassName:"dropdown-coin-event",showArrow:!1,value:T[t].rewards[a].itemId},P)," ")}));return r.a.createElement("div",{key:t},r.a.createElement(Qe.a,{md:12,className:"more-items-detail"},r.a.createElement(p.a,{value:T[t].purchaseTimes,type:"number",max:"10",name:"pucharseTimes",style:{width:"20%",marginRight:"2%"}}),r.a.createElement(Pe.a,{value:T[t].purchaseItemId,style:{width:"78%"},dropdownClassName:"dropdown-coin-event",showArrow:!1},P)," "),r.a.createElement(Qe.a,{md:12},a))})),A=s.map((function(e,t){return r.a.createElement(Yc,{value:e.partnerId,key:t},e.partnerName)})),x=f.map((function(e,t){return r.a.createElement(Yc,{value:e.server,key:t},e.serverName)}));return r.a.createElement($e.a,null,r.a.createElement("h3",null,"Promotion for Item"),r.a.createElement("p",null,"Type of present : ",h),r.a.createElement("div",{className:"detail-game"},r.a.createElement("span",{style:{marginRight:"1rem"}},"Platform:"," ",r.a.createElement(Pe.a,{value:g,dropdownClassName:"dropdown-coin-event",showArrow:!1,size:"large",className:"select-disable-detail"},A)),r.a.createElement("span",null,"Server:"," ",r.a.createElement(Pe.a,{value:O,dropdownClassName:"dropdown-coin-event",showArrow:!1,size:"large",className:"select-disable-detail"},x))),r.a.createElement("div",{style:{width:"100%"},className:"section4-promotion-title"},r.a.createElement("div",{style:{width:"50%",display:"flex"}},r.a.createElement("div",{style:{width:"22%"}},"The mount of item"),r.a.createElement("div",{style:{width:"78%"}},"Item")),r.a.createElement("div",{style:{width:"50%",display:"flex",paddingLeft:"1.5rem"}},r.a.createElement("div",{style:{width:"22%"}},"Amount"),r.a.createElement("div",{style:{width:"78%"}},"Present"))),k)}return r.a.createElement("p",null,"loadding...")})),Uc=Pe.a.Option,Lc=Xe.a.RangePicker;var zc=Object(he.b)((function(e){return{detailPromo:e.detailPromo}}),null)((function(e){var t=e.detailPromo,a=(t.name,t.status,t.eventTime);if(t.type,t.shop,t.game,a){var c=JSON.parse(a),l=c.startTime,o=c.endTime,i=c.hour,s=c.dates,m=c.daily,u=s.map((function(e,t){return r.a.createElement(n.Fragment,{key:t}," ",e,"rd,")})),d=Er(m);console.log(a);for(var p=[],f=1;f<=31;f++)p.push(r.a.createElement(Uc,{key:f},f<10?"0"+f:f));var E=br.map((function(e,t){return r.a.createElement(Uc,{key:t,value:t},e)}));return console.log(o),r.a.createElement(Qe.a,{md:12,className:"section2-promotion"},r.a.createElement("div",null,r.a.createElement("p",{className:"promotion-title-field"},"Timeline "),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",null,"Date:"),r.a.createElement(Lc,{showTime:{format:"HH:mm"},format:"DD-MM-YYYY HH:mm",value:[Ge()(l,"DD-MM-YYYY HH:mm"),Ge()(o,"DD-MM-YYYY HH:mm")]})),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",null,"By day of the month:"),r.a.createElement(Pe.a,{mode:"multiple",style:{width:"80%"},placeholder:"- Choose what day of the month the promotion is...",value:s,dropdownClassName:"dropdown-coin-event",disabled:0!==m.length},p)),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",null,"By day of the week:"),r.a.createElement(Pe.a,{mode:"multiple",style:{width:"80%"},placeholder:"- Choose what day of the week the promotion is...",value:m,dropdownClassName:"dropdown-coin-event",disabled:0!==s.length},E)),r.a.createElement("div",{className:"section2-promotion-pickTime"},r.a.createElement("h3",null,"Time:"),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(Qr.a,{format:"HH:mm",style:{width:"50%"},defaultValue:Ge()(i[0],"HH:mm"),showClear:!1,placeholder:"- Gi\u1edd b\u1eaft \u0111\u1ea7u"}),r.a.createElement(Qr.a,{format:"HH:mm",style:{width:"50%"},defaultValue:Ge()(i[1],"HH:mm"),placeholder:"- Gi\u1edd k\u1ebft th\xfac",showClear:!1})))),r.a.createElement("div",{style:{background:"whitesmoke",color:"red"}},"Promotion's timeline will be on ","00:00:00"===i[0]?"":"".concat(i[0]," 'to' ").concat(i[1])," ",d,u," from ",l," to ",o))}return r.a.createElement("p",null,"Loadding...")})),Gc=Pe.a.Option;var Fc=Object(he.b)((function(e){return{detailPromo:e.detailPromo}}),null)((function(e){var t=e.detailPromo,a=(t.shop,t.id),c=Object(n.useState)([{productName:"",partnerProductId:""}]),l=Object(y.a)(c,2),o=l[0],s=l[1],m=e.indexPromoAndEvent,d=m.name,f=m.status,h=m.type,v=m.timeTotal,g=m.dates,O=m.daily,j=m.startTime,I=m.endTime,N=e.indexShop,C=e.indexGameForPromo,S=C.platformId,w=C.server,P=(Object(Re.c)(wn(S),{onCompleted:function(e){s(e.listPartnerProducts)}}).data,Object(Re.b)(ur,{variables:{id:a,req:{name:d,type:h,status:f,game:S,server:w,shop:JSON.stringify(N),eventTime:JSON.stringify({startTime:v[0],endTime:v[1],dates:g,daily:O,hour:[Cr(j),Sr(I)]})}},onCompleted:function(e){return console.log(e)}})),T=Object(y.a)(P,1)[0],k=function(){var t=Object(b.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!hr(d,h,v[0],j,I)){t.next=10;break}if(!(Ir(N)&&Or(N)&&vr(N))){t.next=7;break}return t.next=4,T();case 4:e.successAlert(!1),t.next=8;break;case 7:wr();case 8:t.next=11;break;case 10:Pr();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),A=function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0===a){t.next=5;break}return t.next=3,N.filter((function(e,t){return t!==a}));case 3:n=t.sent,e.setIndexShop(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(b.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={numb:1,itemId:[]},(r=Object(V.a)(N))[a].rewards=[].concat(Object(V.a)(r[a].rewards),[n]),e.setIndexShop(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=Object(b.a)(E.a.mark((function t(a,n){var r,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isTimeInPromo){t.next=8;break}if(!((r=Object(V.a)(N)).length>0)){t.next=8;break}return t.next=5,N[a].rewards.filter((function(e,t){return n!==t}));case 5:c=t.sent,r[a].rewards=c,e.setIndexShop(r);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),M=o.map((function(e,t){return r.a.createElement(Gc,{value:e.partnerProductId,key:t},e.productName)})),B=N.map((function(t,a){var n=t.rewards.map((function(t,n){return r.a.createElement("div",{key:n,className:"more-reward"},r.a.createElement(i.a,{type:"minus",onClick:function(){return D(a,n)},style:{fontSize:"16px",margin:"0 .25rem"}}),r.a.createElement(p.a,{value:N[a].rewards[n].numb,type:"number",name:"pucharseTimes",onChange:function(t){return function(t,a,n){var r=Object(V.a)(N);r[t].rewards[a].numb=""!==n.target.value?Number(n.target.value):"",e.setIndexShop(r)}(a,n,t)},style:{width:"20%"},disabled:e.isTimeInPromo}),r.a.createElement(Pe.a,{mode:"multiple",value:N[a].rewards[n].itemId,style:{width:"80%"},onChange:function(t){return function(t,a,n){var r=Object(V.a)(N);r[t].rewards[a].itemId=n,e.setIndexShop(r)}(a,n,t)},disabled:e.isTimeInPromo},M)," ")}));return r.a.createElement("div",{key:a},r.a.createElement(Qe.a,{md:12,className:"more-items"},r.a.createElement(i.a,{type:"close",onClick:function(){return A(a)},style:{fontSize:"16px",margin:"0 .25rem"},disabled:e.isTimeInPromo}),r.a.createElement(p.a,{value:N[a].purchaseTimes,type:"number",step:"100",min:a>0?N[a-1].purchaseTimes:0,name:"pucharseTimes",onChange:function(t){return function(t,a){var n=Object(V.a)(N);n[t].purchaseTimes=""!==a.target.value?Number(a.target.value):"",console.log(n),e.setIndexShop(n)}(a,t)},style:{width:"20%"},disabled:e.isTimeInPromo}),r.a.createElement(Pe.a,{value:N[a].purchaseItemId,style:{width:"80%"},onChange:function(t){return function(t,a){var n=Object(V.a)(N);n[t].purchaseItemId=a,e.setIndexShop(n)}(a,t)},disabled:e.isTimeInPromo},M)," "),r.a.createElement(Qe.a,{md:12,style:{padding:"1rem 1rem 1rem .25rem"}},n,r.a.createElement(u.a,{onClick:function(){return x(a)},disabled:e.isTimeInPromo,style:{marginLeft:"1.5rem"}},"Add more present")))}));return r.a.createElement("div",{className:"section4-promotion"},r.a.createElement("div",{style:{width:"100%"},className:"section4-promotion-title"},r.a.createElement("div",{style:{width:"50%",display:"flex"}},r.a.createElement("div",{style:{width:"20%"}},"The mount of item"),r.a.createElement("div",{style:{width:"80%"}},"Item")),r.a.createElement("div",{style:{width:"50%",display:"flex"}},r.a.createElement("div",{style:{width:"20%"}},"Amount"),r.a.createElement("div",{style:{width:"80%"}},"Present"))),r.a.createElement("div",{className:"btn-create-promo"},r.a.createElement(u.a,{onClick:k},"Submit")),r.a.createElement($e.a,null,B,r.a.createElement(u.a,{onClick:function(){return function(){var t={purchaseTimes:N[N.length-1].purchaseTimes,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]};e.setIndexShop([].concat(Object(V.a)(N),[t]))}()},disabled:e.isTimeInPromo,style:{margin:"1rem 1.5rem"}},"Add more conditions")))})),Hc=Pe.a.Option;var qc=Object(he.b)((function(e){return{detailPromo:e.detailPromo,listPartners:e.listPartner}}),null)((function(e){var t=e.indexPromoAndEvent.type,a=e.indexGameForPromo,c=a.server,l=a.platformId,o=e.listPartner.listServer,i=Object(n.useState)([{name:"",description:""}]),s=Object(y.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)([{}]),p=Object(y.a)(d,2),f=(p[0],p[1]);Object(Re.c)(Fn,{onCompleted:function(e){f(e.listPartners)}}).data,Object(Re.c)(xa,{onCompleted:function(e){u(e.__type.enumValues)}});var E=m.map((function(e,t){return r.a.createElement(Hc,{value:e.name,key:t},e.description)})),b=e.listPartners.map((function(e,t){return r.a.createElement(Hc,{value:e.partnerId,key:t},e.partnerName)})),h=o.map((function(e,t){return r.a.createElement(Hc,{value:e.server,key:t},e.serverName)}));return r.a.createElement("div",{className:"promo-section2"},r.a.createElement("div",{className:"promo-choose-platform"},r.a.createElement("div",null,r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",null,"Ch\u1ecdn game:"),r.a.createElement(Pe.a,{style:{width:"65%"},onChange:e.handleChangePlatformPromo,placeholder:"-Ch\u1ecdn game-",value:l,disabled:e.isTimeInPromo},b)," "),r.a.createElement("div",{className:"promo-choose-platform-server"},r.a.createElement("p",null,"Server:"),r.a.createElement(Pe.a,{placeholder:"-Ch\u1ecdn server-",style:{width:"65%"},onChange:e.handleChangeServerPromo,name:"server",value:c,disabled:e.isTimeInPromo},h)," ")),r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",null,"Type of present:"),r.a.createElement(Pe.a,{style:{width:"65%"},onChange:e.handleChangeTypePromo,value:t,disabled:e.isTimeInPromo},E)," ")))}));var Jc=Object(he.b)((function(e){return{detailPromo:e.detailPromo,idCreatePromoAndEvent:e.idPromoAndEventCreateInUpdate,visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=e.detailPromo,a=t.name,c=t.id,l=t.game,o=t.status,s=t.eventTime,m=t.shop,u=t.type,d=t.config,f=t.paymentType,h=t.imageUrl,v=JSON.parse(s),g=v.startTime,O=v.endTime,j=v.dates,N=v.daily,C=v.hour,S=Nr(g),w=Object(n.useState)(!1),P=Object(y.a)(w,2),T=P[0],k=P[1],A=Object(n.useState)(!!m),x=Object(y.a)(A,2),D=x[0],M=x[1],B=Object(n.useState)(!1),Y=Object(y.a)(B,2),R=Y[0],U=Y[1],L=Object(n.useState)(m?JSON.parse(m):""),z=Object(y.a)(L,2),G=z[0],F=z[1],H=Object(n.useState)({name:a,platformId:"",server:"",status:o,type:u,timeTotal:[g,O],dates:j,daily:N,startTime:C[0],endTime:C[1],linkUrl:e.detailPromo.linkUrl}),q=Object(y.a)(H,2),J=q[0],_=q[1],K=Object(n.useState)({listGame:[{}],listServer:[Tr],listItems:[{productId:"",partnerProductId:""}]}),$=Object(y.a)(K,2),Q=$[0],W=$[1],X=Object(n.useState)({platformId:l,server:e.detailPromo.server}),ee=Object(y.a)(X,2),ae=ee[0],ne=ee[1],re=Object(n.useState)({dailyAlert:[],datesAlert:[],timeTotalAlert:[]}),ce=Object(y.a)(re,2),le=ce[0],oe=(ce[1],Object(n.useState)({paymentTypeByMoney:"",isPaymentTypeByCoin:"COIN"===f,itemsForEventByMoney:[{productName:"",productId:""}]})),ie=Object(y.a)(oe,2),se=ie[0],me=ie[1],ue=ae.platformId,de=(ae.server,Q.listItems),pe=Object(Re.a)(Pn,{onCompleted:function(e){W(Object(I.a)({},Q,{listItems:e.listPartnerProducts}))},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),be=Object(y.a)(pe,1)[0],ye=Object(Re.a)(Fn,{onCompleted:function(e){W(Object(I.a)({},Q,{listGame:e.listPartners}))},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),he=Object(y.a)(ye,1)[0],ve=Object(Re.b)(fr,{variables:{ids:e.idCreatePromoAndEvent},onCompleted:function(e){console.log(e)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),ge=Object(y.a)(ve,1)[0],Oe=Object(Re.b)(pr,{variables:{ids:[c]},onCompleted:function(e){return console.log(e)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),je=Object(y.a)(Oe,1)[0];console.log(R);var Ne=Object(Re.a)(Lr(ue),{onCompleted:function(e){W(Object(I.a)({},Q,{listServer:[Tr].concat(Object(V.a)(e.listPartnerServers))}))},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),Ce=Object(y.a)(Ne,1)[0],Se=Object(Re.a)(Gr,{onCompleted:function(e){me(Object(I.a)({},se,{itemsForEventByMoney:e.listProducts}))},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),we=Object(y.a)(Se,1)[0];Object(n.useEffect)((function(){te(h),we(),he(),Ce()}),[]),Object(n.useMemo)((function(){return be({variables:{partnerId:d?JSON.parse(d).game:""}})}),[D]);var Pe=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(),e.next=3,_(Object(I.a)({},J,{platformId:t,server:0}));case 3:return W(Object(I.a)({},Q,{listServer:[{server:0,serverName:"All server"}]})),e.next=6,be({variables:{partnerId:t}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(),F([{purchaseTimes:1,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]}]),e.next=4,ne({platformId:t,server:0});case 4:return e.next=6,be({variables:{partnerId:t}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=function(e){U(e),k(!0)},Ae=function(){Ee(),R?je():xe()},xe=function(){ge(),e.backToDetail()};return r.a.createElement($e.a,{className:"container-promotion"},r.a.createElement("div",null,r.a.createElement("div",null,R?r.a.createElement(Ie.b,{to:"/payment/promotion/detail/event?id=".concat(e.idCreatePromoAndEvent),onClick:Ae},"Back"):r.a.createElement("a",{onClick:Ae},r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back"),r.a.createElement("h2",null,"Update promotion"))),r.a.createElement(Qe.a,{md:12,className:"section1-promotion"},r.a.createElement("div",null,r.a.createElement(Xr,{alertUpdateSuccess:T,resetGameAndServer:function(){},indexPromoAndEvent:J,listPartner:Q,setListPartner:W,setInfoPromo:function(e){_(Object(I.a)({},J,Object(et.a)({},e.target.name,e.target.value)))},switchTypeEvent:D,setSwitchTypeEvent:M,isTimeInPromo:S}),D?r.a.createElement(qc,{indexShop:G,setIndexShop:F,indexPromoAndEvent:J,indexGameForPromo:ae,listPartner:Q,handleChangePlatformPromo:Te,handleChangelistPartner:function(e){_(Object(I.a)({},J,{type:e}))},handleChangeServerPromo:function(e){ne(Object(I.a)({},ae,{server:e}))},isTimeInPromo:S}):r.a.createElement($r,{indexPromoAndEvent:J,setIndexPromoAndEvent:_,indexEventByMoney:se,setIndexEventByMoney:me,server:J.server,listPartner:Q,handleChangePlatform:Pe,handleChangeServer:function(e){_(Object(I.a)({},J,{server:e}))}}))),r.a.createElement(Zr,{indexPromoAndEvent:J,alertInfoPromo:le,handleStartTimeTotal:function(e){var t=J.timeTotal;t[0]=Ge()(e).format("YYYY-MM-DD HH:mm")+":00",_(Object(I.a)({},J,{timeTotal:t}))},handleEndTimeTotal:function(e){var t=J.timeTotal;t[1]=Ge()(e).format("YYYY-MM-DD HH:mm")+":59",_(Object(I.a)({},J,{timeTotal:t}))},pickAllDay:function(){_(Object(I.a)({},J,{startTime:"00:00:00",endTime:"23:59:59"}))},handleChangeDaily:function(e){_(Object(I.a)({},J,{daily:e.sort((function(e,t){return e-t}))}))},handleChangeDates:function(e){_(Object(I.a)({},J,{dates:e.sort((function(e,t){return e-t}))}))},setTimePromo:function(e,t){_("startTime"===t?Object(I.a)({},J,{startTime:""!==e?e+":00":""}):Object(I.a)({},J,{endTime:""!==e?e+":59":""}))},isTimeInPromo:S}),r.a.createElement(Qe.a,{md:18},D?r.a.createElement(Fc,{listItems:de,indexPromoAndEvent:J,indexShop:G,setIndexShop:F,indexGameForPromo:ae,successAlert:ke,isTimeInPromo:S}):r.a.createElement(Jr,{successAlert:ke,listPartner:Q,listItems:de,indexPromoAndEvent:J,setIndexPromoAndEvent:_,indexEventByMoney:se,setIndexEventByMoney:me,isUpdate:e.isUpdate})),r.a.createElement(Qe.a,{md:6,style:{margin:".5rem 0"}},r.a.createElement("h3",null,"Link post"),r.a.createElement(p.a,{placeholder:"Get link post...",style:{width:"100%"},value:J.linkUrl,onChange:function(e){_(Object(I.a)({},J,{linkUrl:e.target.value}))}}),r.a.createElement("div",null,r.a.createElement("p",{className:"select-image-promotion"},"Select thumbnail promotion"),r.a.createElement("div",{style:{width:"100%"}},null===e.urlImgThumbnail?r.a.createElement("i",null,"Thumbnail image is emtry"):r.a.createElement("img",{src:e.urlImgThumbnail,style:{maxHeight:"100%",maxWidth:"100%"}})),r.a.createElement("a",{onClick:function(){return Z(!0)}},"Select")),r.a.createElement(ea,{isThumbnail:!0})),r.a.createElement(Ze.a,{title:r.a.createElement(i.a,{type:"check-circle"}),visible:T,onCancel:function(){return k(!1)},onOk:function(){R?je():xe()},okText:R?r.a.createElement(Ie.b,{to:"/payment/promotion/detail/event?id=".concat(e.idCreatePromoAndEvent)},"Back"):r.a.createElement("span",null,"Back"),cancelText:"Next"}))})),_c=rt.a.TabPane,Vc=Ze.a.confirm;var Kc=Object(he.b)((function(e){return{detailPromo:e.detailPromo}}),null)((function(e){var t=new URLSearchParams(window.location.search),a=Object(n.useState)("1"),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(!1),m=Object(y.a)(s,2),d=m[0],p=m[1],f=t.get("id"),E=Object(Re.c)(function(e){return Object(ke.b)(Dr(),e)}(f),{fetchPolicy:"cache-and-network",onCompleted:function(e){ce(e.listPromotions[0])}}).refetch,b=e.detailPromo,h=b.name,v=b.status;return b.eventTime,b.type,b.shop,r.a.createElement(r.a.Fragment,null,d?r.a.createElement(Jc,{isUpdate:d,backToDetail:function(){p(!1),E()}}):r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/payment/promotion"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back")),r.a.createElement("div",{className:"promo-title"},r.a.createElement("div",{className:"promo-title-name"},r.a.createElement("h2",null,h),r.a.createElement(u.a,{onClick:function(){Vc({title:"Promotion edit?",content:r.a.createElement("div",null,r.a.createElement("p",null,"- System allow to update information of promotion when promotion don't have any purchase"),r.a.createElement("p",null,"- If in promotion actived and doesn't have any purchase, you can update conditions, name of promotion and timeline, status"),r.a.createElement("p",null,"- Other way, if Promotion have purchase, just update name of promotion, status, timeline")),onOk:function(){p(!0)},onCancel:function(){console.log("Cancel")}})}},"Edit")),r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"0 1rem 0 0"}},"Status"),r.a.createElement(mt.a.Group,{value:v},r.a.createElement(mt.a,{value:"COMPLETE"},"Active"),r.a.createElement(mt.a,{value:"INPUT"},"Plan")))),r.a.createElement(rt.a,{activeKey:l,onChange:function(e){return o(e)}},r.a.createElement(_c,{tab:"Method",key:"1"},r.a.createElement(Rc,null)),r.a.createElement(_c,{tab:"Timeline",key:"2"},r.a.createElement(zc,null)),r.a.createElement(_c,{tab:"History of purchase in Promotion",key:"3"}))))})),$c=Pe.a.Option;var Qc=Object(he.b)((function(e){return{detailPromo:e.detailPromo}}),null)((function(e){var t=Object(n.useState)([{productName:"",partnerProductId:""}]),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([{productName:"",productId:""}]),i=Object(y.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)([{partnerId:"",partnerName:""}]),d=Object(y.a)(u,2),f=d[0],E=d[1],b=Object(n.useState)([{server:0,serverName:"All server"}]),h=Object(y.a)(b,2),v=h[0],g=h[1],O=e.detailPromo,j=(O.name,O.status,O.eventTime,O.config),I=O.paymentType,N=Object(Re.a)(Fn,{onCompleted:function(e){return E(e.listPartners)}}),C=Object(y.a)(N,1)[0],S=Object(Re.a)(Lr(e.dataDetail.game),{onCompleted:function(e){g([{server:0,serverName:"All server"}].concat(Object(V.a)(e.listPartnerServers)))}}),w=Object(y.a)(S,1)[0],P=Object(Re.a)(wn(e.dataDetail.game),{onCompleted:function(e){l(e.listPartnerProducts)}}),T=Object(y.a)(P,1)[0];Object(Re.c)(Gr,{fetchPolicy:"cache-and-network",onCompleted:function(e){m(e.listProducts)}}),Object(n.useMemo)((function(){return C()}),[e.dataDetail.game]),Object(n.useMemo)((function(){return w()}),[e.dataDetail.game]),Object(n.useMemo)((function(){return T()}),[e.dataDetail.game]);var k=c.map((function(e,t){return r.a.createElement($c,{value:e.partnerProductId,key:t},e.productName)})),A=s.map((function(e,t){return r.a.createElement($c,{value:e.productId,key:t},e.productName)}));if(j){var x=JSON.parse(j),D=f.map((function(e,t){return r.a.createElement($c,{value:e.partnerId,key:t},e.partnerName)})),M=v.map((function(e,t){return r.a.createElement($c,{value:e.server,key:t},e.serverName)})),B=x.data.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(Qe.a,{md:24,style:{width:"100%",display:"flex",alignItems:"center",padding:"1rem",border:"1px solid #eeeeee"}},r.a.createElement("div",{style:{width:"28%",display:"flex",alignItems:"center",marginRight:"2%"}},r.a.createElement("span",{style:{marginRight:"1%"}},"From"),r.a.createElement(p.a,{value:e.point,type:"number",name:"pucharseTimes"}),r.a.createElement("span",{style:{marginLeft:".2rem"}},"MONEY"===I?"VN\u0110":"C.COIN")),"INKIND"===x.type&&r.a.createElement(p.a,{value:e.rewards[0],placeholder:"-\u0110i\u1ec1n qu\xe0 out game-",name:"pucharseTimes",style:{width:"70%"}}),"COIN"===x.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{mode:"multiple",value:e.rewards,style:{width:"70%"},dropdownClassName:"dropdown-coin-event"},A)," "),"ITEM"===x.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe.a,{mode:"multiple",value:e.rewards,style:{width:"70%"},dropdownClassName:"dropdown-coin-event"},k))))}));return r.a.createElement($e.a,null,r.a.createElement("h3",null,"Promotion for purchase"),r.a.createElement("div",{className:"detail-game"},r.a.createElement("span",{style:{marginRight:"1rem"}},"Type of purchase: By ",I," ( ",I," exchange)"),r.a.createElement("span",{style:{marginRight:"1rem"}},"Type of present : ",function(e){switch(e){case"INKIND":return"Gift's out game";case"COIN":return"C.COIN";default:return"Gift's in Game"}}(x.type))),r.a.createElement("div",null,x.game&&r.a.createElement("div",null,r.a.createElement("span",{style:{marginRight:"1rem"}},"Game:"," ",r.a.createElement(Pe.a,{defaultValue:x.game,dropdownClassName:"dropdown-coin-event",showArrow:!1,size:"large",className:"select-disable-detail"},D)),r.a.createElement("span",null,"Server:"," ",r.a.createElement(Pe.a,{value:x.server,dropdownClassName:"dropdown-coin-event",showArrow:!1,size:"large",className:"select-disable-detail"},M)))),r.a.createElement("div",{style:{width:"100%",marginTop:"1rem"},className:"section4-promotion-title"},r.a.createElement("h3",{style:{width:"30%"}},"The mount of item"),r.a.createElement("h3",{style:{width:"70%"}},"Present")),r.a.createElement("div",null,B))}return r.a.createElement("p",null,"loadding...")})),Wc=Pe.a.Option;var Xc=Object(he.b)((function(e){return{typeEventByMoney:e.typeEventByMoney,nameEventByMoney:e.nameEventByMoney,detailPromo:e.detailPromo,indexConfig:e.indexConfig,imageUrl:e.imgUrlThumbnail}}),null)((function(e){var t=e.indexEventByMoney,a=JSON.parse(e.detailPromo.config).type,c=Object(n.useState)({isShow:!1,itemsForEventTypeMoney:[{productName:"",partnerProductId:""}]}),l=Object(y.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(0),d=Object(y.a)(m,2),f=d[0],h=d[1],v=Object(n.useState)(null),g=Object(y.a)(v,2),O=g[0],j=g[1],N=e.indexConfig,C=N.inkind,S=N.item,w=N.coin,P=o.isShow,T=(o.itemsForEventTypeMoney,e.indexPromoAndEvent),k=T.id,A=T.name,x=T.platformId,D=T.server,M=T.status,B=T.timeTotal,Y=T.dates,R=T.daily,U=T.startTime,L=T.endTime;T.linkUrl,Object(n.useEffect)((function(){ae(a),e.setIsCreatePromo(!1)}),[]),Object(Re.c)(wn(x),{onCompleted:function(e){s(Object(I.a)({},o,{itemsForEventTypeMoney:e.listPartnerProducts}))}});var z=Object(Re.b)(sr,{variables:{req:{productName:"".concat(O," coin"),type:"EVENT",status:"COMPLETE",sort:0,price:1e3*O,basecoin:O}},onCompleted:function(){var t=Object(b.a)(E.a.mark((function t(a){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),(n=Object(I.a)({},e.indexEventByMoney)).itemsForEventByMoney=[].concat(Object(V.a)(e.indexEventByMoney.itemsForEventByMoney),[a.createProduct]),e.setIndexEventByMoney(n),pe({positionItem:f,value:a.createProduct.productId});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),G=Object(y.a)(z,1)[0],F={name:A,status:M,paymentType:e.nameEventByMoney,eventTime:JSON.stringify({startTime:B[0],endTime:B[1],dates:Y,daily:R,hour:[Cr(U),Sr(L)]})},H=Object(Re.b)(dr,{variables:{id:k,req:Object(I.a)({},F,{config:JSON.stringify({type:e.typeEventByMoney,data:C})})},onCompleted:function(e){return console.log(e)}}),q=Object(y.a)(H,1)[0],J=Object(Re.b)(dr,{variables:{id:k,req:Object(I.a)({},F,{config:JSON.stringify({type:e.typeEventByMoney,data:w})})},onCompleted:function(e){return console.log(e)}}),_=Object(y.a)(J,1)[0],K=Object(Re.b)(dr,{variables:{id:k,req:Object(I.a)({},F,{config:JSON.stringify({game:x,server:D,type:e.typeEventByMoney,data:S})})},onCompleted:function(e){return console.log(e)}}),$=Object(y.a)(K,1)[0],Q=function(){var t=Object(b.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!hr(A,e.nameEventByMoney,B[0],U,L)){t.next=23;break}if("MONEY"!==e.nameEventByMoney){t.next=14;break}if("INKIND"!==e.typeEventByMoney||!jr(C)||!gr(C)){t.next=8;break}return t.next=5,q();case 5:e.successAlert(!1),t.next=12;break;case 8:if(!jr(w)||!gr(w)){t.next=12;break}return t.next=11,_();case 11:e.successAlert(!1);case 12:t.next=21;break;case 14:if("COIN"!==e.nameEventByMoney||!jr(S)||!gr(S)||""===x||""===D){t.next=20;break}return t.next=17,$();case 17:e.successAlert(!1),t.next=21;break;case 20:wr();case 21:t.next=24;break;case 23:Pr();case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(e){ie(e)},X=function(){var e=Object(b.a)(E.a.mark((function e(t,a){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==a&&se({isType:t,val:a});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(e,t,a){ue({isType:e,positionItem:t,value:""!==a.target.value?Number(a.target.value):""})},ee=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(Object(I.a)({},o,{isShow:!0})),h(t),j(null);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=e.listItems.map((function(e,t){return r.a.createElement(Wc,{value:e.partnerProductId,key:t},e.productName)})),ne=t.itemsForEventByMoney.map((function(e,t){return r.a.createElement(Wc,{value:e.productId,key:t},e.productName)})),re=t.itemsForEventByMoney.map((function(e,t){return r.a.createElement(Qe.a,{span:24,key:t},r.a.createElement(mt.a,{style:{display:"block",height:"30px",lineHeight:"30px"},value:e.productId},e.productName))})),ce=C.map((function(t,a){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},key:a},r.a.createElement("div",{style:{width:"15%",display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:".2rem"}},"From"),r.a.createElement(p.a,{value:t.point,min:a>0?C[a-1].point:0,type:"number",name:"pucharseTimes",style:{width:"45%"},onChange:function(e){return Z("inkind",a,e)},disabled:e.isTimeInPromo}),"VN\u0110"),r.a.createElement("div",{className:"promo-input-coin-event"},r.a.createElement(p.a,{value:t.rewards[0],placeholder:"-Input name of gift out game-",name:"pucharseTimes",onChange:function(e){return function(e,t){de({positionItem:e,value:t.target.value})}(a,e)},style:{width:"45%"},disabled:e.isTimeInPromo}),r.a.createElement(i.a,{type:"close",onClick:function(){return X("inkind",a)},style:{fontSize:"16px",margin:"0 .25rem"}})))})),le=w.map((function(t,a){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem",padding:"1rem"},key:a},r.a.createElement("div",{style:{width:"15%",display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:".2rem"}},"From"),r.a.createElement(p.a,{value:t.point,min:a>0?w[a-1].point:0,type:"number",name:"pucharseTimes",onChange:function(e){return Z("coin",a,e)},disabled:e.isTimeInPromo}),r.a.createElement("span",{style:{marginLeft:".2rem"}},"MONEY"===e.nameEventByMoney?"VN\u0110":"C.COIN")),r.a.createElement("div",{className:"promo-input-coin-event",style:{width:"85%",paddingLeft:"1rem"}},r.a.createElement("div",{style:{width:"35%",display:"flex",alignItems:"center"}},r.a.createElement(Pe.a,{value:t.rewards,dropdownClassName:"dropdown-coin-event",showArrow:!1,style:{width:"90%"},className:"select-coin-event",disabled:e.isTimeInPromo},ne)," ",r.a.createElement(i.a,{type:"menu",onClick:function(){return ee(a)},style:{fontSize:"24px",margin:"0 .25rem"}})),r.a.createElement(i.a,{type:"close",onClick:function(){return X("coin",a)},disabled:e.isTimeInPromo,style:{fontSize:"16px",margin:"0 .25rem"}})))})),oe=S.map((function(t,a){return r.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},key:a},r.a.createElement("div",{style:{width:"15%",display:"flex",alignItems:"center"}},r.a.createElement("span",{style:{marginRight:".2rem"}},"From"),r.a.createElement(p.a,{value:t.point,min:a>0?S[a-1].point:0,type:"number",name:"pucharseTimes",onChange:function(e){return Z("item",a,e)},disabled:e.isTimeInPromo}),r.a.createElement("span",{style:{marginLeft:".2rem"}},"MONEY"===e.nameEventByMoney?"VN\u0110":"C.COIN")),r.a.createElement("div",{className:"promo-input-item-input"},r.a.createElement(Pe.a,{mode:"multiple",value:t.rewards,style:{width:"90%"},onChange:function(e){return function(e,t){me({positionItem:e,value:t})}(a,e)},disabled:e.isTimeInPromo},te)," ",r.a.createElement(i.a,{type:"close",onClick:function(){return X("item",a)},disabled:e.isTimeInPromo,style:{fontSize:"16px",margin:"0 .25rem"}})))}));return r.a.createElement("div",{className:"section4-promotion"},r.a.createElement("div",{style:{width:"100%"},className:"section4-promotion-title"},r.a.createElement("div",{className:"promo-input-title-numb"},r.a.createElement("span",null,"Total price of purchase from")),r.a.createElement("div",{className:"promo-input-title-item"},r.a.createElement("span",null,"Present"))),r.a.createElement("div",{className:"btn-create-promo"},r.a.createElement(u.a,{onClick:function(){return Q()}},"Submit")),r.a.createElement($e.a,null,"COIN"===e.typeEventByMoney&&r.a.createElement(r.a.Fragment,null,le,r.a.createElement(u.a,{onClick:function(){return W("coin")},disabled:e.isTimeInPromo,className:"btn-more-item"},"Add more conditions")),"INKIND"===e.typeEventByMoney&&"MONEY"===e.nameEventByMoney&&r.a.createElement(r.a.Fragment,null,ce,r.a.createElement(u.a,{onClick:function(){return W("inkind")},disabled:e.isTimeInPromo,className:"btn-more-item"},"Add more conditions")),"ITEM"===e.typeEventByMoney&&r.a.createElement("div",{className:"promo-input-item"},oe,r.a.createElement(u.a,{onClick:function(){return W("item")},disabled:e.isTimeInPromo,className:"btn-more-item"},"Add more conditions"))),r.a.createElement(Ze.a,{title:"Choose C.coin package",centered:!0,visible:P,onOk:function(){return s(Object(I.a)({},o,{isShow:!1}))},onCancel:function(){return s(Object(I.a)({},o,{isShow:!1}))}},r.a.createElement("div",{className:"input-coin-event-money"},r.a.createElement(p.a,{type:"number",min:"0",placeholder:"Input volume c.coin package...",value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement(u.a,{onClick:function(){null!==O&&(G(),e.refetch(),s(Object(I.a)({},o,{isShow:!1})))}},"Submit")),r.a.createElement(mt.a.Group,{onChange:function(e){return function(e){pe({positionItem:f,value:e.target.value}),j(null)}(e)}},re)))})),Zc=Pe.a.Option,el=(Xe.a.RangePicker,[{value:"COIN",description:"T\u1eb7ng C.Coin"},{value:"INKIND",description:"T\u1eb7ng qu\xe0 out game"}]),tl=[{value:"ITEM",description:"T\u1eb7ng b\u1eb1ng v\u1eadt ph\u1ea9m trong game"}];var al=Object(he.b)((function(e){return{typeEventByMoney:e.typeEventByMoney,nameEventByMoney:e.nameEventByMoney,detailPromo:e.detailPromo,listPartners:e.listPartner}}),null)((function(e){var t=e.detailPromo,a=t.paymentType,c=t.config,l=e.listPartner.listServer,o=e.indexPromoAndEvent,i=o.platformId,s=o.server,m=o.type,u=Object(n.useState)({eventType:[],eventPaymentType:[],value:JSON.parse(c).type}),d=Object(y.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)([{}]),v=Object(y.a)(h,2),g=(v[0],v[1]);Object(Re.c)(Fn,{onCompleted:function(e){g(e.listPartners)}}),Object(n.useMemo)((function(){"COIN"===a?(ne(a),f(Object(I.a)({},p,{eventPaymentType:tl,value:"ITEM"})),ae("ITEM")):"MONEY"===a&&(ne(a),f(Object(I.a)({},p,{eventPaymentType:el})),ae(m))}),[]);var O=p.eventType,j=p.eventPaymentType,N=p.value;Object(Re.c)(Da,{onCompleted:function(e){return f(Object(I.a)({},p,{eventType:e.__type.enumValues}))}});var C=function(){var t=Object(b.a)(E.a.mark((function t(a){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"MONEY"===a?(ne(a),f(Object(I.a)({},p,{eventPaymentType:el,value:"INKIND"})),ae("INKIND"),e.setIndexEventByMoney(Object(I.a)({},e.indexEventByMoney,{isPaymentTypeByCoin:!1}))):"COIN"===a&&(ne(a),e.setIndexEventByMoney(Object(I.a)({},e.indexEventByMoney,{isPaymentTypeByCoin:!0})),f(Object(I.a)({},p,{eventPaymentType:tl,value:"ITEM"})),ae("ITEM"));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,f(Object(I.a)({},p,{value:t}));case 3:ae(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=j.map((function(e,t){return r.a.createElement(Zc,{key:t,value:e.value},e.description)})),P=O.map((function(e,t){return r.a.createElement(Zc,{key:t,value:e.name},e.name)})),T=e.listPartners.map((function(e,t){return r.a.createElement(Zc,{value:e.partnerId,key:t},e.partnerName)})),k=l.map((function(e,t){return r.a.createElement(Zc,{value:e.server,key:t},e.serverName)}));return r.a.createElement("div",{className:"promo-section2"},r.a.createElement("div",{className:"promo-choose-platform"},r.a.createElement("div",null,r.a.createElement("div",{className:"promo-choose-platform-name"},r.a.createElement("p",null,"Type of Purchase"),r.a.createElement(Pe.a,{value:e.nameEventByMoney,style:{width:120},onChange:C,placeholder:"-Ch\u1ecdn game-",disabled:e.isTimeInPromo},P)),r.a.createElement("div",{className:"promo-choose-platform-server"},r.a.createElement("span",null,"Type of present: "),r.a.createElement(Pe.a,{value:N,style:{width:120},onChange:S,disabled:e.isTimeInPromo},w))),"COIN"===e.nameEventByMoney&&r.a.createElement("div",null,r.a.createElement("p",{className:"promotion-title-field"},"Platform"),r.a.createElement(Pe.a,{style:{width:120},onChange:e.handleChangePlatform,value:i,disabled:e.isTimeInPromo},T)," ",r.a.createElement("span",null,"Server"),r.a.createElement(Pe.a,{placeholder:"-Ch\u1ecdn server-",style:{width:120},onChange:e.handleChangeServer,name:"server",value:s,disabled:e.isTimeInPromo},k)," ")))}));var nl=Object(he.b)((function(e){return{detailPromo:e.detailPromo,idCreatePromoAndEvent:e.idPromoAndEventCreateInUpdate,visible:e.visibleModalNews,urlImgThumbnail:e.urlImgThumbnail}}),null)((function(e){var t=e.detailPromo,a=t.id,c=t.name,l=t.status,o=t.eventTime,s=t.config,m=t.paymentType,u=t.imageUrl,d=JSON.parse(o),f=d.startTime,h=d.endTime,v=d.dates,g=d.daily,O=d.hour,j=Nr(f),N=Object(n.useState)(!1),C=Object(y.a)(N,2),S=C[0],w=C[1],P=Object(n.useState)(!s),T=Object(y.a)(P,2),k=T[0],A=T[1],x=Object(n.useState)(yr),D=Object(y.a)(x,2),M=D[0],B=D[1],Y=Object(n.useState)(!1),R=Object(y.a)(Y,2),U=R[0],L=R[1],z=JSON.parse(s),G=z.game,F=z.server,H=z.data,q=z.type;console.log(e.detailPromo);var J=Object(n.useState)({id:a,name:c,platformId:G,server:F,status:l,type:"",timeTotal:[f,h],dates:v,daily:g,startTime:O[0],endTime:O[1],linkUrl:e.detailPromo.linkUrl}),_=Object(y.a)(J,2),K=_[0],$=_[1],Q=Object(n.useState)({listGame:[{}],listServer:[Tr],listItems:[{productId:"",partnerProductId:""}]}),W=Object(y.a)(Q,2),X=W[0],ee=W[1],ne=Object(n.useState)({dailyAlert:[],datesAlert:[],timeTotalAlert:[]}),re=Object(y.a)(ne,2),ce=re[0],le=(re[1],Object(n.useState)({paymentTypeByMoney:"",isPaymentTypeByCoin:"COIN"===m,itemsForEventByMoney:[{productName:"",productId:""}]})),ie=Object(y.a)(le,2),se=ie[0],me=ie[1],ue=Object(n.useState)({platformId:"",server:""}),de=Object(y.a)(ue,2),pe=de[0],be=de[1],ye=Object(Re.a)(Pn,{onCompleted:function(e){ee(Object(I.a)({},X,{listItems:e.listPartnerProducts}))}}),he=Object(y.a)(ye,1)[0],ve=K.platformId,ge=K.linkUrl,Oe=(X.listGame,X.listItems),je=(X.listServer,Object(Re.b)(fr,{variables:{ids:[a]},onCompleted:function(e){return console.log(e)}})),Ne=Object(y.a)(je,1)[0],Ce=Object(Re.b)(pr,{variables:{ids:e.idCreatePromoAndEvent},onCompleted:function(e){return console.log(e)}}),Se=Object(y.a)(Ce,1)[0],we=Object(Re.a)(Lr(ve),{onCompleted:function(e){ee(Object(I.a)({},X,{listServer:[Tr].concat(Object(V.a)(e.listPartnerServers))}))}}),Pe=Object(y.a)(we,1)[0],Te=Object(Re.a)(Gr,{fetchPolicy:"cache-and-network",onCompleted:function(e){me(Object(I.a)({},se,{itemsForEventByMoney:e.listProducts}))}}),ke=Object(y.a)(Te,1)[0];Object(n.useEffect)((function(){Pe(),ke(),te(u),ae(q),oe({isType:q.toLowerCase(),data:H}),he({variables:{partnerId:G}})}),[]);var Ae=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(),e.next=3,$(Object(I.a)({},K,{platformId:t,server:0}));case 3:return e.next=5,he({variables:{partnerId:t}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(b.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fe(),B([{purchaseTimes:1,purchaseItemId:[],rewards:[{numb:1,itemId:[]}]}]),e.next=4,be({platformId:t,server:0});case 4:return e.next=6,he({variables:{partnerId:t}});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(e){L(e),w(!0)},Me=function(){Ee(),U?Ne():Be()},Be=function(){Se(),e.backToDetail()};return r.a.createElement($e.a,{className:"container-promotion"},r.a.createElement("div",null,r.a.createElement("div",null,U?r.a.createElement(Ie.b,{to:"/payment/promotion/detail/promotion?id=".concat(e.idCreatePromoAndEvent),onClick:Me},"Back"):r.a.createElement("a",{onClick:Me},r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back"),r.a.createElement("h2",null,"Update promotion"))),r.a.createElement(Qe.a,{md:12,className:"section1-promotion"},r.a.createElement("div",null,r.a.createElement(Xr,{alertUpdateSuccess:S,indexPromoAndEvent:K,resetGameAndServer:function(){},setInfoPromo:function(e){$(Object(I.a)({},K,Object(et.a)({},e.target.name,e.target.value)))},switchTypeEvent:k,setSwitchTypeEvent:A,isTimeInPromo:j}),k?r.a.createElement(tc,{indexShop:M,setIndexShop:B,indexPromoAndEvent:K,indexGameForPromo:pe,listPartner:X,handleChangePlatformPromo:xe,handleChangeTypePromo:function(e){$(Object(I.a)({},K,{type:e}))},handleChangeServerPromo:function(e){be(Object(I.a)({},pe,{server:e}))}}):r.a.createElement(al,{indexPromoAndEvent:K,setIndexPromoAndEvent:$,indexEventByMoney:se,setIndexEventByMoney:me,server:F,listPartner:X,handleChangePlatform:Ae,handleChangeServer:function(e){$(Object(I.a)({},K,{server:e}))},isTimeInPromo:j}))),r.a.createElement(Zr,{indexPromoAndEvent:K,alertInfoPromo:ce,handleStartTimeTotal:function(e){var t=K.timeTotal;t[0]=Ge()(e).format("YYYY-MM-DD HH:mm")+":00",$(Object(I.a)({},K,{timeTotal:t}))},handleEndTimeTotal:function(e){var t=K.timeTotal;t[1]=Ge()(e).format("YYYY-MM-DD HH:mm")+":59",$(Object(I.a)({},K,{timeTotal:t}))},pickAllDay:function(){$(Object(I.a)({},K,{startTime:"00:00:00",endTime:"23:59:59"}))},handleChangeDaily:function(e){$(Object(I.a)({},K,{daily:e.sort((function(e,t){return e-t}))}))},handleChangeDates:function(e){$(Object(I.a)({},K,{dates:e.sort((function(e,t){return e-t}))}))},setTimePromo:function(e,t){$("startTime"===t?Object(I.a)({},K,{startTime:""!==e?e+":00":""}):Object(I.a)({},K,{endTime:""!==e?e+":59":""}))},isTimeInPromo:j}),r.a.createElement(Qe.a,{md:18},k?r.a.createElement(Ar,{listItems:Oe,indexPromoAndEvent:K,indexGameForPromo:pe,indexShop:M,setIndexShop:B,isUpdate:e.isUpdate,successAlert:De}):r.a.createElement(Xc,{successAlert:De,listPartner:X,listItems:Oe,switchTypeEvent:k,indexPromoAndEvent:K,setIndexPromoAndEvent:$,indexEventByMoney:se,setIndexEventByMoney:me,setIsCreatePromo:L,isTimeInPromo:j})),r.a.createElement(Qe.a,{md:6,style:{margin:".5rem 0"}},r.a.createElement("h3",null,"Link post"),r.a.createElement(p.a,{placeholder:"Get link post...",style:{width:"100%"},value:ge,onChange:function(e){$(Object(I.a)({},K,{linkUrl:e.target.value}))}}),r.a.createElement("div",null,r.a.createElement("p",{className:"select-image-promotion"},"Select thumbnail promotion"),r.a.createElement("div",{style:{width:"100%"}},null===e.urlImgThumbnail?r.a.createElement("i",null,"Thumbnail image is emtry"):r.a.createElement("img",{src:e.urlImgThumbnail,style:{maxHeight:"100%",maxWidth:"100%"}})),r.a.createElement("a",{onClick:function(){return Z(!0)}},"Select")),r.a.createElement(ea,{isThumbnail:!0})),r.a.createElement(Ze.a,{title:r.a.createElement(i.a,{type:"check-circle"}),visible:S,onCancel:function(){return w(!1)},onOk:function(){U?Ne():Be()},okText:U?r.a.createElement(Ie.b,{to:"/payment/promotion/detail/promotion?id=".concat(e.idCreatePromoAndEvent)},"Back"):r.a.createElement("span",null,"Back"),cancelText:"Next"}))})),rl=rt.a.TabPane,cl=Ze.a.confirm;var ll=Object(he.b)((function(e){return{detailPromo:e.detailPromo}}),null)((function(e){var t,a=new URLSearchParams(window.location.search),c=Object(n.useState)("1"),l=Object(y.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(!1),d=Object(y.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(""),b=Object(y.a)(E,2),h=b[0],v=b[1],g=a.get("id"),O=Object(Re.c)((t=g,Object(ke.b)(xr(),t)),{fetchPolicy:"cache-and-network",onCompleted:function(e){ce(e.listEvents[0]),v(JSON.parse(e.listEvents[0].config))}}).refetch,j=e.detailPromo,I=j.name,N=j.status;return j.eventTime,j.config,r.a.createElement(r.a.Fragment,null,p?r.a.createElement(nl,{isUpdate:p,backToDetail:function(){f(!1),O()}}):r.a.createElement($e.a,null,r.a.createElement(Ie.b,{to:"/payment/promotion"},r.a.createElement("span",null,r.a.createElement(i.a,{type:"arrow-left",style:{paddingRight:".2rem"}}),"Back")),r.a.createElement("div",{className:"promo-title"},r.a.createElement("div",{className:"promo-title-name"},r.a.createElement("h2",null,I),r.a.createElement(u.a,{onClick:function(){cl({title:"Promotion edit?",content:r.a.createElement("div",null,r.a.createElement("p",null,"- System allow to update information of promotion when promotion don't have any purchase"),r.a.createElement("p",null,"- If in promotion actived and doesn't have any purchase, you can update conditions, name of promotion and timeline, status"),r.a.createElement("p",null,"- Other way, if Promotion have purchase, just update name of promotion, status, timeline")),onOk:function(){f(!0)},onCancel:function(){console.log("Cancel")}})}},"Edit")),r.a.createElement("div",null,r.a.createElement("h3",{style:{margin:"0 1rem 0 0"}},"Status"),r.a.createElement(mt.a.Group,{value:N},r.a.createElement(mt.a,{value:"COMPLETE"},"Active"),r.a.createElement(mt.a,{value:"INPUT"},"Plan")))),r.a.createElement(rt.a,{activeKey:o,onChange:function(e){return s(e)}},r.a.createElement(rl,{tab:"Method",key:"1"},r.a.createElement(Qc,{dataDetail:h})),r.a.createElement(rl,{tab:"Timeline",key:"2"},r.a.createElement(zc,null)),r.a.createElement(rl,{tab:"History of purchase in Promotion",key:"3"}))))})),ol=Le.a.ExcelFile,il=Le.a.ExcelFile.ExcelSheet,sl=Le.a.ExcelFile.ExcelColumn,ml=Pe.a.Option,ul=(Xe.a.RangePicker,[{days:"Last 3 days",variables:"THREE_DAY_AGO"},{days:"Last 7 days",variables:"SEVENT_DAY_AGO"},{days:"Last 14 days",variables:"FOURTEEN_DAY_AGO"},{days:"Last 30 days",variables:"THIRTY_DAY_AGO"}]),dl=[{nameType:"By UserName",id:4},{nameType:"By Purchase Coin ID",id:1}];var pl=Object(he.b)((function(e){return{listPaymentType:e.listPaymentType}}),null)((function(e){var t=Object(n.useState)({currentPage:1,type:4,pageSize:10,search:"",fromDate:"",toDate:""}),a=Object(y.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(null),s=Object(y.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)([]),E=Object(y.a)(f,2),b=E[0],h=E[1],v=c.currentPage,g=c.pageSize,O=c.type,j=c.search,N=c.fromDate,C=c.toDate,S=Object(Re.a)(Aa,{onCompleted:function(e){ye(e.__type.enumValues)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),w=Object(y.a)(S,1)[0],P=Object(Re.a)(za,{fetchPolicy:"cache-and-network",onCompleted:function(e){d(e)},onError:function(e){return Ga(e.networkError.result.errors[0].message)}}),T=Object(y.a)(P,1)[0];Object(n.useEffect)((function(){w(),T({variables:{currentPage:v,type:O,pageSize:g,search:j,fromDate:N,toDate:C}})}),[]);var k={onChange:function(e,t){console.log(t),h(t)}},A=function(){l({currentPage:1,type:4,pageSize:10,search:"",fromDate:"",toDate:""}),T({variables:{currentPage:1,type:4,pageSize:10,search:"",fromDate:"",toDate:""}})},x=[{title:"Purchase Coin Id",dataIndex:"chargeId",key:"chargeId"},{title:"UserName",dataIndex:"user",key:"userName",render:function(e){return r.a.createElement("span",null,null!==e?e.username:null)}},{title:"C.coin",dataIndex:"baseCoin",key:"baseCoin"},{title:"Payment Type",dataIndex:"paymentType",key:"paymenttype",render:function(t){return r.a.createElement("span",null,en(e.listPaymentType,t))}},{title:"Promotion",dataIndex:"promotion",key:"price"},{title:"Time",dataIndex:"createAt",key:"createAt",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm DD-MM-YYYY"))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return r.a.createElement("span",null,"INPUT"===e?"PENDING":"DONE")}}],D=(ul.map((function(e,t){return r.a.createElement(ml,{value:e.variables,key:t},e.days)})),dl.map((function(e,t){return r.a.createElement(ml,{value:e.id,key:t},e.nameType)})));return r.a.createElement($e.a,null,r.a.createElement("div",null,r.a.createElement(Ie.b,{to:"/payment/coin"},r.a.createElement(i.a,{type:"double-left"}),"Back"),r.a.createElement("h2",null,"History purchase"),r.a.createElement("div",{className:"btn-search-charges"},r.a.createElement("div",null,r.a.createElement(p.a,{value:j,placeholder:"Search by C.coin package name",onChange:function(e){l(Object(I.a)({},c,{search:e.target.value}))},style:{width:"30%",marginRight:"2%"},suffix:r.a.createElement(i.a,{className:""!==j?"reset-btn-show":"reset-btn-hide",type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:A})}),r.a.createElement(Pe.a,{value:O,style:{width:"15%",marginRight:"2%"},onChange:function(e){l(Object(I.a)({},c,{type:e}))}},D),r.a.createElement("div",{style:{width:"15%",marginRight:"1%",position:"relative"}},r.a.createElement(Xe.a,{allowClear:!1,value:""===N?null:Ge()(N,"YYYY-MM-DD"),onChange:function(e,t){l(Object(I.a)({},c,{fromDate:t}))},disabledDate:function(e){return e&&e>Ge()().endOf("day")},style:{width:"100%"},placeholder:"FromDate",className:"date-picker-search"}),r.a.createElement(i.a,{className:""!==C?"icon-reset-date":"icon-reset-date-hide",type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:A})),r.a.createElement("div",{style:{width:"15%",marginRight:"2%",position:"relative"}},r.a.createElement(Xe.a,{allowClear:!1,value:""===C?null:Ge()(C,"YYYY-MM-DD"),placeholder:"ToDate",onChange:function(e,t){l(Object(I.a)({},c,{toDate:t}))},disabledDate:function(e){if(""!==N)return e&&e<Ge()(N).subtract(1,"days").endOf("day")||e>Ge()().endOf("day")},style:{width:"100%"},className:"date-picker-search"}),r.a.createElement(i.a,{className:""!==C?"icon-reset-date":"icon-reset-date-hide",type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:A})),r.a.createElement(u.a,{style:{width:"25%",margin:""},onClick:function(){T({variables:{currentPage:v,type:O,pageSize:g,search:j,fromDate:N,toDate:C}})}},"Search")),r.a.createElement(ol,{className:"btn-export",style:{width:"8%",marginLeft:"2%"},element:r.a.createElement(u.a,{icon:"file-excel",type:"primary",id:"btn_export_excel",disabled:!(b.length>0)},"Export Excel"),filename:"History Purchase C.coin"},r.a.createElement(il,{data:b,name:"History Purchase C.coin"},r.a.createElement(sl,{label:"Id",value:"chargeId"}),r.a.createElement(sl,{label:"UserName",value:function(e){return e.user.username}}),r.a.createElement(sl,{label:"C.coin",value:"baseCoin"}),r.a.createElement(sl,{label:"PaymentType",value:"paymentType"}),r.a.createElement(sl,{label:"Promotion",value:"promotion"}),r.a.createElement(sl,{label:"Time",value:function(e){return Ge.a.utc(Number(e.createAt)).format("HH:mm DD-MM-YYYY")}}),r.a.createElement(sl,{label:"Status",value:"status"}))))),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Purchase Times:"," ",r.a.createElement("span",{style:{color:"#1890ff"}},m.listChargesByType.count)),r.a.createElement(Se.a,{columns:x,dataSource:m.listChargesByType.rows,pagination:!1,rowSelection:k}),r.a.createElement(Ce.a,{current:c.currentPage,total:m.listChargesByType.count,pageSize:10,onChange:function(e){l(Object(I.a)({},c,{currentPage:e})),T({variables:{currentPage:e,type:O,pageSize:g,search:j,fromDate:N,toDate:C}})},className:"pagination-listUser"})))})),fl=Le.a.ExcelFile,El=Le.a.ExcelFile.ExcelSheet,bl=Le.a.ExcelFile.ExcelColumn,yl=Pe.a.Option,hl=[{nameType:"By UserName",id:3},{nameType:"By Purchase Item ID",id:1}];var vl=function(){var e=Object(n.useState)({currentPage:1,type:1,pageSize:10,search:"",fromDate:"",toDate:"",userType:"",partnerId:"",os:""}),t=Object(y.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(y.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)([]),f=Object(y.a)(d,2),E=f[0],b=f[1],h=a.currentPage,v=a.pageSize,g=a.type,O=a.userType,j=a.os,N=a.partnerId,C=a.search,S=a.fromDate,w=a.toDate,P=Object(Re.a)(Cn,{fetchPolicy:"cache-and-network",onCompleted:function(e){console.log(e),m(e)}}),T=Object(y.a)(P,1)[0];Object(n.useEffect)((function(){T({variables:{currentPage:h,type:g,pageSize:v,search:C,fromDate:S,toDate:w,userType:O,os:j,partnerId:N}})}),[]);var k={onChange:function(e,t){console.log(t),b(t)}},A=function(){c({currentPage:1,type:1,pageSize:10,search:"",fromDate:"",toDate:"",userType:"",partnerId:"",os:""}),T({variables:{currentPage:1,type:1,pageSize:10,search:"",fromDate:"",toDate:"",userType:"",partnerId:"",os:""}})},x=[{title:"Purchase Item ID",dataIndex:"partnerChargeCode",key:"partnerChargeId",render:function(e){return r.a.createElement("span",{className:"convert-col"},e)}},{title:"UserName",dataIndex:"user",key:"user",render:function(e){return r.a.createElement("span",null,null===e?"":e.username)}},{title:"Character",dataIndex:"payload",key:"gameUserName",render:function(e){return r.a.createElement("span",null,null===JSON.parse(e).gameUserName?"":JSON.parse(e).gameUserName)}},{title:"Item",dataIndex:"partnerProduct",key:"item",render:function(e){return r.a.createElement("span",null,null===e?"":e.productName)}},{title:"C.Coin",dataIndex:"coin",key:"coin"},{title:"Server",dataIndex:"",key:"server",render:function(e){return r.a.createElement("span",null,"R\u1eebng gi\xf3 ")}},{title:"Game",dataIndex:"partner",key:"partnername",render:function(e){return r.a.createElement("span",null,e.partnerName)}},{title:"Promotion",dataIndex:"promotionRef",key:"promotion"},{title:"Time",dataIndex:"createAt",key:"createAt",render:function(e){return r.a.createElement("span",null,Ge.a.utc(Number(e)).format("HH:mm:ss DD-MM-YYYY"))}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return r.a.createElement("span",null,"INPUT"===e?"PENDING":"DONE")}}],D=hl.map((function(e,t){return r.a.createElement(yl,{value:e.id,key:t},e.nameType)}));return r.a.createElement($e.a,null,r.a.createElement("div",null,r.a.createElement(Ie.b,{to:"/payment/items"},r.a.createElement(i.a,{type:"double-left"}),"Quay l\u1ea1i"),r.a.createElement("h2",null,"L\u1ecbch s\u1eed giao d\u1ecbch"),r.a.createElement("div",{className:"btn-search-charges"},r.a.createElement("div",null,r.a.createElement(p.a,{value:C,placeholder:"T\xecm ki\u1ebfm theo t\xean c.coin",onChange:function(e){c(Object(I.a)({},a,{search:e.target.value}))},style:{width:"30%",marginRight:"2%"},suffix:r.a.createElement(i.a,{className:""!==C?"reset-btn-show":"reset-btn-hide",type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:A})}),r.a.createElement(Pe.a,{value:g,style:{width:"15%",marginRight:"2%"},onChange:function(e){c(Object(I.a)({},a,{type:e}))}},D),r.a.createElement("div",{style:{width:"15%",marginRight:"1%",position:"relative"}},r.a.createElement(Xe.a,{allowClear:!1,value:""===S?null:Ge()(S,"YYYY-MM-DD"),onChange:function(e,t){c(Object(I.a)({},a,{fromDate:t}))},disabledDate:function(e){return e&&e>Ge()().endOf("day")},style:{width:"100%"},placeholder:"FromDate",className:"date-picker-search"}),r.a.createElement(i.a,{className:""!==w?"icon-reset-date":"icon-reset-date-hide",type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:A})),r.a.createElement("div",{style:{width:"15%",marginRight:"2%",position:"relative"}},r.a.createElement(Xe.a,{allowClear:!1,value:""===w?null:Ge()(w,"YYYY-MM-DD"),placeholder:"ToDate",onChange:function(e,t){c(Object(I.a)({},a,{toDate:t}))},disabledDate:function(e){if(""!==S)return e&&e<Ge()(S).subtract(1,"days").endOf("day")||e>Ge()().endOf("day")},style:{width:"100%"},className:"date-picker-search"}),r.a.createElement(i.a,{className:""!==w?"icon-reset-date":"icon-reset-date-hide",type:"close",style:{color:"rgba(0,0,0,.45)"},onClick:A})),r.a.createElement(u.a,{style:{width:"25%",margin:""},onClick:function(){T({variables:{currentPage:h,type:g,pageSize:v,search:C,fromDate:S,toDate:w,userType:O,os:j,partnerId:N}})}},"Search")),r.a.createElement(fl,{className:"btn-export",style:{width:"8%",marginLeft:"2%"},element:r.a.createElement(u.a,{icon:"file-excel",type:"primary",id:"btn_export_excel",disabled:!(E.length>0)},"Export Excel"),filename:"History Purchase Item"},r.a.createElement(El,{data:E,name:"History Purchase Item"},r.a.createElement(bl,{label:"Purchase Item Id",value:"partnerChargeCode"}),r.a.createElement(bl,{label:"Username",value:function(e){return null===e.user?"":e.user.username}}),r.a.createElement(bl,{label:"Character",value:function(e){return null===JSON.parse(e.payload).gameUserName?"":JSON.parse(e.payload).gameUserName}}),r.a.createElement(bl,{label:"Item",value:function(e){return null===e.partnerProduct?"":e.partnerProduct.productName}}),r.a.createElement(bl,{label:"C.coin",value:"coin"}),r.a.createElement(bl,{label:"Server",value:""}),r.a.createElement(bl,{label:"Game",value:function(e){return e.partner.partnerName}}),r.a.createElement(bl,{label:"Promotion",value:""}),r.a.createElement(bl,{label:"Time",value:function(e){return Ge.a.utc(Number(e.createAt)).format("HH:mm DD-MM-YYYY")}}),r.a.createElement(bl,{label:"Status",value:"status"}))))),s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{columns:x,dataSource:s.listPartnerChargesByType.rows,pagination:!1,rowSelection:k}),r.a.createElement(Ce.a,{current:a.currentPage,total:s.listPartnerChargesByType.count,pageSize:10,onChange:function(e){c(Object(I.a)({},a,{currentPage:e})),T({variables:{currentPage:h,type:g,pageSize:v,search:C,fromDate:S,toDate:w,userType:O,os:j,partnerId:N}})},className:"pagination-listUser"})))};var gl=function(){(function(){var e=JSON.parse(localStorage.getItem("accessTokenCms")),t=(new Date).getTime();if(null!==e)return t-e.timestamp>33e5?(console.log("can refresh"),!0):(console.log("k can refresh"),!1);W(!1)})()&&function(){var e=JSON.parse(localStorage.getItem("tokenCms")),t=(new Date).getTime();if(null===e||t-e.timestamp>75168e6)return W(!1),!1;var a=JSON.parse(localStorage.getItem("accessTokenCms")),n=fetch(j.REFRESHTOKEN,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:"POST",body:"refreshToken=".concat(e.token.refreshToken)}).then((function(e){return e.json()})).then((function(e){var t={accessToken:e.accessToken,timestamp:(new Date).getTime()};return localStorage.setItem("accessTokenCms",JSON.stringify(t)),e})).catch((function(e){console.log("Request failed",e)}));return console.log(a),n}().then((function(e){return X(e)}))},Ol=(a(956),a(224),m.a.SubMenu),jl=s.a.Header,Il=s.a.Content,Nl=s.a.Footer,Cl=s.a.Sider;gl();var Sl=Object(he.b)((function(e){return{isLogin:e.isLogin,token:e.accessToken}}),null)((function(e){gl(),setInterval(gl,33e5);var t=localStorage.getItem("userNameCMS");if(!1===e.isLogin||null===e.isLogin)return r.a.createElement(Ie.a,null,r.a.createElement(Ne.a,{path:"/",render:function(){return r.a.createElement(je,null)}}));var a=new ke.a({uri:"https://api.cms.cubegame.vn/graphql",headers:{Authorization:"Bearer ".concat(e.token.accessToken)}}),n=window.location.pathname.slice(1).slice(0,function(){var e=window.location.pathname.slice(1),t=e.indexOf("/");return t>0?t:e.length}()),c=r.a.createElement(m.a,null,r.a.createElement(m.a.Item,null,r.a.createElement(Ie.b,{to:"/",onClick:function(){return W(!1)}},r.a.createElement(i.a,{type:"logout"}),r.a.createElement("span",{className:"nav-text"},"LogOut"))));return r.a.createElement(Pt.a,{client:a},r.a.createElement(Ie.a,null,r.a.createElement(s.a,null,r.a.createElement(Cl,{collapsedWidth:"0",style:{overflow:"auto",height:"100vh",position:"fixed",left:0},onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:Fe["logoclappigames.png"],width:"100%"})),r.a.createElement(m.a,{theme:"dark",mode:"inline",defaultSelectedKeys:""===n?["users"]:[n]},r.a.createElement(m.a.Item,{key:"users"},r.a.createElement(Ie.b,{to:"/"},r.a.createElement(i.a,{type:"idcard"}),r.a.createElement("span",{className:"nav-text"},"USERS"))),r.a.createElement(m.a.Item,{key:"news"},r.a.createElement(Ie.b,{to:"/news"},r.a.createElement(i.a,{type:"read"}),r.a.createElement("span",{className:"nav-text"},"NEWS"))),r.a.createElement(m.a.Item,{key:"media"},r.a.createElement(Ie.b,{to:"/media"},r.a.createElement(i.a,{type:"picture"}),r.a.createElement("span",{className:"nav-text"},"MEDIA"))),r.a.createElement(Ol,{key:"payment",title:r.a.createElement("span",null,r.a.createElement(i.a,{type:"transaction"}),r.a.createElement("span",null,"Payment"))},r.a.createElement(m.a.Item,{key:"5"},r.a.createElement(Ie.b,{to:"/payment/coin"},"C.coin")),r.a.createElement(m.a.Item,{key:"6"},r.a.createElement(Ie.b,{to:"/payment/items"},"Item ")),r.a.createElement(m.a.Item,{key:"7"}," ",r.a.createElement(Ie.b,{to:"/payment/promotion"},"Promotion"))),r.a.createElement(m.a.Item,{key:"stats"},r.a.createElement(Ie.b,{to:"/stats"},r.a.createElement(i.a,{type:"line-chart"}),r.a.createElement("span",{className:"nav-text"},"STATS"))),r.a.createElement(m.a.Item,{key:"partner"},r.a.createElement(Ie.b,{to:"/partner"},r.a.createElement(i.a,{type:"cluster"}),r.a.createElement("span",{className:"nav-text"},"PARTNER"))),r.a.createElement(m.a.Item,{key:"logout"},r.a.createElement(Ie.b,{to:"/",onClick:function(){return W(!1)}},r.a.createElement(i.a,{type:"logout"}),r.a.createElement("span",{className:"nav-text"},"LogOut"))))),r.a.createElement(s.a,{style:{marginLeft:200}},r.a.createElement(jl,{style:{background:"#E5E5E5",padding:0}},r.a.createElement(o.a,{overlay:c},r.a.createElement("a",{className:"user-avatar"},t," ",r.a.createElement(i.a,{type:"caret-down"})))),r.a.createElement(Il,{style:{overflow:"initial",padding:"2rem 2rem",background:"white"}},r.a.createElement(Ne.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Ke,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/users/detail",render:function(e){return r.a.createElement(st,e)}}),r.a.createElement(Ne.a,{exact:!0,path:"/news",render:function(){return r.a.createElement(la,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/news/edit",render:function(e){return r.a.createElement(ra,e)}}),r.a.createElement(Ne.a,{exact:!0,path:"/news/addnews",render:function(){return r.a.createElement(ma,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/media",render:function(){return r.a.createElement(ba,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/media/album",render:function(){return r.a.createElement(Ca,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/media/album/edit",render:function(){return r.a.createElement(wa,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/items",render:function(){return r.a.createElement(Kn,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/items/edit",render:function(){return r.a.createElement(er,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/coin",render:function(){return r.a.createElement(bn,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/coin/edit",render:function(){return r.a.createElement(Wn,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/coin/charges/detail",render:function(){return r.a.createElement(pl,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/item/charges/detail",render:function(){return r.a.createElement(vl,null)}}),r.a.createElement(Ne.a,{path:"/payment/promotion/create",render:function(){return r.a.createElement(nc,null)}}),r.a.createElement(Ne.a,{exact:!0,path:"/payment/promotion",render:function(){return r.a.createElement(Bc,null)}}),r.a.createElement(Ne.a,{path:"/payment/promotion/detail/promotion",render:function(){return r.a.createElement(Kc,null)}}),r.a.createElement(Ne.a,{path:"/payment/promotion/detail/event",render:function(){return r.a.createElement(ll,null)}}),r.a.createElement(Ne.a,{path:"/stats",render:function(){return r.a.createElement(Sc,null)}}),r.a.createElement(Ne.a,{path:"/partner",render:function(){return r.a.createElement(kc,null)}})),r.a.createElement(Nl,{style:{textAlign:"center",bottom:"0",width:"100%"}},"LUSSOM \xa92020")))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(he.a,{store:Q},r.a.createElement(Sl,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[481,1,2]]]);
//# sourceMappingURL=main.17dd0fc6.chunk.js.map