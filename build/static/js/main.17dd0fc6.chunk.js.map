{"version":3,"sources":["static/img sync nonrecursive /.(png|jpe?g|svg)$","static/img/avatar-detail.png","static/img/logoclappigames.png","static/img/tick-email.png","api/urlLogin.js","redux/action_types/index.js","redux/reducers/index.js","redux/store/index.js","redux/actions/index.js","components/login.js","utils/checkLogin.js","utils/queryUsers.js","utils/importImg.js","components/users/listUsers.js","components/users/updateUser.js","components/users/historyCharges/historyPayment.js","components/users/historyCharges/historyLogin.js","components/users/historyCharges/historyCoin.js","components/users/userDetail.js","utils/queryNews.js","utils/mutation/media.js","components/news/modalImageUrl/upload.js","utils/queryMedia.js","components/news/modalImageUrl/albumImageNews.js","components/news/modalImageUrl/albumDetaiImages.js","components/news/modalImageUrl/imgsUrl.js","components/news/newsEdit.js","components/news/index.js","components/news/addnews.js","components/news/newsAlert.js","components/media/upload.js","components/media/index.js","components/media/mediaService.js","components/media/album/createAlbumFromComp.js","components/media/album/createAlbumFromLibary.js","components/media/album/album.js","components/media/album/update.js","utils/queryPaymentAndPromoType.js","utils/queryCoin.js","utils/alertErrorAll.js","utils/query/chart.js","utils/configCharts.js","utils/dateInfo.js","components/payment/coin/listCharges/chartCacheCharges.js","components/payment/coin/service.js","components/payment/coin/listCharges/listCharges.js","utils/mutation/productCoin.js","components/payment/coin/listCoin/addnewCoin.js","components/payment/coin/listCoin/listCoin.js","components/payment/coin/index.js","utils/queryPartnerProducts.js","utils/mutation/partnerProductItems.js","components/payment/item/listPartnerProduct/createItems.js","components/payment/item/partnerCharges/listPartnerCharges.js","utils/queryPlatform.js","components/payment/item/partnerCharges/chartPartnerChargesByDate.js","components/payment/item/listPartnerProduct/listItems.js","components/payment/item/index.js","components/payment/coin/listCoin/editCoin.js","components/payment/item/listPartnerProduct/editItems.js","utils/mutation/promotion.js","components/payment/promotion/promoService.js","components/payment/promotion/create/promotion/inputRewardItem.js","utils/query/promotion.js","components/payment/promotion/create/event/inputReward.js","components/payment/promotion/create/event/menuReward.js","components/payment/promotion/create/nameAndTimePromo.js","components/payment/promotion/create/promotion/menuRewardItem.js","components/payment/promotion/create/index.js","components/stats/statsService.js","utils/query/stats.js","components/stats/chartStats.js","components/stats/chartStatsMau.js","components/stats/chartPaidUser.js","components/stats/index.js","components/partner/statsService.js","components/partner/listServers.js","components/partner/index.js","components/payment/promotion/list/listPromo.js","components/payment/promotion/list/listEvents.js","components/payment/promotion/list/index.js","components/payment/promotion/detail/promotion/typePromo.js","components/payment/promotion/detail/timePromo.js","components/payment/promotion/update/promotion/inputRewardItem.js","components/payment/promotion/update/promotion/menuRewardItem.js","components/payment/promotion/update/promotion/index.js","components/payment/promotion/detail/promotion/index.js","components/payment/promotion/detail/event/typeEvent.js","components/payment/promotion/update/event/inputReward.js","components/payment/promotion/update/event/menuReward.js","components/payment/promotion/update/event/index.js","components/payment/promotion/detail/event/index.js","components/payment/coin/listCharges/detail.js","components/payment/item/partnerCharges/detail.js","utils/checkToken.js","App.js","serviceWorker.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","ROOT_URL","apiLogin","rootApiLogin","getSig","checkLoginFinal","apiToken","REFRESHTOKEN","actions","newItem","point","rewards","initialState","isLogin","dataNews","dataContent","userToken","userAccessToken","accessToken","JSON","parse","localStorage","getItem","visibleModalNews","urlImgNews","urlImgThumbnail","typeEventByMoney","nameEventByMoney","listPartner","detailPromo","isCreatePromo","indexConfig","item","coin","inkind","listPaymentType","name","description","idPromoAndEventCreateInUpdate","store","createStore","state","action","newIndexConfig","initialItem","type","payload","removeItem","value","isType","data","newItem1","length","filter","index","val","positionItem","newInitalIndexConfig","newId","dispatchSwitchLogin","dispatch","dispatchSetAccessToken","dispatchShowImagesNews","showImagesNews","dispatchSetUrlImage","setUrlImage","dispatchSetUrlImageThumbnail","setUrlImageThumbnail","dispatchTypeEventByMoney","setTypeEventByMoney","dispatchNameEventByMoney","setNameEventByMoney","dispatchListPartner","setListPartner","dispatchDetailPromoAndEvent","getDetailPromo","dispatchSwitchCreatePromo","switchCreatePromo","dispatchSetDataTypePromo","setDataTypePromo","dispatchAddItemPromo","dispatchReduceItemPromo","reduceItemPromo","dispatchSeclectItemPartnerPromo","handleSelectItemPartner","dispatchSeclectNumbItem","handleSelectNumbItemPromo","dispatchSelectItemInkind","handleSelectItemInkind","dispatchSelectCoinEvent","handleSelectCoinEvent","dispatchResetItemRewards","dispatchInititalIndexConfig","dispatchSaveIdCreateInUpdate","saveIdPromoAndEventInUpdate","dispatchSetListPaymentType","setListPaymentType","Login","create","props","useState","alertLogin","setAlertLogin","getFieldDecorator","form","duoAuthState","setDuoAuthState","handleSubmit","a","preventDefault","validateFields","err","values","username","password","fetch","headers","method","body","then","response","status","json","result","catch","error","console","log","userName","initDuoFrame","setItem","message","DuoWebSDK","init","iframe","host","api_hostname","sig_request","submit_callback","submitPostAction","bind","this","sig_response","ok","token","timestamp","Date","getTime","stringify","onClick","className","onSubmit","Item","rules","required","prefix","style","color","placeholder","htmlType","connect","queryGetListUsers","gql","importImage","r","images","replace","importAll","require","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","Option","listType","nameType","Danhsach","currentPage","search","pageSize","count","pageIndex","setPageIndex","dataExport","setDataExport","userId","emai","mobile","dataUsers","setData","useLazyQuery","onCompleted","listUsersByType","rows","getData","loading","useEffect","variables","rowSelection","onChange","selectRowsKeys","selectedRows","columns","title","dataIndex","width","render","text","record","to","src","alt","printTypePayment","i","key","target","getValueSearch","marginRight","suffix","marginLeft","element","icon","disabled","filename","label","dataSource","pagination","current","total","pageNumber","UpdateInforUser","nickname","fakeId","email","identifyCard","address","gender","dateOfBirth","dateOfIssue","placeOfIssue","sdt","dateBirth","userInfor","setUserInfor","getInforUser","UpdateUser","useMutation","updateUser","success","content","onOk","switchEdit","md","statusSocial","defaultValue","showArrow","moment","format","date","dateString","HistoryPayment","useQuery","queryHistotyPayment","gameUserName","partnerProductName","discount","partnerName","createAt","listPartnerChargesByUser","HistoryLogin","queryHistotyLogin","time","utc","Number","listLoginUsersByUser","partner","partnerId","TabPane","HistoryCharges","queryHistotyChargesByUsers","price","toLocaleString","tab","listChargesByUser","Detail","query","URLSearchParams","location","isUpdate","switchUpdate","get","queryGetDataUserDetail","refetch","listUsers","facebook","appleId","google","guest","paddingRight","size","theme","marginBottom","fontSize","queryGetNews","queryGetPlatform","UpdateNews","createNews","queryDeleteNews","UPLOAD_IMAGE","DELETE_IMAGE","DELETE_ALBUM","CREATE_ALBUM","UPDATE_ALBUM","apolloCache","Dragger","InMemoryCache","uploadLink","createUploadLink","uri","Authorization","client","ApolloClient","cache","link","mutation","singleUploadStream","isThumbnail","singleUploadImage","url","encType","display","files","file","multiple","for","cursor","queryListImages","queryGetListAlbumByAdmin","userAdmin","queryGetImagesFromAlbumByType","Meta","AlbumImageInNews","albumName","setSelectedAlbumId","printListAlbum","listAdminAlbumsByUser","span","hoverable","cover","listImages","setDetailAlbum","isShow","albumId","Group","gutter","AlbumDetailImages","imagesDetailAlbum","setImagesDetailAlbum","listAdminAlbums","printListImages","buttonStyle","visible","dataImage","setDataImage","isDetailAlbum","fetchPolicy","listUploadedImages","getListImages","operations","onCancel","footer","tabBarExtraContent","radioStyle","height","lineHeight","editor","useRef","window","setIsThumbnail","listPlatform","setListPlatform","isDelete","confirmBtn","alertIndex","setAlertIndex","newContent","setNewContent","setIsPostNow","isSetSchedule","setIsSchedule","newsId","shortContent","platform","startPost","newsIndex","setNewsIndex","queryNewsDetail","listNews","image","getNewsById","dataPartner","listPartners","deleteNews","unity","updateNews","handleChangeType","showUrlImagesNews","showConfirm","setStartPostNow","now","printType","printStatus","printPlatform","sm","justifyContent","ref","onBlur","marginTop","padding","margin","showTime","timeString","allowClear","isInteger","open","dropdownClassName","renderExtraFooter","onFocus","okText","ids","cancelText","ListNews","listNewsDelete","setItemsForDelete","totalActive","totalInactive","totalIndex","setTotalIndex","listNewsByType","submitDeleteNews","itemsIdForDelete","submitSearch","onPressEnter","subTitle","disabledDate","endOf","fileList","setFileImage","configDrag","accept","showUploadList","showDownloadIcon","onRemove","indexOf","newFileList","slice","splice","beforeUpload","cancelUpload","gridStyle","textAlign","position","Media","selectedImage","setSelectedImage","deleteImages","isOpenImage","setIsOpenImage","photoIndex","setPhotoIndex","submitDelete","Grid","showImage","maxHeight","maxWidth","newVal","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","errorAlert","successAlert","getImagesForAlbum","setImagesForAlbum","imagesForAlbum","update","called","submitCreateAndUpdateAlbum","setPickDataImages","removeAlbumName","CreateAlbumFromLibary","setVisible","newListImage","printImageSelected","xs","valImg","Album","selectedAlbumId","isCreateAlbum","setIsCreateAlbum","imagesForAlbumByComp","setImagesForAlbumByComp","imagesForAlbumByLi","setImagesForAlbumByLi","user","imagesAlbum","setImagesAlbum","fromComp","fromLibary","pickDataImages","deleteAlbum","useMemo","createAdminAlbum","createAlbumByComp","createAlbumByLi","getListAlbum","submitCreateAlbumByComp","submitCreateAlbumByLi","backScreenUpdate","resetAlbumName","getAlbumName","UpdateAlbum","isShowAlert","setIsShowAlert","updateAlbum","submitDeleteAlbum","submitUpdateAlbum","newImages","alignItems","queryGetPaymentType","getPromotionType","getEventPaymentType","queryGetListCoin","queryGetProductById","queryGetListCharges","alertErrorServer","contentError","getListChartCharges","getListPartnerCharges","nFormatter","num","toFixed","optionLine","scaleStartValue","tooltips","callback","tooltipItem","scales","yAxes","ticks","steps","stepValue","beginAtZero","min","gridLines","drawTicks","scaleLabel","labelString","legend","optionLineForStats","dates","TODAY","subtract","THREE_DAY_AGO","SEVENT_DAY_AGO","FOURTEEN_DAY_AGO","THIRTY_DAY_AGO","months","THISMONTH","THREE_MONTHS_AGO","SIX_MONTHS_AGO","ONE_YEAR_AGO","listSelectDates","days","ChartCharges","fromDate","toDate","fromDateCustom","toDateCustom","timeValue","setTimeValue","xAxis","yAxis","dataCharts","setDataCharts","isSelectDates","setIsSelectDates","listCacheChargesByDate","demo2","money","reduce","b","totalMoney","onError","networkError","errors","totalPurchase","listChargesByType","getDataCharges","showDateSelect","submitDateCustom","convertData","paymentType","demo","val2","push","dataChart","labels","datasets","fill","backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","printOptionDates","options","convertPaymentType","arr","dataCharges","setDataCharges","updateProduct","createProduct","deleteCoinProduct","statusBtnCancel","oldData","productName","sort","oldDataProduct","setOldDataProduct","dataProduct","setDataProduct","baseCoin","createCoin","getNameAndPriceAndSort","printPaymentTypes","__type","enumValues","max","paddingLeft","onOK","ListCoin","listTypePayment","dataCoin","setDataCoin","itemsForDelete","getDataCoin","deleteProduct","setValueTypePayment","handleFilter","handleResetFilter","filterDropdown","printOptionsType","filterIcon","filtered","productId","submitDeleteProduct","hasSelected","setIsCreateCoin","listProductsByPaymentType","CoinsContainer","isCreateCoin","queryGetListPartnerProducts","queryGetRefPartnerProducts","queryGetListPartnerCharges","queryGetPartnerProductById","getListPartnerProducts","getListPartnerProducts2","updatePartnerProductItem","createPartnerProduct","deletePartnerProducts","partnerProductId","promotionId","oldDataPartnerProduct","setOldDataPartnerProduct","dataListPlatform","dataListRefProduct","setListRefProduct","dataPartnerProduct","setDataPartnerProduct","listRefPartnerProducts","getRefPartnerProduct","createItem","getNewInfoItem","changePartnerProductName","printRefProduct","alert","ListPartnerCharges","userType","os","dataPartnerCharges","getDataPartnerCharges","listPartnerChargesByType","chartCachePartnerChargeByDates","totalCoin","ListItems","listGame","setListGame","dataProducts","getListGame","deletePartnerProduct","printOptionsGame","submitDeletePartnerProduct","setIsCreateItem","listPartnerProductsByPartner","ItemsContainer","isCreateItem","setPaymentType","listProducts","updateCoin","listPartnerProducts","updateItem","createPromotion","createItemEvent","createEvent","updatePromotion","updateEvent","deletePromotion","deleteEvents","printAlertDailyPromo","daily0","initialIndexShop","purchaseTimes","purchaseItemId","numb","itemId","checkMainInfoPromoAndEvent","namePromo","promoType","timeTotalPromo","startTime","endTime","checkPurchaseItemIsEmtry","indexShop","every","checkRewardsIsEmtry","checkItemIsEmtry","value2","checkPoint","undefined","checkNumb","checkTime","startTimes","now1","checkStartHour","checkEndHour","alertErrorItemPromo","alertErrorNamePromo","indexAllServer","server","serverName","imageUrl","itemsForEventTypeItem","setItemForEventTypeItem","indexPromoAndEvent","timeTotal","daily","linkUrl","indexGameForPromo","platformId","game","shop","eventTime","hour","createPromo","submitCreatePromo","reduceItem","setIndexShop","addReward","newReward","newShop","reduceReward","numberItem","indexReward","printListItems","printItem","index1","printReward","valReward","index2","positionReward","handleChooseNumbReward","mode","handleChooseReward","handleChooseNumbItem","handleChooseItem","addItem","getListServer","getListServerByPartner","getListItemsForEvent","getListPromotionByType","getListEventsByType","itemsForEventTypeMoney","listItemForEvent","setListItemForEvent","coinEvent","setCoinEvent","rowItems","setRowItems","itemNumb","setItemNumb","newItem2","createNewItemEvent","config","createEventByMoney","createEventByMoneyForItem","submitCreateEvent","submitCreateItem","showModal","printListItemsEvent","printItemsForEventTypeMoney","handleChooseIsKind","centered","setCoinForEventTypeMoney","eventMoneyType","RangePicker","eventCointype","eventType","eventPaymentType","eventByMoneyIndex","setEventByMoneyIndex","listServer","setListServer","listPartnerServers","setIndexEventByMoney","indexEventByMoney","isPaymentTypeByCoin","switchTypeEvent","handleChangePaymentType","handleChanePaymentTypeByMoney","printEventMoneyType","printEventType","printListServer","handleChangePlatform","handleChangeServer","InputNameAndTypeArea","setInfoPromo","isTimeInPromo","setSwitchTypeEvent","resetGameAndServer","Button","InputTimeArea","isOpenTimePicker","setIsOpenTime","alertDaily","printAlertDates","childrenDates","childrenDaily","pickAllDay","openPickTime","closePickTime","minWidth","handleStartTimeTotal","endValue","startValue","valueOf","handleEndTimeTotal","handleChangeDates","handleChangeDaily","minuteStep","onOpenChange","setTimePromo","addon","listTypePromo","setListTypePromo","printPromoType","handleChangePlatformPromo","handleChangeServerPromo","handleChangeTypePromo","typeEvent","setIndexPromoAndEvent","setIndexGameForPromo","listItems","paymentTypeByMoney","itemsForEventByMoney","data2","getItemsForEventTypeMoney","confirm","platformPromoId","handleChangelistPartner","newTimetotal","numbEndTime","add","dataListStats","getDataDAU","getDataNRU","getDataPaidUsers","getDataMAU","getListPartnerByGame","ChartStats","valueDate","setValueDate","nameStats","chartDau","chartNruByOs","getDataNru","typeOs","dau","changeDates","MonthPicker","listSelectmonths","ChartStatsMau","fromMonth","toMonth","fromMonthCustom","toMonthCustom","defaulSelectMonth","isSelectMonths","setIsSelectMonths","chartMau","getDataMau","showmonthselect","mau","printOptionmonths","ChartPaidUsersStats","chartPaidUserByDate","dfpu","dpu","pr","arpdau","arppdau","toLowerCase","convertContent","SubMenu","Stats","listNameStats","fullName","listPartnersByGame","setListPartnerbyGame","indexStats","setIndexStats","printMenuStats","value1","printListStats","menuStats","defaultSelectedKeys","defaultOpenKeys","ListServers","listServers","setListServers","listPartnerServersByPartner","Partner","ListPromo","dataListPromo","listDelete","setListDelete","listPromotionsByType","deletePromo","selectedRowKeys","activeKey","statusValue","dataListEvents","listEventsByType","deleteEvent","isTypePromo","setIsTypePromo","isPromo","getServers","getPartnerProducts","printListGame","printAlertDatesPromo","alertDailyPromo","showClear","background","updatePromo","submitUpdatePromo","step","setListType","idCreatePromoAndEvent","alertUpdateSuccess","setAlertUpdateSuccess","isCreateEvent","setIsCreateEvent","dailyAlert","datesAlert","timeTotalAlert","alertInfoPromo","getListPartnerByPlatform","getListPlatForm","getListItemsEvent","backToList","viewDetail","backToDetail","isShowPromo","setIsShowPromo","setIsUpdate","promoId","getDetailPromotion","listPromotions","productsEventTypeItem","setProductsEventTypeItem","itemsEvent","setItemsEvent","dataDetail","printItemsEvent","border","isTypeEvent","imgUrlThumbnail","setIsCreatePromo","basecoin","newIndexEvent","mainInfo","updateEventByInkind","updateEventByCoin","updateEventByItem","submitUpdateEvent","printItemInkind","handleChooseInKind","printItemCoin","printItemPartner","handleChooseItemPartner","getListItemEvent","eventId","setDataDetail","listEvents","getListPaymentType","reset","ListChargesDetail","partnerProduct","checkTokenFinal","oldAccessToken","currentTime","checkToken","db","refreshToken","getRefreshToken","Header","Content","Footer","Sider","setInterval","path","isMenu","pathname","pathName","checkPathName","converPathname","menu","collapsedWidth","overflow","left","onBreakpoint","broken","onCollapse","collapsed","overlay","exact","bottom","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.17dd0fc6.chunk.js","sourcesContent":["var map = {\n\t\"./avatar-detail.png\": 827,\n\t\"./logoclappigames.png\": 828,\n\t\"./tick-email.png\": 829\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 826;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABOCAYAAACOqiAdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAN6SURBVHgB7ZyNddowEMePTEAmqDtByQSQCZoNSidoOgF0gtAJSjdoJyCdADqB3QnCBtc7SwJhLCwJA/6433sXEYeHnT93+tYN4EYg4pCKCdk7shFZog2s0rAly6xyQ/aXy8FgsIWuQ2JNyF7IUqyPNdkP/mzoEpZYb3h50taLSA//RLbC28Ge+AnaghYsxeaQYpMFRBWSK2wuKVkCTYEeZki2wPYwhxoYwBmg+gZXcNx9aDoZ2SN1ZTKI5A4iIdGmVKyhfaIxCRk3Hs9wTdjdsTvM4Rpgu+ozX14gkKA6jm6wpKI9faMwllTnffZ9s3cdR6ItoLuiMdMQz/MSDlU98AW6zzN61nmVoYqq5QmuA1rOlML256k3nBQOVT+NuxxD6Bc8VfVwqp9XJVwK7eyn1UEGSrzS+T5nHadjPYH+kpDNXH8s9TgdoikIDA/NXosXXR63AsFQ6nVHwqEagyYgGHi67Kl48ShUe94guMgoXN/bFw48TrzNSULafLQvFEO1D6ODWA6moHbCoVoZGoHgYoLW6pntcV0ewNfFLlx3jYM0Cl5sqZG45xe5x2kXTECoYmjC1YSqhKk/ebga4aRR8CfvDA9Q7Rp6AyGEe/Y48bZwxizcBxBCScTj4hixcAkIoeQe17f1hDpIxOMi4e4IghBM9G6lviPCRSLCRcLCZSCEshWPiyMTj4tjK8LFkXvcBoRQNizcPxBC2chEZhz3d3r/VwaCL/kZWdMd+QWCL3mbYIT7DYIvS/5hL0hzPSdzc6fZ7VqyRw5LEKp4NS9s4SRcq1maFwcbCylceQvrBIQyuDV9ML8UB/kLEFwcaCNbWf04vZVV8xWEIvPiBdc5B6nr9hx5G+OayPwGguGx7GKpcPokiTQUFKKug3DOQ3B61qStyQrqoDREDc41Bz1rwm7a/WxZx5j/3cnJxRrtpn1sZedVOUkqV7noA5ZQ0hx3GBbtO9QFqlRmXcf7CL2kz9hzmfQZDH3wFLrZTVmEiBYNed4Mu8MMrgndkHN0XCN946XgZ4+udiQNWiRnbbrhG+ve9RzaA9fRD+eIVivsfdis3JhFVmRjaCr0cJzcKcXmkGJJMoLGgkrANd6OFRbO0bcKevgxqqTGKV4ebil5hNPckIzBErFOT0xvIdZZ3ZFzQDXfxwfwRrBPEj+0SpvMKtk2uvxzqyTx/wEiNcqGX+jAAgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFiSURBVHgBbZJPUsIwFMa/RB1QNz0CLlUc4QZwAvUE0hPozum4sK4qskBOQL0BnKB6AnRk2qUcoRtHYEzia1pKCu1MO2ne93t/voSh7Jm4FqqHN2Aqxq8Yo+nMNiWsFFDqNt0gUKu4j/nfq5mAlQJKDLBcvKBasSDRIfB6M0EKht1v2rVyoOnGhU4ir1ZIcHJ3tJuFalTmCqfOCGXzCmmhfu9i6s3A+TDZ5lnHMSQFV0ITquwH4HtDI5XuJquoKBNr6GUijHojzH8Geg1YYKKdFSAN+1hXlOqdludpDjmm1yVokkKyjePMTc4uSPy5BpWi2VQLX16L5nQJfEwLGFASS7yQwi+aED4FCJ+DwnyFODlvxHkeYMqmbwNhr6//zSOJug/6uJiwc3kh69TraLsV87EU1O4iRvWgT6N0yHUbdccvB1ez7PDMfqqSXDtB0JnzZsq2Qd0a3RTFL8kkq/Qm0fMPCw6dkbzqeT0AAAAASUVORK5CYII=\"","const ROOT_URL = \"https://api.cms.cubegame.vn/auth\";\r\nconst apiLogin = {\r\n  rootApiLogin: ROOT_URL + \"/login/test\",\r\n  getSig: ROOT_URL + \"/duo/call?username=\",\r\n  checkLoginFinal: ROOT_URL + \"/duo/verify\"\r\n};\r\nconst apiToken = {\r\n  REFRESHTOKEN: ROOT_URL + \"/token/renew\"\r\n};\r\nexport { apiLogin, apiToken };\r\n","const actions = {\r\n  SWITCH_LOGIN: \"SWITCH_LOGIN\",\r\n  GET_LISTPARTNER: \"GET_LISTPARTNER\",\r\n  SET_ACCESSTOKEN: \"SET_ACCESSTOKEN\",\r\n  SET_TOKEN: \"SET_TOKEN\",\r\n  SHOW_IMAGES_NEWS: \"SHOW_IMAGES_NEWS\",\r\n  SET_URL_IMAGES: \"SET_URL_IMAGES\",\r\n  SET_URL_IMAGES_THUMBNAIL: \"SET_URL_IMAGES_THUMBNAIL\",\r\n  SET_TYPE_EVENTMONEY: \" SET_TYPE_EVENTBYMONEY\",\r\n  SET_NAME_EVENT: \"SET_NAME_EVENT\",\r\n  GET_DETAIL_PROMO: \"GET_DETAIL_PROMO\",\r\n  SWITCH_CREATE_PROMO: \"SWITCH_CREATE_PROMO\",\r\n  SET_DATA_TYPEPROMO: \"SET_DATA_TYPEPROMO\",\r\n  ADD_ITEM_PROMO: \"ADD_ITEM_PROMO\",\r\n  REDUCE_ITEM_PROMO: 'REDUCE_ITEM_PROMO',\r\n  SELECT_ITEM_PARNER: \"SELECT_ITEM_PARTNER\",\r\n  SELECT_NUMB_ITEM_PROMO: \"SELECT_NUMB_ITEM_PROMO\",\r\n  SELECT_ITEM_INKIND: \"SELECT_ITEM_INKIND\",\r\n  SELECT_COIN_EVENT: \"SELECT_COIN_EVENT\",\r\n  RESET_ITEM_PARTNER: \"RESET_ITEM_PARTNER\",\r\n  SET_INITIAL_INDEXCONFIG: 'SET_INITIAL_INDEXSHOP',\r\n  ADD_INKIND_EVENT: 'ADD_INKIND_EVENT',\r\n  SAVE_ID_IN_UPDATE: \"SAVE_ID_CREATE_IN_UPDATE\",\r\n  SET_LIST_PAYMENTTYPE:\"SET_LIST_PAYMENT_TYPE\"\r\n};\r\nexport { actions };\r\n","import { actions } from \"../action_types/index\";\r\nimport { stateToHTML } from \"draft-js-export-html\";\r\nimport { act } from \"react-dom/test-utils\";\r\nconst newItem = [\r\n  {\r\n    point: 1,\r\n    rewards: []\r\n  }\r\n];\r\nconst initialState = {\r\n  isLogin: true,\r\n  dataNews: [],\r\n  dataContent: [],\r\n  userToken: null,\r\n  userAccessToken: null,\r\n  accessToken: JSON.parse(localStorage.getItem(\"accessTokenCms\")),\r\n  visibleModalNews: false,\r\n  urlImgNews: \"\",\r\n  urlImgThumbnail: \"\",\r\n  typeEventByMoney: \"\",\r\n  nameEventByMoney: \"\",\r\n  // list game\r\n  listPartner: [],\r\n  // detail promo\r\n  detailPromo: [],\r\n  isCreatePromo: true,\r\n  //\r\n  indexConfig: {\r\n    item: newItem,\r\n    coin: newItem,\r\n    inkind: newItem\r\n  },\r\n  listPaymentType: [{ name: \"\", description: \"\" }],\r\n  idPromoAndEventCreateInUpdate: [null]\r\n};\r\nexport default (state = initialState, action) => {\r\n  const newIndexConfig = { ...state.indexConfig };\r\n  const initialItem = [\r\n    {\r\n      point: 1,\r\n      rewards: []\r\n    }\r\n  ];\r\n  switch (action.type) {\r\n    case actions.SET_TOKEN:\r\n      return {\r\n        ...state,\r\n        userToken: action.userToken,\r\n        userAccessToken: action.accessToken\r\n      };\r\n    case actions.SET_ACCESSTOKEN:\r\n      return { ...state, accessToken: action.payload };\r\n    case actions.SWITCH_LOGIN:\r\n      if (action.payload === false) {\r\n        localStorage.removeItem(\"tokenCms\");\r\n        localStorage.removeItem(\"accessTokenCms\");\r\n      }\r\n      return { ...state, isLogin: action.payload };\r\n    case actions.SHOW_IMAGES_NEWS:\r\n      return {\r\n        ...state,\r\n        visibleModalNews: action.value\r\n      };\r\n    case actions.SET_URL_IMAGES:\r\n      return {\r\n        ...state,\r\n        urlImgNews: action.value\r\n      };\r\n    case actions.SET_URL_IMAGES_THUMBNAIL:\r\n      return {\r\n        ...state,\r\n        urlImgThumbnail: action.value\r\n      }\r\n    case actions.SET_TYPE_EVENTMONEY:\r\n      return {\r\n        ...state,\r\n        typeEventByMoney: action.value\r\n      };\r\n    case actions.SET_NAME_EVENT:\r\n      return {\r\n        ...state,\r\n        nameEventByMoney: action.value\r\n      };\r\n    case actions.GET_LISTPARTNER:\r\n      return {\r\n        ...state,\r\n        listPartner: action.value\r\n      };\r\n    case actions.GET_DETAIL_PROMO:\r\n      return {\r\n        ...state,\r\n        detailPromo: action.value\r\n      };\r\n    case actions.SWITCH_CREATE_PROMO:\r\n      return {\r\n        ...state,\r\n        isCreatePromo: action.value\r\n      };\r\n    case actions.SET_DATA_TYPEPROMO:\r\n      newIndexConfig[action.isType] = action.data;\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.ADD_ITEM_PROMO:\r\n      const newItem1 = [\r\n        {\r\n          point:\r\n            newIndexConfig[action.isType][\r\n              newIndexConfig[action.isType].length - 1\r\n            ].point,\r\n          rewards: []\r\n        }\r\n      ];\r\n      newIndexConfig[action.isType] = [\r\n        ...state.indexConfig[action.isType],\r\n        ...newItem1\r\n      ];\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.REDUCE_ITEM_PROMO:\r\n      const newItem = newIndexConfig[action.isType].filter(\r\n        (value, index) => index !== action.val\r\n      );\r\n      newIndexConfig[action.isType] = newItem;\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.SELECT_ITEM_PARNER:\r\n      newIndexConfig[\"item\"][action.positionItem].rewards = action.value;\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.SELECT_NUMB_ITEM_PROMO:\r\n      const { isType, positionItem, value } = action;\r\n      newIndexConfig[isType][positionItem].point = value;\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.SELECT_ITEM_INKIND:\r\n      newIndexConfig.inkind[action.positionItem].rewards = [action.value];\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.SELECT_COIN_EVENT:\r\n      newIndexConfig.coin[action.positionItem].rewards = [action.value];\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.RESET_ITEM_PARTNER:\r\n      newIndexConfig.item = [\r\n        {\r\n          point: 1,\r\n          rewards: []\r\n        }\r\n      ];\r\n      return {\r\n        ...state,\r\n        indexConfig: newIndexConfig\r\n      };\r\n    case actions.SET_INITIAL_INDEXCONFIG:\r\n      const newInitalIndexConfig = {\r\n        item: initialItem,\r\n        coin: initialItem,\r\n        inkind: initialItem\r\n      };\r\n      return {\r\n        ...state,\r\n        indexConfig: newInitalIndexConfig\r\n      };\r\n    case actions.SAVE_ID_IN_UPDATE:\r\n      const newId = state.idPromoAndEventCreateInUpdate;\r\n      return {\r\n        ...state,\r\n        idPromoAndEventCreateInUpdate: [...newId, action.value]\r\n      };\r\n    case actions.SET_LIST_PAYMENTTYPE:\r\n      return {\r\n        ...state,\r\n        listPaymentType: action.value\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore } from \"redux\";\r\nimport reducer from \"../reducers/index\";\r\n\r\n const store = createStore(reducer);\r\n export default store;","import { actions } from \"../action_types/index\";\r\nimport store from \"../store/index\";\r\nimport { isType } from \"graphql\";\r\nimport { act } from \"react-dom/test-utils\";\r\n\r\nconst setAccessToken = payload => {\r\n  return {\r\n    type: actions.SET_ACCESSTOKEN,\r\n    payload\r\n  };\r\n};\r\nconst switchLogin = payload => {\r\n  return {\r\n    type: actions.SWITCH_LOGIN,\r\n    payload\r\n  };\r\n};\r\nconst setToken = (userToken, accessToken) => {\r\n  return {\r\n    type: actions.SET_TOKEN,\r\n    userToken,\r\n    accessToken\r\n  };\r\n};\r\nconst showImagesNews = value => {\r\n  return {\r\n    type: actions.SHOW_IMAGES_NEWS,\r\n    value\r\n  };\r\n};\r\nconst setUrlImage = value => {\r\n  return {\r\n    type: actions.SET_URL_IMAGES,\r\n    value\r\n  };\r\n};\r\nconst setUrlImageThumbnail = value => {\r\n  return {\r\n    type: actions.SET_URL_IMAGES_THUMBNAIL,\r\n    value\r\n  }\r\n}\r\nconst setTypeEventByMoney = value => {\r\n  return {\r\n    type: actions.SET_TYPE_EVENTMONEY,\r\n    value\r\n  };\r\n};\r\nconst setNameEventByMoney = value => {\r\n  return {\r\n    type: actions.SET_NAME_EVENT,\r\n    value\r\n  };\r\n};\r\nconst setListPartner = value => {\r\n  return {\r\n    type: actions.GET_LISTPARTNER,\r\n    value\r\n  };\r\n};\r\nconst getDetailPromo = value => {\r\n  return {\r\n    type: actions.GET_DETAIL_PROMO,\r\n    value\r\n  };\r\n};\r\nconst switchCreatePromo = value => {\r\n  return {\r\n    type: actions.SWITCH_CREATE_PROMO,\r\n    value\r\n  };\r\n};\r\nconst setDataTypePromo = value => {\r\n  return {\r\n    type: actions.SET_DATA_TYPEPROMO,\r\n    ...value\r\n  };\r\n};\r\nconst addItemPromo = isType => {\r\n  return {\r\n    type: actions.ADD_ITEM_PROMO,\r\n    isType\r\n  };\r\n};\r\nconst addInkindPromo = () => {\r\n  return {\r\n    type: actions.ADD_INKIND_EVENT\r\n  }\r\n}\r\nconst reduceItemPromo = value => {\r\n  return {\r\n    type: actions.REDUCE_ITEM_PROMO,\r\n    ...value\r\n  };\r\n};\r\nconst handleSelectItemPartner = value => {\r\n  return {\r\n    type: actions.SELECT_ITEM_PARNER,\r\n    ...value\r\n  };\r\n};\r\nconst handleSelectNumbItemPromo = value => {\r\n  return {\r\n    type: actions.SELECT_NUMB_ITEM_PROMO,\r\n    ...value\r\n  };\r\n};\r\nconst handleSelectItemInkind = value => {\r\n  return {\r\n    type: actions.SELECT_ITEM_INKIND,\r\n    ...value\r\n  };\r\n};\r\nconst handleSelectCoinEvent = value => {\r\n  return {\r\n    type: actions.SELECT_COIN_EVENT,\r\n    ...value\r\n  };\r\n};\r\nconst resetItemRewards = () => {\r\n  return {\r\n    type: actions.RESET_ITEM_PARTNER\r\n  };\r\n};\r\nconst setInitialIndexConfig = () => {\r\n  return {\r\n    type: actions.SET_INITIAL_INDEXCONFIG\r\n  }\r\n}\r\nconst saveIdPromoAndEventInUpdate = value => {\r\n  return {\r\n    type: actions.SAVE_ID_IN_UPDATE,\r\n    value\r\n  }\r\n}\r\nconst setListPaymentType = value => {\r\n  return {\r\n    type: actions.SET_LIST_PAYMENTTYPE,\r\n    value\r\n  }\r\n}\r\nfunction dispatchSwitchLogin(data) {\r\n  store.dispatch(switchLogin(data));\r\n}\r\nfunction dispatchSetAccessToken(data) {\r\n  store.dispatch(setAccessToken(data));\r\n}\r\nfunction dispatchSetToken(userToken, accessToken) {\r\n  store.dispatch(setToken(userToken, accessToken));\r\n}\r\nfunction dispatchShowImagesNews(value) {\r\n  store.dispatch(showImagesNews(value));\r\n}\r\nfunction dispatchSetUrlImage(value) {\r\n  store.dispatch(setUrlImage(value));\r\n}\r\nfunction dispatchSetUrlImageThumbnail(value) {\r\n  store.dispatch(setUrlImageThumbnail(value))\r\n}\r\nfunction dispatchTypeEventByMoney(value) {\r\n  store.dispatch(setTypeEventByMoney(value));\r\n}\r\nfunction dispatchNameEventByMoney(value) {\r\n  store.dispatch(setNameEventByMoney(value));\r\n}\r\nfunction dispatchListPartner(value) {\r\n  store.dispatch(setListPartner(value));\r\n}\r\nfunction dispatchDetailPromoAndEvent(value) {\r\n  store.dispatch(getDetailPromo(value));\r\n}\r\nfunction dispatchSwitchCreatePromo(value) {\r\n  store.dispatch(switchCreatePromo(value));\r\n}\r\nfunction dispatchSetDataTypePromo(value) {\r\n  store.dispatch(setDataTypePromo(value));\r\n}\r\nfunction dispatchAddItemPromo(value) {\r\n  store.dispatch(addItemPromo(value));\r\n}\r\nfunction dispatchAddInkindPromo() {\r\n  store.dispatch(addInkindPromo());\r\n}\r\nfunction dispatchReduceItemPromo(value) {\r\n  store.dispatch(reduceItemPromo(value));\r\n}\r\nfunction dispatchSeclectItemPartnerPromo(value) {\r\n  store.dispatch(handleSelectItemPartner(value));\r\n}\r\nfunction dispatchSeclectNumbItem(value) {\r\n  store.dispatch(handleSelectNumbItemPromo(value));\r\n}\r\nfunction dispatchSelectItemInkind(value) {\r\n  store.dispatch(handleSelectItemInkind(value));\r\n}\r\nfunction dispatchSelectCoinEvent(value) {\r\n  store.dispatch(handleSelectCoinEvent(value));\r\n}\r\nfunction dispatchResetItemRewards() {\r\n  store.dispatch(resetItemRewards());\r\n}\r\nfunction dispatchInititalIndexConfig() {\r\n  store.dispatch(setInitialIndexConfig());\r\n}\r\nfunction dispatchSaveIdCreateInUpdate(value) {\r\n  store.dispatch(saveIdPromoAndEventInUpdate(value))\r\n}\r\nfunction dispatchSetListPaymentType(value) {\r\n  store.dispatch(setListPaymentType(value))\r\n}\r\nexport {\r\n  dispatchSwitchLogin,\r\n  dispatchSetAccessToken,\r\n  dispatchSetToken,\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImage,\r\n  dispatchSetUrlImageThumbnail,\r\n  dispatchTypeEventByMoney,\r\n  dispatchNameEventByMoney,\r\n  dispatchListPartner,\r\n  dispatchDetailPromoAndEvent,\r\n  dispatchSwitchCreatePromo,\r\n  dispatchSetDataTypePromo,\r\n  dispatchAddItemPromo,\r\n  dispatchAddInkindPromo,\r\n  dispatchReduceItemPromo,\r\n  dispatchSeclectItemPartnerPromo,\r\n  dispatchSeclectNumbItem,\r\n  dispatchSelectItemInkind,\r\n  dispatchSelectCoinEvent,\r\n  dispatchResetItemRewards,\r\n  dispatchInititalIndexConfig,\r\n  dispatchSaveIdCreateInUpdate,\r\n  dispatchSetListPaymentType\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Form, Icon, Input, Button } from \"antd\";\r\nimport { getTokenAndLogin, getDuoIndex } from \"../utils/checkLogin\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  dispatchSwitchLogin,\r\n  dispatchSetAccessToken\r\n} from \"../redux/actions/index\";\r\nimport DuoWebSDK from \"duo_web_sdk\";\r\nimport { apiLogin } from \"../api/urlLogin\";\r\nimport \"../App.css\";\r\nimport \"../static/style/login.css\";\r\nconst SHOW_IFRAME = \"SHOW_IFRAME\";\r\nfunction NormalLoginForm(props) {\r\n  const [alertLogin, setAlertLogin] = useState(\"\");\r\n  const { getFieldDecorator } = props.form;\r\n  const [duoAuthState, setDuoAuthState] = useState(\"\");\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        let statusLogin = getTokenAndLogin(values.username, values.password);\r\n        statusLogin.then(result => {\r\n          if (result.status !== 1001 && result.status !== 1002) {\r\n            let getSig = getDuoIndex(values.username);\r\n            getSig.then(val => {\r\n              // getTokenAndLogin(values.username, values.password);\r\n              setDuoAuthState(SHOW_IFRAME);\r\n              initDuoFrame(val);\r\n            });\r\n            localStorage.setItem(\"userNameCMS\", values.username);\r\n          }else{\r\n            setAlertLogin(result.message)\r\n          }\r\n        });\r\n      }\r\n    });\r\n  };\r\n  function initDuoFrame(json) {\r\n    console.log(json);\r\n    // initialize the frame with the parameters\r\n    // we have retrieved from the server\r\n    DuoWebSDK.init({\r\n      value: \"dsaffa\",\r\n      iframe: \"duo-frame\",\r\n      host: json.api_hostname,\r\n      sig_request: json.sig_request,\r\n      submit_callback: submitPostAction.bind(this)\r\n    });\r\n  }\r\n  function submitPostAction(form) {\r\n    fetch(apiLogin.checkLoginFinal, {\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      method: \"POST\",\r\n      body: `sig_response=${form.sig_response.value}`\r\n    })\r\n      .then(response => {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          dispatchSwitchLogin(false);\r\n          localStorage.removeItem(\"userNameCMS\");\r\n        }\r\n      })\r\n      .then(result => {\r\n        let userToken = { token: result, timestamp: new Date().getTime() };\r\n        let userAccessToken = {\r\n          accessToken: result.accessToken,\r\n          timestamp: new Date().getTime()\r\n        };\r\n        localStorage.setItem(\"tokenCms\", JSON.stringify(userToken));\r\n        localStorage.setItem(\"accessTokenCms\", JSON.stringify(userAccessToken));\r\n        dispatchSetAccessToken(userAccessToken);\r\n        dispatchSwitchLogin(true);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n  const goToForm = () => {\r\n    setDuoAuthState(\"\");\r\n  };\r\n  if (duoAuthState === SHOW_IFRAME) {\r\n    return (\r\n      <>\r\n        <iframe id=\"duo-frame\" />\r\n        <span onClick={goToForm}>BACK</span>\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <Form onSubmit={handleSubmit} className=\"login-form\">\r\n        <Form.Item>\r\n          {getFieldDecorator(\"username\", {\r\n            rules: [{ required: true, message: \"Please input your username!\" }]\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\r\n              placeholder=\"Username\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator(\"password\", {\r\n            rules: [{ required: true, message: \"Please input your Password!\" }]\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n          <p className=\"res-login\">{alertLogin}</p>\r\n        <Form.Item>\r\n          <Button\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            className=\"login-form-button\"\r\n          >\r\n            Log in\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Login = Form.create({ name: \"normal_login\" })(NormalLoginForm);\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    userToken: state.userToken,\r\n    accessToken: state.userAccessToken\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(Login);\r\n","import fetch from \"isomorphic-unfetch\";\r\nimport { apiLogin } from \"../api/urlLogin\";\r\nimport { dispatchSwitchLogin,dispatchSetAccessToken } from \"../redux/actions/index\";\r\nfunction getTokenAndLogin(username, password) {\r\n  let resStatus = 0;\r\n  const token = fetch(apiLogin.rootApiLogin, {\r\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    method: \"POST\",\r\n    body: `username=${username}&password=${password}`\r\n  })\r\n    .then(response => {\r\n      resStatus = response.status;\r\n      return response.json();\r\n    })\r\n    .then(result => {\r\n      // if (resStatus !== 200) {\r\n      //   // thisObj.setState({\r\n      //   //   validateStatus: \"error\",\r\n      //   //   message: \"Please doulbe check your information.\"\r\n      //   // });\r\n      //   console.log(result.status);\r\n      // } else {\r\n      //   let userToken = { token: result, timestamp: new Date().getTime() };\r\n      //   let userAccessToken = {\r\n      //     accessToken: result.accessToken,\r\n      //     timestamp: new Date().getTime()\r\n      //   };\r\n      //   localStorage.setItem(\"tokenCms\", JSON.stringify(userToken));\r\n      //   localStorage.setItem(\"accessTokenCms\", JSON.stringify(userAccessToken));\r\n      //   dispatchSetAccessToken(userAccessToken)\r\n        // login function\r\n        // dispatchSwitchLogin(true);\r\n        return result;\r\n      }\r\n    )\r\n    .catch(error => {\r\n      console.log(\"Request failed\", error);\r\n    });\r\n  return token;\r\n}\r\nfunction getDuoIndex(userName) {\r\n  const token = fetch(apiLogin.getSig + userName, {\r\n    method: \"GET\"\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .then(result => {\r\n      return result;\r\n    })\r\n    .catch(error => {\r\n      console.log(\"Request failed\", error);\r\n    });\r\n  return token;\r\n}\r\nfunction chekDuo(sigValue) {\r\n  fetch(apiLogin.checkLoginFinal, {\r\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    method: \"POST\",\r\n    body: `sig_response=${sigValue}`\r\n  });\r\n}\r\nexport { getTokenAndLogin, getDuoIndex, chekDuo };\r\n","import { gql } from \"apollo-boost\";\r\nconst queryGetListUsers = gql`\r\n    query listUsersByType($currentPage: Int!, $pageSize: Int!, $type: Int!, $search: String){\r\n      listUsersByType(currentPage: $currentPage, pageSize: $pageSize, type: $type, search: $search) {\r\n        count\r\n        rows {\r\n          userId\r\n          username\r\n          coin\r\n          email,\r\n          fakeId,\r\n          mobile\r\n          emailStatus\r\n          verifyEmail\r\n          status\r\n        }\r\n      }\r\n    }\r\n  `;\r\n\r\nconst queryGetDataUserDetail = query => {\r\n  return gql`\r\n    query {\r\n      listUsers(userId:\"${query.get(\"userId\")}\") {\r\n          userId,\r\n          username,\r\n          fakeId,\r\n          type,\r\n          nickname,\r\n          coin,\r\n          email,\r\n          identifyCard,\r\n          address,\r\n          status,\r\n          gender,\r\n          dateOfBirth,\r\n          dateOfIssue,\r\n          placeOfIssue,\r\n          appleId,\r\n          facebook,\r\n          google,\r\n          guest,\r\n          mobile\r\n      }\r\n    }\r\n    `;\r\n};\r\n// lch s hot ng\r\nconst queryLogin = query => {\r\n  return gql`\r\n    query {\r\n        listLoginUsers(userId:\"${query.get(\"userId\")}\") {\r\n            userId,\r\n            os,\r\n            partner {\r\n              partnerId,\r\n              partnerName\r\n            },\r\n            createAt,\r\n            lastLogin\r\n      }\r\n    }\r\n    `;\r\n};\r\n// const queryHistotyCharges=()=\r\nconst queryHistotyChargesByUsers = (currentPage, pageSize, userId) => {\r\n  return gql`\r\n  query{\r\n    listChargesByUser(currentPage: ${currentPage}, pageSize: ${pageSize}, userId:\"${userId}\"){\r\n      count\r\n      rows {\r\n        baseCoin,\r\n        price,\r\n        payload\r\n        paymentType,\r\n        chargeId,\r\n        price,\r\n        createAt,\r\n        status\r\n      }\r\n    }\r\n  }\r\n  `;\r\n};\r\nconst queryHistotyPayment = (currentPage, pageSize, userId) => {\r\n  return gql`\r\n  query{\r\n    listPartnerChargesByUser(currentPage: ${currentPage}, pageSize: ${pageSize}, userId:\"${userId}\"){\r\n      count\r\n      rows {\r\n        partnerChargeCode\r\n        payload\r\n        status\r\n        partnerProduct{\r\n          partnerProductName\r\n        }\r\n        partner{\r\n          partnerName\r\n        }\r\n        promotionRef\r\n      }\r\n    }\r\n  }\r\n  `;\r\n};\r\nconst queryHistotyLogin = (currentPage, pageSize, userId) => {\r\n  return gql`\r\n  query{\r\n    listLoginUsersByUser(currentPage: ${currentPage}, pageSize: ${pageSize}, userId:\"${userId}\"){\r\n      count\r\n      rows {\r\n        lastLogin\r\n         partner{\r\n          partnerName\r\n          partnerId\r\n        }\r\n        os\r\n        gameId  \r\n      }\r\n    }\r\n  }\r\n  `;\r\n};\r\nexport {\r\n  queryGetListUsers,\r\n  queryGetDataUserDetail,\r\n  queryLogin,\r\n  queryHistotyChargesByUsers,\r\n  queryHistotyPayment,\r\n  queryHistotyLogin\r\n};\r\n","function importAll(r) {\r\n  let images = {};\r\n  r.keys().map((item, index) => {\r\n    images[item.replace(\"./\", \"\")] = r(item);\r\n  });\r\n  return images;\r\n}\r\n\r\nconst importImage = importAll(\r\n  require.context(\"../static/img\", false, /\\.(png|jpe?g|svg)$/)\r\n);\r\nexport { importImage };\r\n","import React, { useState, useEffect, Fragment } from \"react\";\r\nimport { Table, Button, Pagination, Input, Tooltip, Icon, Select } from \"antd\";\r\nimport { queryGetListUsers } from \"../../utils/queryUsers\";\r\nimport { useLazyQuery, useQuery } from \"@apollo/react-hooks\";\r\nimport ReactExport from \"react-export-excel\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { moment } from \"moment\";\r\nimport { importImage } from \"../../utils/importImg\";\r\nimport \"../../static/style/listUsers.css\";\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\nconst { Option } = Select;\r\nconst listType = [\r\n  { nameType: \"By UserName\", id: 1 },\r\n  { nameType: \"By Email\", id: 4 },\r\n  { nameType: \"By UserId\", id: 3 }\r\n  // { nameType: \"Theo kiu thanh ton\", id: 3 }\r\n];\r\nfunction Danhsach() {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    search: \"\",\r\n    type: 1,\r\n    pageSize: 10,\r\n    count: null\r\n  });\r\n  const [dataExport, setDataExport] = useState([]);\r\n  const [dataUsers, setData] = useState([\r\n    { username: \"\", userId: \"\", coin: \"\", emai: \"\", mobile: \"\" }\r\n  ]);\r\n  const { currentPage, search, type, pageSize } = pageIndex;\r\n  const [getData, { loading, data }] = useLazyQuery(queryGetListUsers, {\r\n    onCompleted: data => {\r\n      console.log(data);\r\n      setData(data.listUsersByType.rows);\r\n      setPageIndex({ ...pageIndex, count: data.listUsersByType.count });\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: 0,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  }, []);\r\n  const rowSelection = {\r\n    onChange: (selectRowsKeys, selectedRows) => {\r\n      setDataExport(selectedRows);\r\n    }\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"username\",\r\n      width: \"20%\",\r\n      render: (text, record) => (\r\n        <span>\r\n          <Link to={`users/detail?userId=${record.userId}`}>{text}</Link>\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      title: \"User Id\",\r\n      dataIndex: \"fakeId\",\r\n      width: \"15%\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"C.coin\",\r\n      dataIndex: \"coin\",\r\n      width: \"10%\"\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"email\",\r\n      width: \"25%\",\r\n      render: (index, record) => (\r\n        <Fragment>\r\n          {index !== null ? (\r\n            <span className=\"email-verify\">\r\n              <img src={importImage[\"tick-email.png\"]} alt=\"tick-email\" />\r\n              {index}\r\n            </span>\r\n          ) : (\r\n            <span>{index}</span>\r\n          )}\r\n        </Fragment>\r\n      )\r\n    },\r\n    {\r\n      title: \"Mobile\",\r\n      dataIndex: \"mobile\",\r\n      width: \"15%\"\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      width: \"15%\",\r\n      render: index => <span>{index === \"INPUT\" ? \"Inactive\" : \"Active\"}</span>\r\n    }\r\n  ];\r\n  const goPage = pageNumber => {\r\n    setPageIndex({ ...pageIndex, currentPage: pageNumber });\r\n    getData({\r\n      variables: {\r\n        currentPage: pageNumber,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const getValueSearch = e => {\r\n    setPageIndex({ ...pageIndex, search: e.target.value });\r\n  };\r\n  const handleChangeType = val => {\r\n    setPageIndex({ ...pageIndex, type: val });\r\n  };\r\n  const onSearch = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const resetSearch = () => {\r\n    setPageIndex({\r\n      ...pageIndex,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      type: 1,\r\n      search: \"\"\r\n    });\r\n    getData({\r\n      variables: {\r\n        currentPage: 1,\r\n        type: 1,\r\n        pageSize: 10,\r\n        search: \"\"\r\n      }\r\n    });\r\n  };\r\n  const printTypePayment = listType.map((val, i) => (\r\n    <Option value={val.id} key={i}>\r\n      {val.nameType}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"container-listUser\">\r\n      <h2>Users</h2>\r\n      <div className=\"btn-search-charges\">\r\n        <div>\r\n          <Input\r\n            placeholder={`Search by Username, UserId...`}\r\n            onChange={e => getValueSearch(e)}\r\n            value={search}\r\n            style={{ marginRight: \".2rem\" }}\r\n            suffix={\r\n              <Tooltip\r\n                title=\"reset\"\r\n                className={search !== \"\" ? \"reset-btn-show\" : \"reset-btn-hide\"}\r\n              >\r\n                <Icon\r\n                  type=\"close\"\r\n                  style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                  onClick={resetSearch}\r\n                />\r\n              </Tooltip>\r\n            }\r\n          />\r\n          <Select\r\n            value={type}\r\n            style={{ width: \"25%\", marginRight: \"1%\" }}\r\n            onChange={handleChangeType}\r\n          >\r\n            {printTypePayment}\r\n          </Select>\r\n          <Button\r\n            onClick={onSearch}\r\n            style={{ marginLeft: \".25rem\", width: \"15%\" }}\r\n          >\r\n            Search\r\n          </Button>\r\n        </div>\r\n        <ExcelFile\r\n          className=\"btn-export\"\r\n          style={{ width: \"8%\", marginLeft: \"2%\" }}\r\n          element={\r\n            <Button\r\n              icon=\"file-excel\"\r\n              type=\"primary\"\r\n              id=\"btn_export_excel\"\r\n              disabled={dataExport.length > 0 ? false : true}\r\n            >\r\n              Export Excel\r\n            </Button>\r\n          }\r\n          filename=\"List Users\"\r\n        >\r\n          <ExcelSheet data={dataExport} name=\"List Users\">\r\n            <ExcelColumn label=\"Name\" value=\"username\" />\r\n            <ExcelColumn label=\"Id\" value=\"fakeId\" />\r\n            <ExcelColumn label=\"C.coin\" value=\"coin\" />\r\n            <ExcelColumn label=\"Email\" value=\"email\" />\r\n            <ExcelColumn label=\"Mobile\" value=\"mobile\" />\r\n            <ExcelColumn label=\"Status\" value=\"status\" />\r\n          </ExcelSheet>\r\n        </ExcelFile>\r\n      </div>\r\n      <h3>\r\n        Total: <span style={{ color: \"#1890ff\" }}>{pageIndex.count} Users</span>\r\n      </h3>\r\n      <Table\r\n        rowSelection={rowSelection}\r\n        columns={columns}\r\n        dataSource={dataUsers}\r\n        pagination={false}\r\n      />\r\n      <Pagination\r\n        current={pageIndex.currentPage}\r\n        total={pageIndex.count}\r\n        pageSize={10}\r\n        onChange={goPage}\r\n        className=\"pagination-listUser\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n// if (error) return `Error! ${error.message}`;\r\n// const submitSearch=()=>{\r\n//   useQuery(queryGetListUsers(currentPage,))\r\n// }\r\n\r\nexport default Danhsach;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Input, Button, Icon, Select, DatePicker, Modal } from \"antd\";\r\nimport moment from 'moment';\r\nimport { gql } from \"apollo-boost\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nconst { Option } = Select;\r\nfunction UpdateInforUser(props) {\r\n  const {\r\n    userId,\r\n    username,\r\n    fakeId,\r\n    type,\r\n    nickname,\r\n    coin,\r\n    email,\r\n    identifyCard,\r\n    address,\r\n    status,\r\n    gender,\r\n    dateOfBirth,\r\n    dateOfIssue,\r\n    placeOfIssue,\r\n    mobile\r\n  } = props.data;\r\n  const [userInfor, setUserInfor] = useState({\r\n    sdt: mobile,\r\n    name: nickname,\r\n    gender: gender,\r\n    dateBirth: dateOfBirth,\r\n    identifyCard: identifyCard,\r\n    dateOfIssue: dateOfIssue,\r\n    placeOfIssue: placeOfIssue\r\n  });\r\n  const getInforUser = e => {\r\n    setUserInfor({ ...userInfor, [e.target.name]: e.target.value });\r\n  };\r\n  const UpdateUser = gql`\r\n    mutation UpdateUserInfo($userId: String!, $req: UserInfoRequest!) {\r\n      updateUserInfo(userId: $userId, req: $req) {\r\n        nickname\r\n        gender\r\n        mobile\r\n        dateOfBirth\r\n      }\r\n    }\r\n  `;\r\n  const [updateUser] = useMutation(UpdateUser, {\r\n    variables: {\r\n      userId: props.userId,\r\n      req: {\r\n        nickname: userInfor.name,\r\n        gender: userInfor.gender,\r\n        mobile: userInfor.sdt,\r\n        dateOfBirth: userInfor.dateBirth,\r\n        identifyCard: userInfor.identifyCard,\r\n        placeOfIssue: userInfor.placeOfIssue,\r\n        dateOfIssue: userInfor.dateOfIssue\r\n      }\r\n    }\r\n  });\r\n  const dateFormat = 'DD/MM/YYYY';\r\n  function disabledDate(current) {\r\n    // Can not select days before today and today\r\n    return current && current < moment().endOf('day');\r\n  }\r\n  const getInforSelect = (val) => {\r\n    setUserInfor({ ...userInfor, gender: val })\r\n  }\r\n  const handleChangeDateOfIssue = (val) => {\r\n    setUserInfor({ ...userInfor, dateOfIssue: val })\r\n  }\r\n  const handleChangeDateBirth = (val) => {\r\n    setUserInfor({ ...userInfor, dateBirth: val })\r\n  }\r\n  const submitUpdate = () => {\r\n    let data = updateUser();\r\n    data.then(val =>\r\n      success()\r\n    )\r\n  };\r\n  const success = () => {\r\n    Modal.success({\r\n      content: 'Cp nht thnh cng !',\r\n      onOk() { props.switchEdit(false) }\r\n    });\r\n  }\r\n  return (\r\n    <Col md={16}>\r\n      <div className=\"info-detail\">\r\n        <Row className='info-detail-title'>\r\n          <h3>Account</h3>\r\n          <p>Email: <b>{email}</b></p>\r\n          <div className='mobile-status-detail'>\r\n            <p className='user-mobile'>Phone number:  <input\r\n              className='input-update'\r\n              placeholder=\"\"\r\n              value={userInfor.sdt}\r\n              name=\"sdt\"\r\n              onChange={getInforUser}\r\n            /></p>\r\n            <p>Type connection : <b>{props.statusSocial}</b></p>\r\n          </div>\r\n        </Row>\r\n        <Row className='info-detail-content'>\r\n          <h3>User Information</h3>\r\n          <div>\r\n            <p>Full name:  <input\r\n              className='input-update'\r\n              placeholder=\"\"\r\n              value={userInfor.name}\r\n              name=\"name\"\r\n              onChange={getInforUser}\r\n            /></p>\r\n            <p>Gender : <Select defaultValue={gender} onChange={getInforSelect} className='select-infor' showArrow={false}>\r\n              <Option value=\"MALE\">MALE</Option>\r\n              <Option value=\"FEMALE\">FEMALE</Option>\r\n              <Option value=\"OHTER\">OTHER</Option>\r\n            </Select></p>\r\n            <p>Birth : <DatePicker defaultValue={moment(userInfor.dateBirth, dateFormat)} format={dateFormat} className='datePicker-user' onChange={(date, dateString) => handleChangeDateBirth(dateString)} /></p>\r\n          </div>\r\n          <div className='input-update-identifyCard'>\r\n            <p>ID card: <input\r\n              className='input-update'\r\n              type='number'\r\n              placeholder=\"\"\r\n              value={userInfor.identifyCard}\r\n              name=\"identifyCard\"\r\n              onChange={getInforUser}\r\n            /></p>\r\n            <p>Date:\r\n            <DatePicker defaultValue={moment(userInfor.dateOfIssue, dateFormat)} format={dateFormat} className='datePicker-user' onChange={(date, dateString) => handleChangeDateOfIssue(dateString)} />\r\n            </p>\r\n            <p style={{ width: \"33%\" }}>Where: <input\r\n              className='input-update'\r\n              style={{ width: '100%' }}\r\n              placeholder=\"\"\r\n              value={userInfor.placeOfIssue}\r\n              name=\"name\"\r\n              onChange={getInforUser}\r\n            /></p>\r\n          </div>\r\n          <p>Address: <span className='detail-user'>{address}</span></p>\r\n        </Row>\r\n        <div className='btn-update-gr'><Button onClick={submitUpdate} type='link'>Update</Button>\r\n          <Button onClick={() => props.switchEdit(false)} type='link'>Back</Button></div>\r\n        {/* <Icon type=\"edit\" style={{ fontSize: '24px' }} theme=\"filled\" onClick={() => switchEdit(true)} className='edit-user' /> */}\r\n      </div>\r\n    </Col>\r\n    // <Row>\r\n    //   <Col md={16}>\r\n    //     <p>thng tin ti khon</p>\r\n    //     <p>Email: {email}</p>\r\n    //     <span>\r\n    //       s in thoi{\" \"}\r\n    //       <Input\r\n    //         placeholder=\"\"\r\n    //         value={userInfor.sdt}\r\n    //         name=\"sdt\"\r\n    //         onChange={getInforUser}\r\n    //       />\r\n    //     </span>\r\n\r\n    //     <p>Trang thai: {status}</p>\r\n    //     <p>Thng tin c nhn</p>\r\n    //     <span>\r\n    //       userName{\" \"}\r\n    //       <Input\r\n    //         placeholder=\"\"\r\n    //         value={userInfor.name}\r\n    //         name=\"name\"\r\n    //         onChange={getInforUser}\r\n    //       />\r\n    //     </span>\r\n\r\n    //     <span>\r\n    //       gender\r\n    //       <Input\r\n    //         placeholder=\"\"\r\n    //         value={userInfor.gender}\r\n    //         name=\"gender\"\r\n    //         onChange={getInforUser}\r\n    //       />\r\n    //     </span>\r\n    //     <span>\r\n    //       ngy sinh\r\n    //       <Input\r\n    //         placeholder=\"\"\r\n    //         value={userInfor.dateBirth}\r\n    //         name=\"dateBirth\"\r\n    //         onChange={getInforUser}\r\n    //       />\r\n    //     </span>\r\n    //     <p>cmnd: {identifyCard}</p>\r\n    //     <p>ngy cp:{dateOfIssue}</p>\r\n    //     <p>noi cap:{placeOfIssue}</p>\r\n    //     <Button onClick={submitUpdate}>Update</Button>\r\n    //     <Button onClick={() => props.switchEdit(false)}>Back</Button>\r\n    //   </Col>\r\n    // </Row>\r\n  );\r\n}\r\nexport default UpdateInforUser;\r\n","import React, { useState } from \"react\";\r\nimport { Table, Pagination } from \"antd\";\r\nimport { queryHistotyPayment } from \"../../../utils/queryUsers\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport moment from \"moment\";\r\nconst HistoryPayment = props => {\r\n  const [pageIndex, setPageIndex] = useState({ currentPage: 1, pageSize: 5 });\r\n  const [currentMenu, setCurrentMenu] = useState(\"historyCoin\");\r\n  const { loading, error, data } = useQuery(\r\n    queryHistotyPayment(pageIndex.currentPage, pageIndex.pageSize, props.userId),{\r\n      onCompleted:data=>console.log(data)\r\n    }\r\n  );\r\n  if (loading) return `loading...`;\r\n  if (error) return `Error! ${error.message}`;\r\n  const columns = [\r\n    {\r\n      title: \"Id\",\r\n      dataIndex: \"partnerChargeCode\",\r\n      key: \"partnerChargeCode\",\r\n    },\r\n    {\r\n      title: \"Character\",\r\n      dataIndex: \"payload\",\r\n      key: \"character\",\r\n      render: index => <span>{JSON.parse(index).gameUserName}</span>\r\n    },\r\n    {\r\n      title: \"Item\",\r\n      dataIndex: \"partnerProduct\",\r\n      key: \"item\",\r\n      render: index => <span>{index.partnerProductName}</span>\r\n    },\r\n    {\r\n      title: \"C.coin\",\r\n      dataIndex: \"payload\",\r\n      key: \"coin\",\r\n      render: index => <span>{JSON.parse(index).coin}</span>\r\n    },\r\n    {\r\n      title: \"Server\",\r\n      dataIndex: \"payload\",\r\n      key: \"server\",\r\n      render: index => <span>{JSON.parse(index).discount}</span>\r\n    },\r\n    {\r\n      title: \"Game\",\r\n      dataIndex: \"partner\",\r\n      key: \"game\",\r\n      render: index => <span>{index.partnerName}</span>\r\n    },\r\n    {\r\n      title: \"Promotion\",\r\n      dataIndex: \"payload\",\r\n      key: \"promotion\",\r\n      render: index => <span>{JSON.parse(index).discount}</span>\r\n    },\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"payload\",\r\n      key: \"createtime\",\r\n      render: index => <span>{JSON.parse(index).createAt}</span>\r\n    }\r\n  ];\r\n  const { currentPage, pageSize } = pageIndex;\r\n  const goPage = val => {\r\n    setPageIndex({ ...pageIndex, currentPage: val });\r\n  };\r\n  return (\r\n    <>\r\n      <Table\r\n        dataSource={data.listPartnerChargesByUser.rows}\r\n        columns={columns}\r\n        pagination={false}\r\n      />\r\n      <Pagination\r\n        current={currentPage}\r\n        total={data.listPartnerChargesByUser.count}\r\n        pageSize={pageSize}\r\n        onChange={goPage}\r\n        className=\"pagination-listUser\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HistoryPayment;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {Table, Pagination } from \"antd\";\r\nimport { queryHistotyLogin } from \"../../../utils/queryUsers\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport moment from \"moment\";\r\nconst HistoryLogin = props => {\r\n  const [pageIndex, setPageIndex] = useState({ currentPage: 1, pageSize: 5 });\r\n  const [currentMenu, setCurrentMenu] = useState(\"historyCoin\");\r\n  const { loading, error, data } = useQuery(\r\n    queryHistotyLogin(pageIndex.currentPage, pageIndex.pageSize, props.userId)\r\n  );\r\n  if (loading) return `loading...`;\r\n  if (error) return `Error! ${error.message}`;\r\n  const columns = [\r\n    {\r\n      title: \"Device\",\r\n      dataIndex: \"os\",\r\n      key: \"device\"\r\n    },\r\n    {\r\n      title: \"game\",\r\n      dataIndex: \"partner\",\r\n      key: \"game\",\r\n      render: index => <span>{index.partnerName}</span>\r\n    },\r\n    {\r\n      title: \"lastLogin\",\r\n      dataIndex: \"lastLogin\",\r\n      key: \"lastlogin\",\r\n      render: time => (\r\n        <span>{moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"gameId\",\r\n      dataIndex: \"gameId\",\r\n      key: \"gameId\"\r\n    }\r\n  ];\r\n  const { currentPage, pageSize } = pageIndex;\r\n  const goPage = val => {\r\n    setPageIndex({ ...pageIndex, currentPage: val });\r\n  };\r\n  return (\r\n    <>\r\n      <Table\r\n        dataSource={data.listLoginUsersByUser.rows}\r\n        key={record => record.partner.partnerId}\r\n        columns={columns}\r\n        pagination={false}\r\n      />\r\n      <Pagination\r\n        current={currentPage}\r\n        total={data.listLoginUsersByUser.count}\r\n        pageSize={pageSize}\r\n        onChange={goPage}\r\n        className=\"pagination-listUser\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HistoryLogin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Table, Pagination} from \"antd\";\r\nimport { queryHistotyChargesByUsers } from \"../../../utils/queryUsers\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport moment from \"moment\";\r\nimport HistoryPayment from \"./historyPayment\";\r\nimport HistoryLogin from \"./historyLogin\";\r\nimport { Tabs } from \"antd\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst HistoryCharges = props => {\r\n  const [pageIndex, setPageIndex] = useState({ currentPage: 1, pageSize: 5 });\r\n  const [currentMenu, setCurrentMenu] = useState(\"historyCoin\");\r\n  const { loading, error, data } = useQuery(\r\n    queryHistotyChargesByUsers(pageIndex.currentPage, pageIndex.pageSize, props.userId)\r\n  );\r\n  if (loading) return `loading...`;\r\n  if (error) return `Error! ${error.message}`;\r\n  const columns = [\r\n    {\r\n      title: \"Id\",\r\n      dataIndex: \"chargeId\",\r\n      key: \"chargeId\"\r\n    },\r\n    {\r\n      title: \"Method\",\r\n      dataIndex: \"paymentType\",\r\n      key: \"paymentType\"\r\n    },\r\n    {\r\n      title: \"Coin\",\r\n      dataIndex: \"baseCoin\",\r\n      key: \"coin\"\r\n    },\r\n    {\r\n      title: \"Vnd\",\r\n      dataIndex: \"price\",\r\n      key: \"vnd\",\r\n      render: price => <span>{price.toLocaleString()}</span>\r\n    },\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"createAt\",\r\n      key: \"time\",\r\n      render: time => (\r\n        <span>{moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\"\r\n    }\r\n  ];\r\n  const callback = key => {\r\n    console.log(key);\r\n  };\r\n  const { currentPage, pageSize } = pageIndex;\r\n  const goPage = val => {\r\n    setPageIndex({ ...pageIndex, currentPage: val });\r\n  };\r\n  return (\r\n    <>\r\n      <Tabs onChange={callback} type=\"card\">\r\n        <TabPane tab=\"History to top up C.coin\" key=\"1\">\r\n          <Table\r\n            dataSource={data.listChargesByUser.rows}\r\n            columns={columns}\r\n            pagination={false}\r\n          />\r\n          <Pagination\r\n            current={currentPage}\r\n            total={data.listChargesByUser.count}\r\n            pageSize={pageSize}\r\n            onChange={goPage}\r\n            className=\"pagination-listUser\"\r\n          />\r\n        </TabPane>\r\n        <TabPane tab=\"History to buy item\" key=\"2\">\r\n          <HistoryPayment userId={props.userId} />\r\n        </TabPane>\r\n        <TabPane tab=\"Activity\" key=\"3\">\r\n          <HistoryLogin userId={props.userId} />\r\n        </TabPane>\r\n        <TabPane tab=\"Feedback\" key=\"4\">\r\n          {/* <HistoryLogin userId={props.userId} /> */}\r\n        </TabPane>\r\n      </Tabs>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HistoryCharges;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Icon, Avatar } from \"antd\";\r\nimport { queryGetDataUserDetail } from \"../../utils/queryUsers\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport UpdateInforUser from \"./updateUser\";\r\nimport HistoryCharges from \"./historyCharges/historyCoin\";\r\nimport \"../../static/style/userDetail.css\";\r\nimport { importImage } from \"../../utils/importImg\";\r\nimport {Link} from 'react-router-dom'\r\nfunction Detail(props) {\r\n  const query = new URLSearchParams(props.location.search);\r\n  const [isUpdate, switchUpdate] = useState(false);\r\n  const { loading, error, data, refetch } = useQuery(\r\n    queryGetDataUserDetail(query)\r\n  );\r\n  if (loading) return \"Loading...\";\r\n  if (error) return `Error! ${error.message}`;\r\n  // console.log(data)\r\n  const {\r\n    userId,\r\n    username,\r\n    fakeId,\r\n    type,\r\n    nickname,\r\n    coin,\r\n    email,\r\n    identifyCard,\r\n    address,\r\n    status,\r\n    gender,\r\n    dateOfBirth,\r\n    dateOfIssue,\r\n    placeOfIssue,\r\n    mobile,\r\n    appleId,\r\n    facebook,\r\n    google,\r\n    guest\r\n  } = data.listUsers[0];\r\n  let statusSocial = \"\";\r\n  if (guest === 1) {\r\n    statusSocial = \"Guest Account\";\r\n  } else if (facebook !== null) {\r\n    statusSocial = \"Facebook Account\";\r\n  } else if (google !== null) {\r\n    statusSocial = \"Google Account\";\r\n  } else {\r\n    statusSocial = \"Clappigames Account\";\r\n  }\r\n  const switchEdit = val => {\r\n    switchUpdate(val);\r\n    refetch();\r\n  };\r\n  return (\r\n    <>\r\n      <Row className=\"container-userdetail\">\r\n        <Link to='/'>\r\n          <span>\r\n            <Icon type=\"arrow-left\" style={{paddingRight:'.2rem'}}/>\r\n            Back\r\n        </span>\r\n        </Link>\r\n        <h2>Profile user</h2>\r\n        <Col md={17}>\r\n          <Row>\r\n            <Row className='section1'>\r\n              <Col md={8} className=\"avatar-detail\">\r\n                <Avatar\r\n                  size={64}\r\n                  icon=\"user\"\r\n                  theme=\"filled\"\r\n                  style={{ marginBottom: \".5rem\" }}\r\n                />\r\n                {/* <img src={importImage['avatar-detail.png']}/> */}\r\n                <b>{username}</b>\r\n                <p>C.coin: {coin}</p>\r\n                <p>UserId: {userId}</p>\r\n              </Col>\r\n              {isUpdate ? (\r\n                <UpdateInforUser\r\n                  data={data.listUsers[0]}\r\n                  statusSocial={statusSocial}\r\n                  userId={query.get(\"userId\")}\r\n                  switchEdit={switchEdit}\r\n                />\r\n              ) : (\r\n                  <Col md={16}>\r\n                    <div className=\"info-detail\">\r\n                      <Row className='info-detail-title'>\r\n                        <h3>Account</h3>\r\n                        <p>Email: <b>{email}</b></p>\r\n                        <div className='mobile-status-detail'>\r\n                          <p>Phone number : <b>{mobile}</b></p>\r\n                          <p>Type connection : <b>{statusSocial}</b></p>\r\n                        </div>\r\n                      </Row>\r\n                      <Row className='info-detail-content'>\r\n                        <h3>User Information</h3>\r\n                        <div>\r\n                          <p>Full name: <span className='detail-user'>{nickname}</span></p>\r\n                          <p>Gender : <span className='detail-user'>{gender}</span></p>\r\n                          <p>Birth : <span className='detail-user'>{dateOfBirth}</span></p>\r\n                        </div>\r\n                        <div>\r\n                          <p>ID card: <span className='detail-user'>{identifyCard}</span></p>\r\n                          <p>Date: <span className='detail-user'>{dateOfIssue}</span></p>\r\n                          <p>Where: <span className='detail-user'>{placeOfIssue}</span></p>\r\n                        </div>\r\n                        <p>Address: <span className='detail-user'>{address}</span></p>\r\n                      </Row>\r\n                      <Icon type=\"edit\" style={{ fontSize: '24px' }} theme=\"filled\" onClick={() => switchEdit(true)} className='edit-user' />\r\n                    </div>\r\n                  </Col>\r\n                )}\r\n            </Row>\r\n            <Row>\r\n              <HistoryCharges userId={userId} />\r\n            </Row>\r\n          </Row>\r\n        </Col>\r\n        <Col md={7} className='user-status'>\r\n          <h3>Acitvity Status</h3>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n}\r\nexport default Detail;\r\n","import { gql } from \"apollo-boost\";\r\nconst queryGetNews = gql`\r\n  query listNewsByType($currentPage: Int!, $pageSize: Int!, $search: String) {\r\n    listNewsByType(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      search: $search\r\n    ) {\r\n      count\r\n      rows {\r\n        newsId\r\n        title\r\n        createAt\r\n        type\r\n        platform\r\n        status\r\n        partner {\r\n          partnerName\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst queryGetPlatform = () => {\r\n  return gql`\r\n    query {\r\n      listPartners {\r\n        partnerId\r\n        partnerName\r\n      }\r\n    }\r\n  `;\r\n};\r\nconst queryNewsDetail = newsId => {\r\n  return gql`\r\n    query {\r\n      listNews(newsId: ${newsId}) {\r\n        newsId\r\n        title\r\n        status\r\n        content\r\n        shortContent\r\n        image\r\n        createAt\r\n        type\r\n        platform\r\n        startPost\r\n      }\r\n    }\r\n  `;\r\n};\r\nconst UpdateNews = gql`\r\n  mutation UpdateNews($newsId: Int!, $req: NewsRequest!) {\r\n    updateNews(newsId: $newsId, req: $req) {\r\n      newsId\r\n      title\r\n      content\r\n      platform\r\n      type\r\n      shortContent\r\n      image\r\n      startPost\r\n    }\r\n  }\r\n`;\r\nconst createNews = gql`\r\n  mutation CreateNews($req: NewsRequest!) {\r\n    createNews(req: $req) {\r\n      title\r\n      content\r\n      type\r\n      platform\r\n      shortContent\r\n      image\r\n    }\r\n  }\r\n`;\r\nconst queryDeleteNews = gql`\r\n  mutation DeleteNews($ids: [Int]!) {\r\n    deleteNews(ids: $ids) {\r\n      title\r\n    }\r\n  }\r\n`;\r\nexport {\r\n  queryGetNews,\r\n  queryNewsDetail,\r\n  // queryUpdateNews,\r\n  queryGetPlatform,\r\n  UpdateNews,\r\n  createNews,\r\n  queryDeleteNews\r\n};\r\n// mutation {\r\n//   updateNews(\r\n//     newsId: 77\r\n//     req: {\r\n//       title: \"aaa\"\r\n//       type: NEWS\r\n//       content: \"<p>gnsjngsjgnsjgsgsngsgjs</p>\"\r\n//       status: COMPLETE\r\n//       platform: \"469D8A83-2F3D-48DF-927B-7F40B602FCA3\"\r\n//       unity: 0\r\n//     }\r\n//   ) {\r\n//     title\r\n//     platform\r\n//   }\r\n// }\r\n","import { gql } from \"apollo-boost\";\r\nconst UPLOAD_IMAGE = gql`\r\n  mutation($partnerName: String!, $file: Upload) {\r\n    singleUploadImage(partnerName: $partnerName, file: $file) {\r\n      id\r\n      status\r\n      name\r\n      path\r\n      url\r\n    }\r\n  }\r\n`;\r\nconst DELETE_IMAGE = gql`\r\n  mutation($ids: [Int]!) {\r\n    deleteUploadImages(ids: $ids) {\r\n      name\r\n    }\r\n  }\r\n`;\r\nconst DELETE_ALBUM = gql`\r\n  mutation($ids: [Int]!) {\r\n    deleteAdminAlbums(ids: $ids) {\r\n      name\r\n    }\r\n  }\r\n`;\r\nconst CREATE_ALBUM = gql`\r\n  mutation($req: AdminAlbumRequest!) {\r\n    createAdminAlbum(req: $req) {\r\n      data\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\nconst UPDATE_ALBUM = gql`\r\n  mutation($id: Int!, $req: AdminAlbumRequest!) {\r\n    updateAdminAlbum(id: $id, req: $req) {\r\n      data\r\n      name\r\n    }\r\n  }\r\n`;\r\nexport { UPLOAD_IMAGE, DELETE_IMAGE, DELETE_ALBUM, CREATE_ALBUM, UPDATE_ALBUM };\r\n","import React, { useState } from \"react\";\r\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\r\nimport { createUploadLink } from \"apollo-upload-client\";\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloProvider, Mutation } from \"react-apollo\";\r\nimport { UPLOAD_IMAGE } from \"../../../utils/mutation/media\";\r\nimport { connect } from \"react-redux\";\r\nimport { Upload, Icon, message, Button } from \"antd\";\r\nimport {\r\n  dispatchSetUrlImage,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../redux/actions\";\r\nconst { Dragger } = Upload;\r\n\r\nconst apolloCache = new InMemoryCache();\r\nfunction UploadImagesInNews(props) {\r\n  const [fileImage, setFileImage] = useState(null);\r\n  const [statusUploadBtn, setStatusUploadBtn] = useState(true);\r\n\r\n  const uploadLink = createUploadLink({\r\n    uri: \"https://api.cms.cubegame.vn/graphql\",\r\n    headers: {\r\n      Authorization: `Bearer ${props.token.accessToken}`\r\n    }\r\n  });\r\n  const client = new ApolloClient({\r\n    cache: apolloCache,\r\n    link: uploadLink\r\n  });\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Mutation mutation={UPLOAD_IMAGE}>\r\n        {(singleUploadStream, { data, loading, error }) => {\r\n          if (data && props.isThumbnail) {\r\n            dispatchSetUrlImageThumbnail(data.singleUploadImage.url);\r\n            props.refetch();\r\n          }else if (data && props.isThumbnail==false) {\r\n            dispatchSetUrlImage(data.singleUploadImage.url);\r\n            props.refetch()\r\n          }\r\n          return (\r\n            <>\r\n              <form\r\n                onSubmit={() => {\r\n                  console.log(\"Submitted\");\r\n                }}\r\n                encType={\"multipart/form-data\"}\r\n                name=\"Ti nh ln\"\r\n                style={{ paddingRight: \"2rem\" }}\r\n              >\r\n                <input\r\n                  style={{ display: \"none\" }}\r\n                  name={\"fileNews\"}\r\n                  id=\"fileNews\"\r\n                  type={\"file\"}\r\n                  onChange={async ({ target: { files } }) => {\r\n                    for (var value of files) {\r\n                      await singleUploadStream({\r\n                        variables: {\r\n                          partnerName: \"lqmt\",\r\n                          file: value\r\n                        }\r\n                      });\r\n                    }\r\n                    // alert(\"ti thnh cng\");\r\n                  }}\r\n                  multiple\r\n                />\r\n                <label for=\"fileNews\" style={{ cursor: \"pointer\" }}>\r\n                  Ti nh ln\r\n                </label>\r\n                {loading && <p>Loading.....</p>}\r\n              </form>\r\n            </>\r\n          );\r\n        }}\r\n      </Mutation>\r\n    </ApolloProvider>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogin: state.isLogin,\r\n    token: state.accessToken\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(UploadImagesInNews);\r\n","import { gql } from \"apollo-boost\";\r\nconst queryListImages = gql`\r\n  query {\r\n    listUploadedImages(status:\"AVAILABLE\") {\r\n      url\r\n      id\r\n      name\r\n      partnerName\r\n      status\r\n    }\r\n  }\r\n`;\r\nconst queryGetListAlbumByAdmin = (currentPage, pageSize, userAdmin) => {\r\n  return gql`\r\n    query {\r\n      listAdminAlbumsByUser(currentPage: ${currentPage}, pageSize: ${pageSize}, user: \"${userAdmin}\") {\r\n        count\r\n        rows {\r\n          id\r\n          user\r\n          name\r\n          status\r\n          data\r\n        }\r\n      }\r\n    }\r\n  `;\r\n};\r\nconst queryGetImagesFromAlbumByType = (id, userAdmin) => {\r\n  return gql`\r\n  query {\r\n    listAdminAlbums(id:${id},user:\"${userAdmin}\"){\r\n      name\r\n      data\r\n      user\r\n      status\r\n    }\r\n  }\r\n  `;\r\n};\r\nexport {\r\n  queryListImages,\r\n  queryGetListAlbumByAdmin,\r\n  queryGetImagesFromAlbumByType\r\n};\r\n","import React, { useState } from \"react\";\nimport { Upload, Checkbox, Row, Col, Card, Icon, Button } from \"antd\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport { queryGetListAlbumByAdmin } from \"../../../utils/queryMedia\";\nimport { DELETE_ALBUM, CREATE_ALBUM } from \"../../../utils/mutation/media\";\nimport \"../../../static/style/media.css\";\nimport { Link } from \"react-router-dom\";\nconst { Meta } = Card;\nconst AlbumImageInNews = (props) => {\n    const [pageIndex, setPageIndex] = useState({\n        currentPage: 1,\n        pageSize: 10,\n        userAdmin: localStorage.getItem(\"userNameCMS\"),\n        albumName: \"\"\n    });\n    const [selectedAlbumId, setSelectedAlbumId] = useState([]);\n    const [isCreateAlbum, setIsCreateAlbum] = useState(false);\n    const [albumId, setAlbumId] = useState('');\n    const { currentPage, pageSize, userAdmin, albumName } = pageIndex;\n    const { loading, error, data, refetch } = useQuery(\n        queryGetListAlbumByAdmin(currentPage, pageSize, userAdmin), {\n        onCompleted: data => console.log(data)\n    }\n    );\n    if (loading) return \"Loading...\";\n    if (error) return `Error! ${error.message}`;\n    const onChange = val => {\n        setSelectedAlbumId(val);\n    };\n    const printListAlbum = data.listAdminAlbumsByUser.rows.map(function (\n        val,\n        index\n    ) {\n        if (val.status !== \"INVISIBLE\" && val.id >= 15) {\n            return (\n                <Col span={6} style={{ marginBottom: \"1rem\" }}>\n                    <Card\n                        hoverable\n                        cover={\n                            <img alt={val.name} src={JSON.parse(JSON.parse(val.data).listImages[0]).url} />\n                        }\n                        key={index}\n                        onClick={() => props.setDetailAlbum({ isShow: false, albumId: val.id })}\n                    >\n                        <Meta\n                            title={val.name}\n                            description={`${JSON.parse(val.data).listImages.length} nh`}\n                        />\n                    </Card>\n                </Col>\n            );\n        }\n    });\n    return (\n        <Checkbox.Group\n            className='list-album-news'\n            onChange={onChange}\n        >\n            <Row gutter={16}>{printListAlbum}</Row>\n        </Checkbox.Group>\n    );\n};\n\nexport default AlbumImageInNews;\n","import React, { useState, useEffect } from \"react\";\nimport { Upload, Checkbox, Row, Col, Card, Icon, Button, Radio } from \"antd\";\nimport { useQuery, useMutation, useLazyQuery } from \"@apollo/react-hooks\";\nimport { queryGetImagesFromAlbumByType } from \"../../../utils/queryMedia\";\nimport {\n  dispatchShowImagesNews,\n  dispatchSetUrlImage,\n  dispatchSetUrlImageThumbnail\n} from \"../../../redux/actions\";\nimport \"../../../static/style/media.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction AlbumDetailImages(props) {\n  const userAdmin = localStorage.getItem(\"userNameCMS\");\n  const [pageIndex, setPageIndex] = useState({\n    currentPage: 1,\n    pageSize: 10,\n    userAdmin: localStorage.getItem(\"userNameCMS\"),\n    albumName: \"\"\n  });\n  const [selectedImage, setSelectedImage] = useState([]);\n  const [isCreateAlbum, setIsCreateAlbum] = useState(false);\n  const [imagesDetailAlbum, setImagesDetailAlbum] = useState([]);\n  const { albumName } = pageIndex;\n  const [dataImage, setDataImage] = useState([]);\n  const { data, loading, error } = useQuery(\n    queryGetImagesFromAlbumByType(props.albumId, userAdmin),\n    {\n      onCompleted: data => {\n        setImagesDetailAlbum(\n          JSON.parse(data.listAdminAlbums[0].data).listImages\n        );\n        console.log(data);\n      }\n    }\n  );\n  const getUrl = e => {\n    if (props.isThumbnail) {\n      dispatchSetUrlImageThumbnail(e.target.value)\n    } else {\n      dispatchSetUrlImage(e.target.value);\n    }\n  };\n  const printListImages = imagesDetailAlbum.map((val, index) => (\n    <Radio value={JSON.parse(val).url} key={index} className=\"list-images-news\">\n      <img src={JSON.parse(val).url} width=\"100%\" className=\"image-news\" />\n    </Radio>\n  ));\n  return (\n    <Checkbox.Group className='list-album-news'>\n      <Radio.Group buttonStyle=\"solid\" onChange={getUrl}>\n        {printListImages}\n      </Radio.Group>\n    </Checkbox.Group>\n  );\n}\nexport default AlbumDetailImages;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Upload,\n  Checkbox,\n  Row,\n  Col,\n  Card,\n  Icon,\n  Button,\n  Modal,\n  Input,\n  Radio,\n  Tabs\n} from \"antd\";\nimport UploadImagesInNews from \"./upload\";\nimport { useQuery, useMutation, useLazyQuery } from \"@apollo/react-hooks\";\nimport { queryListImages } from \"../../../utils/queryMedia\";\nimport { connect } from \"react-redux\";\nimport AlbumImageInNews from \"./albumImageNews\";\nimport AlbumDetailImages from \"./albumDetaiImages\";\nimport {\n  dispatchShowImagesNews,\n  dispatchSetUrlImage,\n  dispatchSetUrlImageThumbnail\n} from \"../../../redux/actions\";\nimport { DELETE_IMAGE, CREATE_ALBUM } from \"../../../utils/mutation/media\";\nimport \"../../../static/style/media.css\";\nimport { Link } from \"react-router-dom\";\nconst { TabPane } = Tabs;\n\nfunction ListImagesForNews(props) {\n  const [dataImage, setDataImage] = useState([]);\n  const [isDetailAlbum, setDetailAlbum] = useState({\n    isShow: true,\n    albumId: null\n  });\n  const { isShow, albumId } = isDetailAlbum;\n  const [getListImages] = useLazyQuery(queryListImages, {\n    fetchPolicy: \"cache-and-network\",\n    onCompleted: data => {\n      setDataImage(data.listUploadedImages);\n    }\n  });\n  useEffect(() => {\n    getListImages();\n  }, []);\n  const printListImages = dataImage.map(function(val, index) {\n    if (val.status !== \"INVISIBLE\") {\n      return (\n        <Radio value={val.url} key={index} className=\"list-images-news\">\n          {/* <Icon type=\"check-circle\" theme=\"filled\"style={{color:\"red\"}} className='icon-checked-images'/> */}\n          <img src={val.url} width=\"100%\" className=\"image-news\" />\n        </Radio>\n      );\n    }\n  });\n  const getUrl = e => {\n    if (props.isThumbnail) {\n      dispatchSetUrlImageThumbnail(e.target.value);\n    } else {\n      dispatchSetUrlImage(e.target.value);\n    }\n  };\n  const setIsAlbum = () => {\n    setDetailAlbum({ isShow: true, albumId: null });\n  };\n  const operations = (\n    <UploadImagesInNews\n      isThumbnail={props.isThumbnail}\n      refetch={getListImages}\n    />\n  );\n  return (\n    <>\n      <Modal\n        visible={props.visible}\n        className=\"listImages-news-modal\"\n        onOk={() => dispatchShowImagesNews(false)}\n        onCancel={() => dispatchShowImagesNews(false)}\n        footer={[\n          <span className={`isThumbnail-${props.isThumbnail}`}>\n            {\" \"}\n            URL:{\" \"}\n            <input\n              value={props.urlImgNews}\n              style={{ marginLeft: \"5px\", width: \"100%\" }}\n              disabled\n            />\n          </span>\n        ]}\n      >\n        <Tabs type=\"card\" tabBarExtraContent={operations}>\n          <TabPane tab=\"Tt c nh\" key=\"1\">\n            <Row className=\"listImages_news\">\n              <Radio.Group\n                buttonStyle=\"solid\"\n                onChange={getUrl}\n                value={\n                  props.isThumbnail ? props.urlImgThumbnail : props.urlImgNews\n                }\n              >\n                {printListImages}\n              </Radio.Group>\n            </Row>\n          </TabPane>\n          <TabPane\n            tab={\n              <span onClick={setIsAlbum}>\n                <Icon type=\"android\" />\n                Album\n              </span>\n            }\n            key=\"2\"\n          >\n            {isShow ? (\n              <AlbumImageInNews setDetailAlbum={setDetailAlbum} />\n            ) : (\n              <AlbumDetailImages\n                albumId={albumId}\n                isThumbnail={props.isThumbnail}\n              />\n            )}\n          </TabPane>\n        </Tabs>\n      </Modal>\n    </>\n  );\n}\nfunction mapStateToProps(state) {\n  return {\n    visible: state.visibleModalNews,\n    urlImgNews: state.urlImgNews,\n    urlImgThumbnail: state.urlImgThumbnail\n  };\n}\nexport default connect(mapStateToProps, null)(ListImagesForNews);\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  queryNewsDetail,\r\n  UpdateNews,\r\n  queryGetPlatform,\r\n  queryDeleteNews\r\n} from \"../../utils/queryNews\";\r\nimport { Row, Col } from \"antd\";\r\nimport JoditEditor from \"jodit-react\";\r\nimport \"jodit/build/jodit.min.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useMutation, useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport ListImagesForNews from \"./modalImageUrl/imgsUrl\";\r\nimport {\r\n  Input,\r\n  Select,\r\n  Button,\r\n  Radio,\r\n  DatePicker,\r\n  TimePicker,\r\n  Modal\r\n} from \"antd\";\r\nimport moment from \"moment\";\r\nimport SunEditor, { buttonList } from \"suneditor-react\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../redux/actions\";\r\nconst { Option } = Select;\r\nconst listType = {\r\n  type: [\"NEWS\", \"EVENT\", \"SLIDER\", \"NOTICE\", \"GUIDE\"],\r\n  status: [\r\n    { value: \"COMPLETE\", status: \"Public\" },\r\n    { value: \"INPUT\", status: \"Draff\" },\r\n  ]\r\n};\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"30px\",\r\n  lineHeight: \"30px\"\r\n};\r\nconst NewsEditor = props => {\r\n  const editor = useRef(null);\r\n  const query = new URLSearchParams(window.location.search);\r\n  const [isThumbnail, setIsThumbnail] = useState(false);\r\n  const [listPlatform, setListPlatform] = useState([]);\r\n  const [alertIndex, setAlertIndex] = useState({\r\n    isShow: false,\r\n    content: \"Updating successful post !\",\r\n    isDelete: false,\r\n    confirmBtn: \"Back\"\r\n  });\r\n  const [newContent, setNewContent] = useState(\"\");\r\n  const [isPostNow, setIsPostNow] = useState(true)\r\n  const [isSetSchedule, setIsSchedule] = useState(false)\r\n  const [newsIndex, setNewsIndex] = useState({\r\n    newsId: null,\r\n    title: \"\",\r\n    shortContent: \"\",\r\n    status: \"\",\r\n    content: \"\",\r\n    createAt: \"\",\r\n    type: \"\",\r\n    platform: \"\",\r\n    startPost: null\r\n  });\r\n  const [getNewsById] = useLazyQuery(queryNewsDetail(query.get(\"newsId\")), {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      console.log(data);\r\n      setNewsIndex(data.listNews[0]);\r\n      setNewContent(data.listNews[0].content);\r\n      dispatchSetUrlImageThumbnail(data.listNews[0].image);\r\n    }\r\n  });\r\n  useQuery(queryGetPlatform(), {\r\n    onCompleted: dataPartner => {\r\n      setListPlatform(dataPartner.listPartners);\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getNewsById();\r\n  }, [])\r\n  const {\r\n    title,\r\n    status,\r\n    type,\r\n    platform,\r\n    shortContent,\r\n    newsId,\r\n    startPost\r\n  } = newsIndex;\r\n  const [deleteNews] = useMutation(queryDeleteNews);\r\n  const [updateNews] = useMutation(UpdateNews, {\r\n    variables: {\r\n      newsId: Number(query.get(\"newsId\")),\r\n      req: {\r\n        title: title,\r\n        content: newContent,\r\n        shortContent: shortContent,\r\n        image: props.urlImgThumbnail,\r\n        platform: platform,\r\n        type: type,\r\n        status: status,\r\n        unity: 0,\r\n        startPost: startPost\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  // const disabledDate = current => {\r\n  //   return current && current < moment().endOf(\"day\");\r\n  // };\r\n\r\n  const handleChangeType = (e, val) => {\r\n    setNewsIndex({ ...newsIndex, [val.props.name]: e });\r\n  };\r\n  const submitUpdateNews = () => {\r\n    let data = updateNews();\r\n    data.then(val => setAlertIndex({ ...alertIndex, isShow: true }));\r\n  };\r\n  const showUrlImagesNews = val => {\r\n    setIsThumbnail(val);\r\n    dispatchShowImagesNews(true);\r\n  };\r\n  const handleCancel = () => {\r\n    setAlertIndex({\r\n      ...alertIndex,\r\n      isShow: false,\r\n      isDelete: false,\r\n      content: \"Updating successful post!\",\r\n      confirmBtn: \"Back\"\r\n    });\r\n  };\r\n  const submitUpdateAndDelete = () => {\r\n    if (alertIndex.isDelete) {\r\n      deleteNews({ variables: { ids: [newsId] } });\r\n    }\r\n  };\r\n  const showConfirm = val => {\r\n    setAlertIndex({\r\n      ...alertIndex,\r\n      isShow: true,\r\n      content: `Do you want to countinue ${val} this post?`,\r\n      confirmBtn: \"Ok !\",\r\n      isDelete: true\r\n    });\r\n  };\r\n  const handleChangeSchedule = (e) => {\r\n    setNewsIndex({ ...newsIndex, status: e.target.value })\r\n  }\r\n  const handleChangeDateSchedule = val => {\r\n    console.log(val)\r\n    setIsPostNow(false);\r\n    setNewsIndex({\r\n      ...newsIndex,\r\n      startPost: val\r\n    });\r\n  };\r\n  const setStartPostNow = () => {\r\n    // moment.unix(value).format(\"MM/DD/YYYY\")\r\n    const now = moment().format(\"YYYY-MM-DD hh:mm:ss\")\r\n    setIsSchedule(false);\r\n    setIsPostNow(true);\r\n    setNewsIndex({ ...newsIndex, startPost: now })\r\n  }\r\n  const printType = listType.type.map((val, index) => (\r\n    <Option value={val} name=\"type\" key={index}>\r\n      {val}\r\n    </Option>\r\n  ));\r\n  const printStatus = listType.status.map((val, index) => (\r\n    <Radio style={radioStyle} value={val.value} key={index}>\r\n      {val.status}\r\n    </Radio>\r\n  ));\r\n  const printPlatform = listPlatform.map((val, index) => (\r\n    <Option value={val.partnerId} name=\"platform\" key={index}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  // console.log(moment(Number(startPost)).format(\"YYYY-MM-DD hh:mm:ss\"))\r\n  console.log(startPost)\r\n  return (\r\n    <Row>\r\n      <Col sm={18} className=\"section1-news\">\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n          <h3>Update</h3>\r\n          <a onClick={()=>showConfirm(\"update\")}>Back</a>\r\n        </div>\r\n        <Input\r\n          placeholder=\"\"\r\n          value={title}\r\n          name=\"title\"\r\n          onChange={e => setNewsIndex({ ...newsIndex, title: e.target.value })}\r\n        />\r\n        <Input\r\n          placeholder=\"Subtitle...\"\r\n          value={shortContent}\r\n          name=\"title\"\r\n          onChange={e =>\r\n            setNewsIndex({ ...newsIndex, shortContent: e.target.value })\r\n          }\r\n        />\r\n\r\n        <JoditEditor\r\n          ref={editor}\r\n          value={newContent}\r\n          onBlur={newContent => setNewContent(newContent)} // preferred to use only this option to update the content for performance reasons\r\n        />\r\n        <Button onClick={() => showUrlImagesNews(false)}  style={{ marginTop: \".5rem\" }}>Get image link</Button>\r\n      </Col>\r\n      <Col sm={6} style={{ padding: \"0 1rem\" }}>\r\n        <div className=\"set-schedule-news\">\r\n          <h3>Public status</h3>\r\n          <Radio.Group onChange={handleChangeSchedule} value={status}>\r\n            {printStatus}\r\n          </Radio.Group>\r\n          <div className={status === 'COMPLETE' ? 'option-settimeline' : \"hide-options-settimeline\"}>\r\n            <p style={{ margin: \".5rem 0\" }}>\r\n              * Set timeline\r\n           </p>\r\n            <div style={{ display: \"flex\" }}>\r\n              <div style={{ width: \"100%\" }}>\r\n                <DatePicker\r\n                  showTime\r\n                  placeholder=\"Set timeline\"\r\n                  onChange={(time, timeString) => {\r\n                    handleChangeDateSchedule(timeString);\r\n                  }}\r\n                  style={{ width: \"99%\", marginRight: \"1%\" }}\r\n                  // disabledDate={disabledDate}\r\n                  format=\"YYYY-MM-DD HH:mm:ss\"\r\n                  allowClear={true}\r\n                  value={Number.isInteger(Number(startPost)) ? moment(moment(Number(startPost)).format(\"YYYY-MM-DD hh:mm:ss\"), \"YYYY-MM-DD hh:mm:ss\") : moment(startPost, \"YYYY-MM-DD hh:mm:ss\")}\r\n                  disabled={status === 'COMPLETE' ? false : true}\r\n                  open={isSetSchedule}\r\n                  dropdownClassName='setTimeline-news'\r\n                  renderExtraFooter={() => <Button size='small' onClick={setStartPostNow}>Post Now</Button>}\r\n                  onOk={() => setIsSchedule(false)}\r\n                  onFocus={() => setIsSchedule(true)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"set-platform-news\">\r\n          <h3>Platform</h3>\r\n          <Select\r\n            value={platform}\r\n            style={{ width: \"100%\" }}\r\n            onChange={(e, value) => handleChangeType(e, value)}\r\n          >\r\n            {printPlatform}\r\n          </Select>\r\n        </div>\r\n        <div className=\"set-type-news\">\r\n          <h3>Type</h3>\r\n          <Select\r\n            value={type}\r\n            style={{ width: \"100%\" }}\r\n            onChange={(e, value) => handleChangeType(e, value)}\r\n          >\r\n            {printType}\r\n          </Select>\r\n        </div>\r\n        <div className=\"set-thumbnail-news\">\r\n          <h3>Thumbnail image</h3>\r\n          <div style={{ width: \"70%\", margin: \"0 auto\" }}>\r\n            <img src={props.urlImgThumbnail} style={{ width: \"100%\" }} />\r\n          </div>\r\n          <a onClick={() => showUrlImagesNews(true)}>Change</a>\r\n        </div>\r\n        <div className=\"btn-submit\">\r\n          <p onClick={()=>showConfirm(\"delete\")} style={{ color: \"red\", cursor: \"pointer\" }}>\r\n            Delete news\r\n          </p>\r\n          <a onClick={submitUpdateNews}>Update</a>\r\n        </div>\r\n      </Col>\r\n      <ListImagesForNews isThumbnail={isThumbnail} />\r\n      <Modal\r\n        title='Confirm!'\r\n        visible={alertIndex.isShow}\r\n        okText={<Link to=\"/news\">{alertIndex.confirmBtn}</Link>}\r\n        onOk={submitUpdateAndDelete}\r\n        cancelText=\"Next\"\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{alertIndex.content}</p>\r\n      </Modal>\r\n    </Row>\r\n  );\r\n};\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(NewsEditor);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Button, Pagination, Input, Tooltip, Icon } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { useLazyQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { queryGetNews, queryDeleteNews } from \"../../utils/queryNews\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../static/style/news.css\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../redux/actions\";\r\nfunction ListNews() {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    search: \"\"\r\n  });\r\n  const [data, setData] = useState([]);\r\n  const [listNewsDelete, setItemsForDelete] = useState([]);\r\n  const [totalIndex, setTotalIndex] = useState({\r\n    totalActive: [],\r\n    totalInactive: []\r\n  });\r\n  const [getData] = useLazyQuery(queryGetNews, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      const totalActive = data.listNewsByType.rows.map(\r\n        (val, i) => val.status === \"COMPLETE\"\r\n      );\r\n      const totalInactive = data.listNewsByType.rows.map(\r\n        (val, i) => val.status !== \"COMPLETE\"\r\n      );\r\n      setData(data.listNewsByType);\r\n      setTotalIndex({ totalActive: totalActive, totalInactive: totalInactive });\r\n    }\r\n  });\r\n  const { currentPage, pageSize, search } = pageIndex;\r\n  const { totalActive, totalInactive } = totalIndex;\r\n  useEffect(() => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n    dispatchShowImagesNews(null);\r\n    dispatchSetUrlImageThumbnail(null);\r\n  }, []);\r\n  const [deleteNews] = useMutation(queryDeleteNews);\r\n  const submitDeleteNews = async () => {\r\n    await deleteNews({ variables: { ids: listNewsDelete } });\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      key: \"title\",\r\n      width: \"25%\",\r\n      render: (text, record) => (\r\n        <span>\r\n          <Link to={`news/edit?newsId=${record.newsId}`}>{text}</Link>\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"type\",\r\n      key: \"type\"\r\n    },\r\n    {\r\n      title: \"News ID\",\r\n      dataIndex: \"newsId\",\r\n      key: \"newsId\"\r\n    },\r\n    {\r\n      title: \"Platform\",\r\n      dataIndex: \"partner\",\r\n      key: \"platform\",\r\n      render: index => <span>{index.partnerName}</span>\r\n    },\r\n\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"createAt\",\r\n      key: \"time\",\r\n      render: time => (\r\n        <span>{moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\"\r\n    }\r\n  ];\r\n  const rowSelection = {\r\n    onChange: (selectRowsKeys, selectedRows) => {\r\n      const itemsIdForDelete = selectedRows.map((val, index) => val.newsId);\r\n      setItemsForDelete(itemsIdForDelete);\r\n    }\r\n  };\r\n  const handleSetSearchValue = e => {\r\n    setPageIndex({ ...pageIndex, search: e.target.value });\r\n  };\r\n  const submitSearch = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const goPage = pageNumber => {\r\n    setPageIndex({ ...pageIndex, currentPage: pageNumber });\r\n    getData({\r\n      variables: {\r\n        currentPage: pageNumber,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const resetImage = () => {\r\n    dispatchSetUrlImageThumbnail(null);\r\n    dispatchShowImagesNews(null);\r\n  };\r\n  const resetSearch = () => {\r\n    setPageIndex({ currentPage: 1, pageSize: 10, search: \"\" });\r\n    getData({\r\n      variables: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        search: \"\"\r\n      }\r\n    });\r\n  };\r\n  const totalActiveNews = [];\r\n  if (data.length > 0) {\r\n    totalActiveNews = data.rows.map((val, i) => val.status === \"COMPLETE\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>News</h2>\r\n      <div style={{ marginBottom: 16 }} className=\"news-header\">\r\n        <div>\r\n          <span>\r\n            All {`(${data.count})`}\r\n            {/* || Active {`(${totalActive.length})`}|| Inactive {`(${totalInactive.length})`}*/}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          <Input\r\n            onChange={handleSetSearchValue}\r\n            style={{ width: \"30%\" }}\r\n            value={search}\r\n            suffix={\r\n              <Tooltip\r\n                title=\"reset\"\r\n                className={search !== \"\" ? \"reset-btn-show\" : \"reset-btn-hide\"}\r\n              >\r\n                <Icon\r\n                  type=\"close\"\r\n                  style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                  onClick={resetSearch}\r\n                />\r\n              </Tooltip>\r\n            }\r\n          />\r\n          <Button\r\n            onClick={submitSearch}\r\n            onPressEnter={submitSearch}\r\n            style={{ margin: \"0 .35rem\" }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            disabled={listNewsDelete.length > 0 ? false : true}\r\n            onClick={submitDeleteNews}\r\n            style={{ marginRight: \".5rem\" }}\r\n          >\r\n            Delete\r\n          </Button>\r\n          <Button type=\"primary\">\r\n            <Link to=\"/news/addnews\" onClick={resetImage}>\r\n              Addnew\r\n            </Link>\r\n          </Button>\r\n          {/* <span style={{ marginLeft: 8 }}>\r\n          {hasSelected ? `Selected ${selectedRows.length} items` : \"\"}\r\n        </span> */}\r\n        </div>\r\n      </div>\r\n      <Table\r\n        rowSelection={rowSelection}\r\n        columns={columns}\r\n        dataSource={data.rows}\r\n        pagination={false}\r\n      />\r\n      <Pagination\r\n        current={pageIndex.currentPage}\r\n        total={data.count}\r\n        pageSize={10}\r\n        onChange={goPage}\r\n        className=\"pagination-listUser\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListNews;\r\n","import React, { useState, useRef } from \"react\";\r\nimport {\r\n  createNews,\r\n  UpdateNews,\r\n  queryGetPlatform\r\n} from \"../../utils/queryNews\";\r\nimport ListImagesForNews from \"./modalImageUrl/imgsUrl\";\r\nimport { connect } from \"react-redux\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport {\r\n  Input,\r\n  Select,\r\n  Button,\r\n  Radio,\r\n  DatePicker,\r\n  TimePicker,\r\n  Col,\r\n  Row,\r\n  Modal,\r\n  Icon\r\n} from \"antd\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../redux/actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"suneditor/dist/css/suneditor.min.css\"; // Import Sun Editor's CSS File\r\nimport JoditEditor from \"jodit-react\";\r\nimport \"jodit/build/jodit.min.css\";\r\nimport moment from \"moment\";\r\nimport { alertError } from './newsAlert'\r\n// import ListNews from \".\";\r\nconst { Option } = Select;\r\nconst listType = {\r\n  type: [\"NEWS\", \"EVENT\", \"SLIDER\", \"NOTICE\", \"GUIDE\"],\r\n  status: [\r\n    { value: \"COMPLETE\", status: \"Public\" },\r\n    { value: \"INPUT\", status: \"Draff\" },\r\n    // { value: \"SCHEDULE\", status: \"Set timeline to public\" }\r\n  ]\r\n};\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"30px\",\r\n  lineHeight: \"30px\"\r\n};\r\nconst AddNews = props => {\r\n  // const editor = useRef(null);\r\n  const [isThumbnail, setIsThumbnail] = useState(false);\r\n  const [listPlatform, setListPlatform] = useState([]);\r\n  const [newContent, setNewContent] = useState(\"\");\r\n  const [isSetSchedule, setIsSchedule] = useState(false);\r\n  const [isPostNow, setIsPostNow] = useState(true)\r\n  const [newsIndex, setNewsIndex] = useState({\r\n    title: \"\",\r\n    subTitle: \"\",\r\n    type: \"NEWS\",\r\n    status: \"INPUT\",\r\n    platform: \"5A6DC0B0-B02B-40FB-BA2C-3C42EC442B89\",\r\n    startPost: moment().format('YYYY-MM-DD HH:mm:ss')\r\n  });\r\n  const [alertIndex, setAlertIndex] = useState({\r\n    isShow: false,\r\n    content: \"Updating successful post !\",\r\n    isDelete: false,\r\n    confirmBtn: \"Back\"\r\n  });\r\n  useQuery(queryGetPlatform(), {\r\n    onCompleted: dataPartner => {\r\n      setListPlatform(dataPartner.listPartners);\r\n    }\r\n  });\r\n  const { title, status, type, platform, subTitle, startPost } = newsIndex;\r\n  const [updateNews] = useMutation(createNews, {\r\n    variables: {\r\n      req: {\r\n        title: title,\r\n        shortContent: subTitle,\r\n        content: newContent,\r\n        platform: platform,\r\n        type: type,\r\n        status: status,\r\n        image: props.urlImgThumbnail,\r\n        unity: 0,\r\n        startPost: startPost\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const disabledDate = current => {\r\n    return current && current < moment().endOf(\"day\");\r\n  };\r\n  const handleChangeType = (e, val) => {\r\n    setNewsIndex({ ...newsIndex, [val.props.name]: e });\r\n    console.log(newsIndex);\r\n  };\r\n  const submitUpdateNews = () => {\r\n    if (title !== \"\" && newContent !== \"\" && subTitle !== \"\" && status !== \"\") {\r\n      let data = updateNews();\r\n      data.then(val => {\r\n        setAlertIndex({ ...alertIndex, isShow: true, content: \"Create new post successful!\" })\r\n        setNewsIndex({\r\n          ...newsIndex,\r\n          title: \"\",\r\n          subTitle: \"\",\r\n          type: \"NEWS\",\r\n          status: \"INPUT\",\r\n          platform: \"5A6DC0B0-B02B-40FB-BA2C-3C42EC442B89\"\r\n        });\r\n        setNewContent(\"\");\r\n        dispatchSetUrlImageThumbnail(null);\r\n      });\r\n    } else {\r\n      alertError();\r\n    }\r\n  };\r\n  const showUrlImagesNews = val => {\r\n    setIsThumbnail(val);\r\n    dispatchShowImagesNews(true);\r\n  };\r\n  const handleCancel = () => {\r\n    setAlertIndex({ ...alertIndex, isShow: false })\r\n  };\r\n  const handleChangeSchedule = (e) => {\r\n    setNewsIndex({ ...newsIndex, status: e.target.value, startPost: moment().format('YYYY-MM-DD hh:mm:ss') })\r\n  }\r\n  const handleChangeDateSchedule = val => {\r\n    setIsPostNow(false);\r\n    setNewsIndex({\r\n      ...newsIndex,\r\n      startPost: val\r\n    });\r\n  };\r\n  const setStartPostNow = () => {\r\n    // moment.unix(value).format(\"MM/DD/YYYY\")\r\n    const now = moment().format(\"YYYY-MM-DD hh:mm:ss\")\r\n    setIsSchedule(false);\r\n    setIsPostNow(true);\r\n    setNewsIndex({ ...newsIndex, startPost: now })\r\n  }\r\n  const backToNews = () => {\r\n    setAlertIndex({ ...alertIndex, isShow: true, content: \"Do you want to countinue creating a new post?\" })\r\n  }\r\n  const printType = listType.type.map((val, index) => (\r\n    <Option value={val} name=\"type\" key={index}>\r\n      {val}\r\n    </Option>\r\n  ));\r\n  const printStatus = listType.status.map((val, index) => (\r\n    <Radio style={radioStyle} value={val.value} key={index}>\r\n      {val.status}\r\n    </Radio>\r\n  ));\r\n  const printPlatform = listPlatform.map((val, index) => (\r\n    <Option value={val.partnerId} name=\"platform\" key={index}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <Row>\r\n      <Col sm={18} className=\"section1-news\">\r\n        <h3>\r\n            <Icon\r\n              type=\"close\"\r\n              style={{ color: \"rgba(0,0,0,.45)\", paddingRight: \".5rem\" }}\r\n              onClick={backToNews}\r\n            />\r\n          Add News\r\n        </h3>\r\n        <Input\r\n          placeholder=\"Title...\"\r\n          value={title}\r\n          name=\"title\"\r\n          onChange={e => setNewsIndex({ ...newsIndex, title: e.target.value })}\r\n        />\r\n        <Input\r\n          placeholder=\"Subtitle...\"\r\n          value={subTitle}\r\n          name=\"subTitle\"\r\n          onChange={e =>\r\n            setNewsIndex({ ...newsIndex, subTitle: e.target.value })\r\n          }\r\n        />\r\n        <JoditEditor\r\n          // ref={editor}\r\n          value={newContent}\r\n          // config={config}\r\n          // tabIndex={1} // tabIndex of textarea\r\n          // onBlur={newContent => setNewsIndex({ ...newsIndex, content: newContent })} // preferred to use only this option to update the content for performance reasons\r\n          onBlur={newContent => setNewContent(newContent)}\r\n        />\r\n        <Button\r\n          onClick={() => showUrlImagesNews(false)}\r\n          style={{ marginTop: \".5rem\" }}\r\n        >\r\n          Get image link\r\n        </Button>\r\n      </Col>\r\n      <Col sm={6} style={{ padding: \"0 1rem\" }}>\r\n        <div className=\"set-schedule-news\">\r\n          <h3>Public status</h3>\r\n          <Radio.Group onChange={handleChangeSchedule}>\r\n            {printStatus}\r\n          </Radio.Group>\r\n          <div className={status === 'COMPLETE' ? 'option-settimeline' : \"hide-options-settimeline\"}>\r\n            <p style={{ margin: \".5rem 0\" }}>\r\n              * Set timeline\r\n           </p>\r\n            <div style={{ display: \"flex\" }}>\r\n              <div style={{ width: \"100%\" }}>\r\n                {/* <p>Date</p> */}\r\n                <DatePicker\r\n                  showTime={{ format: 'HH:mm:ss' }}\r\n                  placeholder=\"Set timeline\"\r\n                  onChange={(time, timeString) => {\r\n                    handleChangeDateSchedule(timeString);\r\n                  }}\r\n                  style={{ width: \"99%\", marginRight: \"1%\" }}\r\n                  disabledDate={disabledDate}\r\n                  format=\"YYYY-MM-DD HH:mm:ss\"\r\n                  allowClear={false}\r\n                  defaultValue={moment(startPost, \"YYYY-MM-DD HH:mm:ss\")}\r\n                  disabled={status === 'COMPLETE' ? false : true}\r\n                  open={isSetSchedule}\r\n                  dropdownClassName='setTimeline-news'\r\n                  renderExtraFooter={() => <Button size='small' onClick={setStartPostNow}>Post Now</Button>}\r\n                  onOk={() =>setIsSchedule(false)}\r\n                  onFocus={() => setIsSchedule(true)}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"set-platform-news\">\r\n          <h3>Platform</h3>\r\n          <Select\r\n            value={platform}\r\n            style={{ width: \"100%\" }}\r\n            onChange={(e, value) => handleChangeType(e, value)}\r\n          >\r\n            {printPlatform}\r\n          </Select>\r\n        </div>\r\n        <div className=\"set-type-news\">\r\n          <h3>Type</h3>\r\n          <Select\r\n            value={type}\r\n            style={{ width: \"100%\" }}\r\n            onChange={(e, value) => handleChangeType(e, value)}\r\n          >\r\n            {printType}\r\n          </Select>\r\n        </div>\r\n        <div className=\"set-thumbnail-news\">\r\n          <h3>Thumbnail image</h3>\r\n          <div style={{ width: \"70%\", margin: \"0 auto\" }}>\r\n            <img src={props.urlImgThumbnail} style={{ width: \"100%\" }} />\r\n          </div>\r\n          <a onClick={() => showUrlImagesNews(true)}>Select</a>\r\n        </div>\r\n        <Button onClick={submitUpdateNews}>Submit</Button>\r\n      </Col>\r\n      <ListImagesForNews isThumbnail={isThumbnail} />\r\n      <Modal\r\n        title=\"Confirm !\"\r\n        visible={alertIndex.isShow}\r\n        okText={<Link to=\"/news\">Back</Link>}\r\n        cancelText=\"Next\"\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{alertIndex.content}</p>\r\n      </Modal>\r\n    </Row>\r\n  );\r\n};\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(AddNews);\r\n","import { Modal } from 'antd'\r\n\r\n\r\nfunction alertError() {\r\n    Modal.error({\r\n        title: 'Something went wrong!',\r\n        content: 'Check again post title, subtile, status and post content !',\r\n    });\r\n}\r\n\r\nexport {alertError};","import React, { useState } from \"react\";\r\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\r\nimport { createUploadLink } from \"apollo-upload-client\";\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloProvider, Mutation } from \"react-apollo\";\r\nimport { UPLOAD_IMAGE } from \"../../utils/mutation/media\";\r\nimport { connect } from \"react-redux\";\r\nimport { Upload, Icon, message, Button, Col, Modal } from \"antd\";\r\n\r\nconst { Dragger } = Upload;\r\n\r\nconst apolloCache = new InMemoryCache();\r\nfunction UploadImages(props) {\r\n  const [fileList, setFileImage] = useState([]);\r\n  const [statusUploadBtn, setStatusUploadBtn] = useState(true);\r\n  const [statusUploadList, setStatusUploadList] = useState(false);\r\n  const uploadLink = createUploadLink({\r\n    uri: \"https://api.cms.cubegame.vn/graphql\",\r\n    headers: {\r\n      Authorization: `Bearer ${props.token.accessToken}`\r\n    }\r\n  });\r\n  const client = new ApolloClient({\r\n    cache: apolloCache,\r\n    link: uploadLink\r\n  });\r\n  const configDrag = {\r\n    name: \"file\",\r\n    accept: \".png, .jpg, .gif\",\r\n    multiple: true,\r\n    showUploadList: { showDownloadIcon: false },\r\n    action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\r\n    onRemove(file) {\r\n      const index = fileList.indexOf(file);\r\n      const newFileList = fileList.slice();\r\n      newFileList.splice(index, 1);\r\n      setFileImage(newFileList);\r\n    },\r\n    beforeUpload: (file, fileList) => {\r\n      setFileImage(fileList);\r\n    },\r\n    fileList\r\n  };\r\n  const cancelUpload = () => {\r\n    setFileImage([]);\r\n  };\r\n  const success = () => {\r\n    Modal.success({\r\n      content: \"Upload successful...!\"\r\n    });\r\n    setFileImage([]);\r\n  };\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Mutation mutation={UPLOAD_IMAGE}>\r\n        {(singleUploadStream, { data, loading, error }) => {\r\n          console.log(data, loading, error);\r\n          return (\r\n            <Col md={8} className=\"section-upload\">\r\n              <Dragger {...configDrag}>\r\n                <p className=\"ant-upload-drag-icon\">\r\n                  <Icon type=\"file-add\" />\r\n                </p>\r\n                <p className=\"ant-upload-text\">\r\n                  Click or drag file to this area to upload\r\n                </p>\r\n              </Dragger>\r\n              <div className=\"btn-load-images\">\r\n                <Button style={{ marginRight: \"10px\" }} onClick={cancelUpload}>\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={async () => {\r\n                    for (var key of fileList) {\r\n                      await singleUploadStream({\r\n                        variables: {\r\n                          partnerName: \"lqmt\",\r\n                          file: key\r\n                        }\r\n                      });\r\n                    }\r\n                    props.refetch();\r\n                    success();\r\n                  }}\r\n                  disabled={fileList.length === 0 ? true : false}\r\n                >\r\n                  Load media\r\n                </Button>\r\n              </div>\r\n              {loading && <p>Loading.....</p>}\r\n            </Col>\r\n          );\r\n        }}\r\n      </Mutation>\r\n    </ApolloProvider>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogin: state.isLogin,\r\n    token: state.accessToken\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(UploadImages);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Upload, Checkbox, Row, Col, Card, Icon, Button } from \"antd\";\r\nimport UploadImages from \"./upload\";\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\";\r\nimport \"react-image-picker/dist/index.css\";\r\nimport { useQuery, useMutation, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { queryListImages } from \"../../utils/queryMedia\";\r\nimport { DELETE_IMAGE, CREATE_ALBUM } from \"../../utils/mutation/media\";\r\nimport \"../../static/style/media.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst gridStyle = {\r\n  width: \"24%\",\r\n  textAlign: \"center\",\r\n  padding: \"2px\",\r\n  margin: \".5%\",\r\n  position: \"relative\",\r\n  height:\"100px\"\r\n};\r\nfunction Media() {\r\n  const [selectedImage, setSelectedImage] = useState([]);\r\n  const [dataImage, setDataImage] = useState([\r\n    { url: \"\", status: \"\", id: \"\", name: \"\", partnerName: \"\" }\r\n  ]);\r\n  const [deleteImages] = useMutation(DELETE_IMAGE, {\r\n    variables: {\r\n      ids: selectedImage.map((val, i) => val.id)\r\n    }\r\n  });\r\n  const [isOpenImage, setIsOpenImage] = useState(false);\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n  const [getListImages] = useLazyQuery(queryListImages, {\r\n    fetchPolicy:\"cache-and-network\",\r\n    onCompleted: data => {\r\n      setDataImage(data.listUploadedImages);\r\n    }\r\n  });\r\n  useEffect(() => { getListImages() }, [])\r\n  const onChange = val => {\r\n    console.log(val)\r\n    const newVal = val.map((val, i) => JSON.parse(val))\r\n    setSelectedImage(newVal);\r\n  };\r\n  const submitDelete = async () => {\r\n    await deleteImages();\r\n    await getListImages();\r\n    setSelectedImage([]);\r\n  };\r\n  const showImage = val => {\r\n    setPhotoIndex(val);\r\n    setIsOpenImage(true)\r\n  }\r\n  const printListImages = dataImage.map(function (val, index) {\r\n    return (\r\n      <Card.Grid\r\n        style={gridStyle}\r\n        key={index}\r\n        className=\"checkbox-image-container\"\r\n      >\r\n        <Checkbox value={`{\"id\":${val.id},\"url\":\"${val.url}\"}`} className=\"checkbox-image\">\r\n        </Checkbox>\r\n        <div style={{ height: \"100%\",cursor:\"pointer\" }} onClick={() => showImage(index)}>\r\n          <img src={val.url} alt={val.name} style={{maxHeight:\"100%\",maxWidth:\"100%\"}} />\r\n        </div>\r\n      </Card.Grid>\r\n    );\r\n  });\r\n  return (\r\n    <Row>\r\n      <Link to=\"/media\">\r\n        <h2>Media</h2>\r\n      </Link>\r\n      <Col md={16} className=\"container-images\">\r\n        {selectedImage.length > 0 ? (\r\n          <div className=\"btn-media-options\">\r\n            <span>\r\n              <Icon type=\"close\" style={{ marginRight: \"5px\" }} onClick={() => setSelectedImage([])} />\r\n              <span>{selectedImage.length}</span> items is chosen\r\n            </span>\r\n            <div>\r\n              <Icon\r\n                type=\"delete\"\r\n                style={{ fontSize: \"18px\", margin: \"0 5px\" }}\r\n                onClick={submitDelete}\r\n              />\r\n              {/* <Icon type=\"download\" style={{ fontSize: \"18px\" }} /> */}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n            <div className=\"menu-images\">\r\n              <Link to=\"/media\" style={{ marginRight: \"3rem\" }}>\r\n                <h3>Images</h3>\r\n              </Link>\r\n              <Link to=\"/media/album\">\r\n                <h3>Album</h3>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        <Checkbox.Group\r\n          style={{ width: \"100%\" }}\r\n          className=\"list-media\"\r\n          onChange={onChange}\r\n          value={selectedImage.map((val, i) => JSON.stringify(val))}\r\n        >\r\n          <Col>{printListImages}</Col>\r\n        </Checkbox.Group>\r\n        {isOpenImage && (\r\n          <Lightbox\r\n            mainSrc={dataImage[photoIndex].url}\r\n            nextSrc={dataImage[(photoIndex + 1) % dataImage.length].url}\r\n            prevSrc={\r\n              dataImage[\r\n                (photoIndex + dataImage.length - 1) % dataImage.length\r\n              ].url\r\n            }\r\n            onCloseRequest={() => setIsOpenImage(false)}\r\n            onMovePrevRequest={() =>\r\n              setPhotoIndex(\r\n                (photoIndex + dataImage.length - 1) % dataImage.length\r\n              )\r\n            }\r\n            onMoveNextRequest={() =>\r\n              setPhotoIndex((photoIndex + 1) % dataImage.length)\r\n            }\r\n          />\r\n        )}\r\n      </Col>\r\n      <UploadImages refetch={getListImages} />\r\n    </Row>\r\n  );\r\n}\r\nexport default Media;\r\n","import { Modal } from \"antd\";\r\n\r\nfunction errorAlert() {\r\n  Modal.error({\r\n    content: \"Check again your album name !\"\r\n  });\r\n}\r\nfunction successAlert(value) {\r\n  Modal.success({\r\n    content: `Your album is ${value} !`\r\n  });\r\n}\r\nexport { errorAlert, successAlert };\r\n","import React, { useState } from \"react\";\r\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\r\nimport { createUploadLink } from \"apollo-upload-client\";\r\nimport { ApolloClient } from \"apollo-client\";\r\nimport { ApolloProvider, Mutation } from \"react-apollo\";\r\nimport { UPLOAD_IMAGE } from \"../../../utils/mutation/media\";\r\nimport { connect } from \"react-redux\";\r\nimport { Upload, Icon, message, Button } from \"antd\";\r\nimport {errorAlert} from '../mediaService'\r\n\r\nconst { Dragger } = Upload;\r\n\r\nconst apolloCache = new InMemoryCache();\r\nfunction CreateAlbumFromComp(props) {\r\n  const [fileList, setFileImage] = useState([]);\r\n  const [statusUploadBtn, setStatusUploadBtn] = useState(true);\r\n  const [imagesForAlbum, setImagesForAlbum] = useState([]);\r\n  const uploadLink = createUploadLink({\r\n    uri: \"https://api.cms.cubegame.vn/graphql\",\r\n    headers: {\r\n      Authorization: `Bearer ${props.token.accessToken}`\r\n    }\r\n  });\r\n  const client = new ApolloClient({\r\n    cache: apolloCache,\r\n    link: uploadLink\r\n  });\r\n  const configDrag = {\r\n    name: \"file\",\r\n    accept: \".png, .jpg, .gif\",\r\n    multiple: true,\r\n    showUploadList: { showDownloadIcon: false },\r\n    action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\r\n    onRemove(file) {\r\n      const index = fileList.indexOf(file);\r\n      const newFileList = fileList.slice();\r\n      newFileList.splice(index, 1);\r\n      setFileImage(newFileList);\r\n    },\r\n    beforeUpload: (file, fileList) => {\r\n      setFileImage(fileList);\r\n    },\r\n    fileList\r\n  };\r\n  const getImagesForAlbum = async data => {\r\n     delete data.singleUploadImage['path'];\r\n     delete data.singleUploadImage['__typename'];\r\n     delete data.singleUploadImage['name'];\r\n    props.setImagesForAlbum([\r\n      ...props.imagesForAlbum,\r\n      JSON.stringify(data.singleUploadImage)\r\n    ]);\r\n    console.log(JSON.stringify(data.singleUploadImage))\r\n  };\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Mutation\r\n        mutation={UPLOAD_IMAGE}\r\n        update={(cache, { data }) => {\r\n          getImagesForAlbum(data);\r\n        }}\r\n      >\r\n        {(singleUploadStream, { data, loading, error, called }) => {\r\n          return (\r\n            <>\r\n              <Dragger {...configDrag}>\r\n                <p className=\"ant-upload-drag-icon\">\r\n                  <Icon type=\"file-add\" />\r\n                </p>\r\n                <p className=\"ant-upload-text\">\r\n                  Click or drag file to this area to upload\r\n                </p>\r\n              </Dragger>\r\n\r\n              <Button\r\n                onClick={async () => {\r\n                  if (props.albumName === \"\") {\r\n                    errorAlert();\r\n                  } else {\r\n                    for (var key of fileList) {\r\n                      await singleUploadStream({\r\n                        variables: {\r\n                          partnerName: \"lqmt\",\r\n                          file: key\r\n                        }\r\n                      });\r\n                    }\r\n                    await props.submitCreateAndUpdateAlbum();\r\n                    props.setPickDataImages();\r\n                    props.removeAlbumName();\r\n                    props.refetch();\r\n                  }\r\n                }}\r\n                disabled={fileList.length === 0 ? true : false}\r\n                style={{ margin: \"1rem 0\" }}\r\n              >\r\n                Submit\r\n              </Button>\r\n              <a onClick={props.setPickDataImages}>\r\n                <Icon type=\"double-left\" />\r\n                Quay li\r\n              </a>\r\n              {loading && <p>Loading.....</p>}\r\n            </>\r\n          );\r\n        }}\r\n      </Mutation>\r\n    </ApolloProvider>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogin: state.isLogin,\r\n    token: state.accessToken\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(CreateAlbumFromComp);\r\n","import React, { useState } from \"react\";\r\nimport { Upload, Checkbox, Row, Col, Card, Icon, Button, Modal } from \"antd\";\r\nimport UploadImages from \"../upload\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { queryListImages } from \"../../../utils/queryMedia\";\r\nimport {errorAlert} from '../mediaService'\r\n\r\nconst gridStyle = {\r\n  width: \"24%\",\r\n  textAlign: \"center\",\r\n  padding: \"2px\",\r\n  margin: \".5%\",\r\n  position: \"relative\"\r\n};\r\n\r\nfunction CreateAlbumFromLibary(props) {\r\n  const { imagesForAlbum } = props;\r\n  const [dataImage, setDataImage] = useState([]);\r\n  const [visible, setVisible] = useState(false);\r\n  const { loading, error, data, refetch } = useQuery(queryListImages, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      let newListImage = data.listUploadedImages.filter(\r\n        (val, i) => val.status !== \"INVISIBLE\"\r\n      );\r\n      setDataImage(newListImage);\r\n    }\r\n  });\r\n  if (loading) return \"Loading...\";\r\n  if (error) return `Error! ${error.message}`;\r\n  const handleOk = e => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleCancel = e => {\r\n    setVisible(false);\r\n  };\r\n  const showImages = () => {\r\n    setVisible(true);\r\n  };\r\n  const printImageSelected = imagesForAlbum.map((val, index) => (\r\n    <Col xs={4} style={{ height: \"55px\" }} key={index}>\r\n      <img\r\n        src={JSON.parse(val).url}\r\n        style={{ height: \"100%\", width: \"100%\" }}\r\n        key={index}\r\n        alt=\"img\"\r\n      />\r\n    </Col>\r\n  ));\r\n\r\n  const getImagesForAlbum = valImg => {\r\n    props.setImagesForAlbum(valImg);\r\n    console.log(valImg);\r\n  };\r\n\r\n  const updateAlbum = () => {\r\n    setVisible(false);\r\n    if (props.albumName === \"\") {\r\n      errorAlert();\r\n    } else {\r\n      props.submitCreateAndUpdateAlbum();\r\n      props.setPickDataImages();\r\n      props.removeAlbumName();\r\n    }\r\n  };\r\n  const printListImages = data.listUploadedImages.map(function(val, index) {\r\n    if (val.status !== \"INVISIBLE\") {\r\n      return (\r\n        <Card.Grid style={gridStyle} key={index}>\r\n          <Checkbox\r\n            value={`{\"id\":${val.id},\"status\":\"${val.status}\",\"url\":\"${val.url}\"}`}\r\n            className=\"checkbox-image\"\r\n          >\r\n            <img src={val.url} alt={val.name} width=\"100%\" />\r\n          </Checkbox>\r\n        </Card.Grid>\r\n      );\r\n    }\r\n  });\r\n  return (\r\n    <>\r\n      <div>\r\n        <a onClick={showImages} style={{ paddingRight: \".5rem\" }}>\r\n          <Icon type=\"double-right\" />\r\n          Chn nh\r\n        </a>\r\n        <span>{imagesForAlbum.length}</span> items  c chn\r\n        <Row style={{ margin: \"1rem 0\" }}>{printImageSelected}</Row>\r\n        <Button\r\n          onClick={updateAlbum}\r\n          style={{ width: \"100%\", marginBottom: \".5rem\" }}\r\n          disabled={props.imagesForAlbum.length > 0 ? false : true}\r\n        >\r\n          Submit\r\n        </Button>\r\n        <a onClick={props.setPickDataImages}>\r\n          <Icon type=\"double-left\" />\r\n          Quay li\r\n        </a>\r\n      </div>\r\n      <Modal\r\n        title=\"Media\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <Row>\r\n          <Col>\r\n            {imagesForAlbum.length > 0 && (\r\n              <div className=\"btn-media-options\">\r\n                <span>\r\n                  <Icon type=\"close\" style={{ marginRight: \"5px\" }} />\r\n                  <span>{imagesForAlbum.length}</span> items  c chn\r\n                </span>\r\n              </div>\r\n            )}\r\n            <Checkbox.Group\r\n              style={{ width: \"100%\" }}\r\n              value={imagesForAlbum}\r\n              onChange={getImagesForAlbum}\r\n            >\r\n              <Col>{printListImages}</Col>\r\n            </Checkbox.Group>\r\n          </Col>\r\n        </Row>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\nexport default CreateAlbumFromLibary;\r\n","import React, { useState, useMemo, useEffect } from \"react\";\r\nimport { Row, Col, Card, Icon, Button, Pagination } from \"antd\";\r\nimport CreateAlbumFromComp from \"./createAlbumFromComp\";\r\nimport CreateAlbumFromLibary from \"./createAlbumFromLibary\";\r\nimport { useQuery, useMutation, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { queryGetListAlbumByAdmin } from \"../../../utils/queryMedia\";\r\nimport { DELETE_ALBUM, CREATE_ALBUM } from \"../../../utils/mutation/media\";\r\nimport \"../../../static/style/media.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { successAlert } from \"../mediaService\";\r\nconst { Meta } = Card;\r\nconst Album = () => {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    count: \"\",\r\n    userAdmin: localStorage.getItem(\"userNameCMS\"),\r\n    albumName: \"\"\r\n  });\r\n  const [selectedAlbumId, setSelectedAlbumId] = useState([]);\r\n  const [isCreateAlbum, setIsCreateAlbum] = useState(false);\r\n  const [imagesForAlbumByComp, setImagesForAlbumByComp] = useState([]);\r\n  const [imagesForAlbumByLi, setImagesForAlbumByLi] = useState([]);\r\n  const [imagesAlbum, setImagesAlbum] = useState([\r\n    { id: \"\", user: \"\", name: \"\", status: \"\", data: \"\" }\r\n  ]);\r\n  const [pickDataImages, setPickDataImages] = useState({\r\n    fromComp: \"\",\r\n    fromLibary: \"\"\r\n  });\r\n  const { currentPage, pageSize, userAdmin, albumName, count } = pageIndex;\r\n  const { fromComp, fromLibary } = pickDataImages;\r\n  const [deleteAlbum] = useMutation(DELETE_ALBUM, {\r\n    variables: {\r\n      ids: selectedAlbumId\r\n    }\r\n  });\r\n  useMemo(() => {\r\n    setImagesForAlbumByComp([]);\r\n    setImagesForAlbumByLi([]);\r\n  }, [fromComp, fromLibary]);\r\n  const [createAlbumByComp] = useMutation(CREATE_ALBUM, {\r\n    variables: {\r\n      req: {\r\n        user: userAdmin,\r\n        name: albumName,\r\n        data: `{\"listImages\":${JSON.stringify(imagesForAlbumByComp)}}`\r\n      }\r\n    },\r\n    onCompleted: data => {\r\n      console.log(JSON.parse(data.createAdminAlbum.data));\r\n    }\r\n  });\r\n  const [createAlbumByLi] = useMutation(CREATE_ALBUM, {\r\n    variables: {\r\n      req: {\r\n        user: userAdmin,\r\n        name: albumName,\r\n        data: `{\"listImages\":${JSON.stringify(imagesForAlbumByLi)}}`\r\n      }\r\n    },\r\n    onCompleted: data => {\r\n      console.log(JSON.parse(data.createAdminAlbum.data));\r\n    }\r\n  });\r\n  const [getListAlbum] = useLazyQuery(\r\n    queryGetListAlbumByAdmin(currentPage, pageSize, userAdmin),\r\n    {\r\n      fetchPolicy: \"cache-and-network\",\r\n      onCompleted: data => {\r\n        setPageIndex({ ...pageIndex, count: data.listAdminAlbumsByUser.count });\r\n        setImagesAlbum(data.listAdminAlbumsByUser.rows);\r\n      }\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    getListAlbum();\r\n  }, []);\r\n  const getAlbumName = e => {\r\n    console.log(e.target.value);\r\n    setPageIndex({ ...pageIndex, albumName: e.target.value });\r\n  };\r\n  const submitDelete = async () => {\r\n    await deleteAlbum();\r\n    await getListAlbum();\r\n    setSelectedAlbumId([]);\r\n  };\r\n  const submitCreateAlbumByComp = async () => {\r\n    await createAlbumByComp();\r\n    await successAlert(\"created\");\r\n    getListAlbum();\r\n  };\r\n  const submitCreateAlbumByLi = async () => {\r\n    await createAlbumByLi();\r\n    await successAlert(\"created\");\r\n    getListAlbum();\r\n  };\r\n  const backScreenUpdate = () => {\r\n    setPickDataImages({ fromComp: \"\", fromLibary: \"\" });\r\n  };\r\n  const goPage = val => {\r\n    setPageIndex({ ...pageIndex, currentPage: val });\r\n  };\r\n  const resetAlbumName = () => {\r\n    setPageIndex({ ...pageIndex, albumName: \"\" });\r\n  };\r\n  const printListAlbum = imagesAlbum.map(function(val, index) {\r\n    if (val.id >= 1) {\r\n      return (\r\n        <Col sm={6} key={index} style={{ padding: \"0 .5rem .5rem .5rem\" }}>\r\n          <Link to={`/media/album/edit?id=${val.id}`}>\r\n            <Card\r\n              hoverable\r\n              style={{ width: \"100%\" }}\r\n              cover={\r\n                <div>\r\n                  <img\r\n                    alt={\r\n                      JSON.parse(val.data).listImages.length === 0\r\n                        ? \"Album is empty\"\r\n                        : val.name\r\n                    }\r\n                    src={\r\n                      JSON.parse(val.data).listImages.length > 0\r\n                        ? JSON.parse(JSON.parse(val.data).listImages[0]).url\r\n                        : \"\"\r\n                    }\r\n                    style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n                  />\r\n                </div>\r\n              }\r\n            >\r\n              <Meta\r\n                title={val.name}\r\n                description={`${JSON.parse(val.data).listImages.length} nh`}\r\n              />\r\n            </Card>\r\n          </Link>\r\n        </Col>\r\n      );\r\n    }\r\n  });\r\n  return (\r\n    <Row>\r\n      <Link to=\"/media\">\r\n        <h2>Media</h2>\r\n      </Link>\r\n      <Col md={16} className=\"container-images\">\r\n        {selectedAlbumId.length > 0 ? (\r\n          <div className=\"btn-media-options\">\r\n            <span>\r\n              <Icon type=\"close\" style={{ marginRight: \"5px\" }} />\r\n              <span>{selectedAlbumId.length}</span> albums  c chn\r\n            </span>\r\n            <div>\r\n              <Icon\r\n                type=\"delete\"\r\n                style={{ fontSize: \"18px\", margin: \"0 5px\" }}\r\n                onClick={submitDelete}\r\n              />\r\n              {/* <Icon type=\"download\" style={{ fontSize: \"18px\" }} /> */}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"menu-images\">\r\n            <Link to=\"/media\" style={{ marginRight: \"3rem\" }}>\r\n              <h3>Images</h3>\r\n            </Link>\r\n            <Link to=\"/media/album\">\r\n              <h3>Album</h3>\r\n            </Link>\r\n          </div>\r\n        )}\r\n        <Row style={{ padding: \"1rem .5rem\" }}>{printListAlbum}</Row>\r\n        <Pagination\r\n          current={currentPage}\r\n          total={count}\r\n          pageSize={10}\r\n          onChange={goPage}\r\n          className=\"pagination-listUser\"\r\n        />\r\n      </Col>\r\n      <Col md={8} className=\"create-album\">\r\n        {isCreateAlbum ? (\r\n          <div onClick={() => setIsCreateAlbum(false)}>\r\n            <Icon type=\"folder-add\" style={{ fontSize: \"60px\" }} />\r\n            <p>To album mi</p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <h3>\r\n              <Icon\r\n                onClick={() => setIsCreateAlbum(false)}\r\n                type=\"close\"\r\n                style={{ marginRight: \"5px\", fontSize: \"15px\" }}\r\n              />\r\n              Creat new album\r\n            </h3>\r\n            <input\r\n              className=\"input-album-name\"\r\n              placeholder=\"Name album\"\r\n              value={albumName}\r\n              name=\"name\"\r\n              onChange={e => getAlbumName(e)}\r\n            />\r\n            <p className=\"add-images\">Add image</p>\r\n            {fromComp === \"pickFromComp\" && (\r\n              <CreateAlbumFromComp\r\n                setImagesForAlbum={setImagesForAlbumByComp}\r\n                submitCreateAndUpdateAlbum={submitCreateAlbumByComp}\r\n                albumName={albumName}\r\n                refetch={getListAlbum}\r\n                imagesForAlbum={imagesForAlbumByComp}\r\n                setPickDataImages={backScreenUpdate}\r\n                removeAlbumName={resetAlbumName}\r\n              />\r\n            )}\r\n            {fromLibary === \"pickFromLibary\" && (\r\n              <CreateAlbumFromLibary\r\n                setImagesForAlbum={setImagesForAlbumByLi}\r\n                submitCreateAndUpdateAlbum={submitCreateAlbumByLi}\r\n                refetch={getListAlbum}\r\n                albumName={albumName}\r\n                imagesForAlbum={imagesForAlbumByLi}\r\n                setPickDataImages={backScreenUpdate}\r\n                removeAlbumName={resetAlbumName}\r\n              />\r\n            )}\r\n            {fromLibary === \"\" ? (\r\n              <>\r\n                <div\r\n                  className=\"create-album-pick\"\r\n                  onClick={() =>\r\n                    setPickDataImages({\r\n                      fromComp: \"f\",\r\n                      fromComp: \"pickFromComp\"\r\n                    })\r\n                  }\r\n                >\r\n                  <Icon type=\"plus\" style={{ marginRight: \".5rem\" }} />\r\n                  Select photo from the computer\r\n                </div>\r\n                <div\r\n                  className=\"create-album-pick\"\r\n                  onClick={() =>\r\n                    setPickDataImages({\r\n                      ...pickDataImages,\r\n                      fromLibary: \"pickFromLibary\"\r\n                    })\r\n                  }\r\n                >\r\n                  <Icon type=\"search\" style={{ marginRight: \".5rem\" }} />\r\n                  Select photo from the library\r\n                </div>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default Album;\r\n","import React, { useState } from \"react\";\r\nimport { Modal, Checkbox, Row, Col, Card, Icon, Button } from \"antd\";\r\nimport { UPDATE_ALBUM, DELETE_ALBUM } from \"../../../utils/mutation/media\";\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\";\r\nimport CreateAlbumFromComp from \"./createAlbumFromComp\";\r\nimport CreateAlbumFromLibary from \"./createAlbumFromLibary\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { queryGetImagesFromAlbumByType } from \"../../../utils/queryMedia\";\r\nimport { successAlert, errorAlert } from \"../mediaService\";\r\nimport \"../../../static/style/media.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst gridStyle = {\r\n  width: \"24%\",\r\n  textAlign: \"center\",\r\n  padding: \"2px\",\r\n  margin: \".5%\",\r\n  position: \"relative\",\r\n  height: \"100px\"\r\n};\r\nfunction UpdateAlbum() {\r\n  const query = new URLSearchParams(window.location.search);\r\n  const albumId = query.get(\"id\");\r\n  const userAdmin = localStorage.getItem(\"userNameCMS\");\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 2,\r\n    pageSize: 10,\r\n    userAdmin: localStorage.getItem(\"userNameCMS\"),\r\n    albumName: \"\"\r\n  });\r\n  const [selectedImage, setSelectedImage] = useState([]);\r\n  const [isCreateAlbum, setIsCreateAlbum] = useState(false);\r\n  const [isShowAlert, setIsShowAlert] = useState(false);\r\n  const [imagesForAlbum, setImagesForAlbum] = useState([]);\r\n  const [isOpenImage, setIsOpenImage] = useState(false);\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n  const [pickDataImages, setPickDataImages] = useState({\r\n    fromComp: \"\",\r\n    fromLibary: \"\"\r\n  });\r\n  const { albumName } = pageIndex;\r\n  const { fromComp, fromLibary } = pickDataImages;\r\n  const [deleteAlbum] = useMutation(DELETE_ALBUM, {\r\n    variables: {\r\n      ids: [Number(albumId)]\r\n    }\r\n  });\r\n  const { loading, error, data, refetch } = useQuery(\r\n    queryGetImagesFromAlbumByType(albumId, userAdmin),\r\n    {\r\n      onCompleted: data => {\r\n        setImagesForAlbum(JSON.parse(data.listAdminAlbums[0].data).listImages);\r\n        setPageIndex({ ...pageIndex, albumName: data.listAdminAlbums[0].name });\r\n      }\r\n    }\r\n  );\r\n  const [updateAlbum] = useMutation(UPDATE_ALBUM, {\r\n    variables: {\r\n      id: Number(albumId),\r\n      req: {\r\n        user: userAdmin,\r\n        name: albumName,\r\n        data: `{\"listImages\":${JSON.stringify(imagesForAlbum)}}`\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  if (loading) return \"Loading...\";\r\n  if (error) return `Error! ${error.message}`;\r\n  const { listImages } = JSON.parse(data.listAdminAlbums[0].data);\r\n  const onChange = val => {\r\n    setSelectedImage(val);\r\n    console.log(val);\r\n  };\r\n  const getAlbumName = e => {\r\n    setPageIndex({ ...pageIndex, albumName: e.target.value });\r\n  };\r\n  const submitDeleteAlbum = async () => {\r\n    await deleteAlbum();\r\n    successAlert(\"deleted\");\r\n  };\r\n  const submitUpdateAlbum = async () => {\r\n    if (albumName === \"\") {\r\n      errorAlert();\r\n    } else {\r\n      await updateAlbum();\r\n      refetch();\r\n      successAlert(\"updated\");\r\n      setSelectedImage([]);\r\n    }\r\n  };\r\n  const submitDelete = async () => {\r\n    const newImages = imagesForAlbum.filter(\r\n      (val, i) => selectedImage.indexOf(val) === -1\r\n    );\r\n    await setImagesForAlbum(newImages);\r\n    submitUpdateAlbum();\r\n  };\r\n  const backScreenUpdate = () => {\r\n    setPickDataImages({ fromComp: \"\", fromLibary: \"\" });\r\n  };\r\n  const resetAlbumName = () => {};\r\n  const showImage = val => {\r\n    setPhotoIndex(val);\r\n    setIsOpenImage(true);\r\n  };\r\n  const printListImages = imagesForAlbum.map((val, index) => (\r\n    <Card.Grid\r\n      style={gridStyle}\r\n      key={index}\r\n      className=\"checkbox-image-container\"\r\n    >\r\n      <Checkbox value={val} className=\"checkbox-image\"></Checkbox>\r\n      <div\r\n        style={{ height: \"100%\", cursor: \"pointer\" }}\r\n        onClick={() => showImage(index)}\r\n      >\r\n        <img\r\n          src={JSON.parse(val).url}\r\n          style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        />\r\n      </div>\r\n    </Card.Grid>\r\n  ));\r\n  return (\r\n    <Row>\r\n      <Link to=\"/media\">\r\n        <h2>Media</h2>\r\n      </Link>\r\n      <Col md={16} className=\"container-images\">\r\n        {selectedImage.length > 0 ? (\r\n          <div className=\"btn-media-options\">\r\n            <span>\r\n              <Icon\r\n                type=\"close\"\r\n                style={{ marginRight: \"5px\" }}\r\n                onClick={() => setSelectedImage([])}\r\n              />\r\n              <span>{selectedImage.length}</span> items is chosen.\r\n            </span>\r\n            <div>\r\n              <Icon\r\n                type=\"delete\"\r\n                style={{ fontSize: \"18px\", margin: \"0 5px\" }}\r\n                onClick={submitDelete}\r\n              />\r\n              {/* <Icon type=\"download\" style={{ fontSize: \"18px\" }} /> */}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div\r\n            className=\"menu-images\"\r\n            style={{ justifyContent: \"space-between\", alignItems: \"center\" }}\r\n          >\r\n            <Link to=\"/media/album\">\r\n              <h3>\r\n                <Icon type=\"arrow-left\" style={{ marginRight: \".5rem\" }} />\r\n                List album\r\n              </h3>\r\n            </Link>\r\n            <span\r\n              style={{ color: \"red\", cursor: \"pointer\" }}\r\n              onClick={() => setIsShowAlert(true)}\r\n            >\r\n              Delete album\r\n            </span>\r\n          </div>\r\n        )}\r\n        <Checkbox.Group\r\n          style={{ width: \"100%\" }}\r\n          onChange={onChange}\r\n          value={selectedImage}\r\n        >\r\n          <div>{printListImages}</div>\r\n        </Checkbox.Group>\r\n        {isOpenImage && (\r\n          <Lightbox\r\n            mainSrc={JSON.parse(imagesForAlbum[photoIndex]).url}\r\n            nextSrc={\r\n              JSON.parse(\r\n                imagesForAlbum[(photoIndex + 1) % imagesForAlbum.length]\r\n              ).url\r\n            }\r\n            prevSrc={\r\n              JSON.parse(\r\n                imagesForAlbum[\r\n                  (photoIndex + imagesForAlbum.length - 1) %\r\n                    imagesForAlbum.length\r\n                ]\r\n              ).url\r\n            }\r\n            onCloseRequest={() => setIsOpenImage(false)}\r\n            onMovePrevRequest={() =>\r\n              setPhotoIndex(\r\n                (photoIndex + imagesForAlbum.length - 1) % imagesForAlbum.length\r\n              )\r\n            }\r\n            onMoveNextRequest={() =>\r\n              setPhotoIndex((photoIndex + 1) % imagesForAlbum.length)\r\n            }\r\n          />\r\n        )}\r\n      </Col>\r\n      <Col md={8} className=\"create-album\">\r\n        <div>\r\n          <div>\r\n            <h3>\r\n              <Icon\r\n                onClick={() => setIsCreateAlbum(false)}\r\n                type=\"close\"\r\n                style={{ marginRight: \"5px\", fontSize: \"15px\" }}\r\n              />\r\n              Update Album\r\n            </h3>\r\n            {/* <span>Delete</span> */}\r\n          </div>\r\n          <input\r\n            className=\"input-album-name\"\r\n            placeholder=\"Nhp tn album\"\r\n            value={pageIndex.albumName}\r\n            name=\"name\"\r\n            onChange={e => getAlbumName(e)}\r\n          />\r\n          <p className=\"add-images\">Add Image</p>\r\n          {fromComp === \"pickFromComp\" && (\r\n            <CreateAlbumFromComp\r\n              setImagesForAlbum={setImagesForAlbum}\r\n              submitCreateAndUpdateAlbum={submitUpdateAlbum}\r\n              refetch={refetch}\r\n              imagesForAlbum={imagesForAlbum}\r\n              setPickDataImages={backScreenUpdate}\r\n              removeAlbumName={resetAlbumName}\r\n            />\r\n          )}\r\n          {fromLibary === \"pickFromLibary\" && (\r\n            <CreateAlbumFromLibary\r\n              setImagesForAlbum={setImagesForAlbum}\r\n              submitCreateAndUpdateAlbum={submitUpdateAlbum}\r\n              refetch={refetch}\r\n              imagesForAlbum={imagesForAlbum}\r\n              setPickDataImages={backScreenUpdate}\r\n              removeAlbumName={resetAlbumName}\r\n            />\r\n          )}\r\n          {fromLibary === \"\" ? (\r\n            <>\r\n              <div\r\n                className=\"create-album-pick\"\r\n                onClick={() =>\r\n                  setPickDataImages({\r\n                    fromComp: \"f\",\r\n                    fromComp: \"pickFromComp\"\r\n                  })\r\n                }\r\n              >\r\n                <Icon type=\"plus\" style={{ marginRight: \".5rem\" }} />\r\n                Select photo from the computer\r\n              </div>\r\n              <div\r\n                className=\"create-album-pick\"\r\n                onClick={() =>\r\n                  setPickDataImages({\r\n                    ...pickDataImages,\r\n                    fromLibary: \"pickFromLibary\"\r\n                  })\r\n                }\r\n              >\r\n                <Icon type=\"search\" style={{ marginRight: \".5rem\" }} />\r\n                Select photo from the library\r\n              </div>\r\n            </>\r\n          ) : null}\r\n          {fromComp === \"\" && fromLibary === \"\" ? (\r\n            <div style={{ margin: \"0 2rem\" }}>\r\n              <Button onClick={submitUpdateAlbum} style={{ width: \"100%\" }}>\r\n                Submit\r\n              </Button>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n      </Col>\r\n      <Modal\r\n        title=\"Confirm !\"\r\n        visible={isShowAlert}\r\n        onCancel={() => setIsShowAlert(false)}\r\n        onOk={() => submitDeleteAlbum()}\r\n        okText={<Link to=\"/media/album\">Ok</Link>}\r\n        cancelText=\"Cancel\"\r\n      >\r\n        <p>Do you want to delete this album ?</p>\r\n      </Modal>\r\n    </Row>\r\n  );\r\n}\r\nexport default UpdateAlbum;\r\n","import { gql } from \"apollo-boost\";\r\n\r\nconst paymentType = \"productPaymentType\";\r\nconst queryGetPaymentType = gql`\r\n   query{\r\n    __type(name:\"${paymentType}\"){\r\n        name,\r\n        enumValues{\r\n          name\r\n          description\r\n        }\r\n      }\r\n   }\r\n`;\r\nconst getPromotionType = gql`\r\n  query {\r\n    __type(name: \"promotionType\") {\r\n      enumValues {\r\n        name\r\n        description\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst getEventPaymentType = gql`\r\n  query {\r\n    __type(name: \"eventPaymentType\") {\r\n      name\r\n      enumValues {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport { queryGetPaymentType, getPromotionType, getEventPaymentType };\r\n","import { gql } from \"apollo-boost\";\r\n\r\nconst queryGetListCoin = gql`\r\n  query listProductsByPaymentType(\r\n    $currentPage: Int!\r\n    $pageSize: Int!\r\n    $type: String\r\n    $productName: String\r\n  ) {\r\n    listProductsByPaymentType(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      type: $type\r\n      productName: $productName\r\n    ) {\r\n      count\r\n      rows {\r\n        baseCoin\r\n        type\r\n        discount\r\n        productId\r\n        productName\r\n        price\r\n      }\r\n    }\r\n  }\r\n`;\r\n// list product theo id\r\nconst queryGetProductById = gql`\r\nquery listProducts( $productId: String){\r\n  listProducts(productId:$productId){\r\n    productName\r\n    type\r\n    sort\r\n    price\r\n    status\r\n    image\r\n  }\r\n}\r\n`;\r\n\r\n// lc s giao dch\r\nconst queryGetListCharges = gql`\r\n  query listChargesByType(\r\n    $currentPage: Int!\r\n    $pageSize: Int!\r\n    $type: Int!\r\n    $search: String\r\n    $fromDate: String!\r\n    $toDate: String!\r\n  ) {\r\n    listChargesByType(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      type: $type\r\n      search: $search\r\n      fromDate: $fromDate\r\n      toDate: $toDate\r\n    ) {\r\n      count\r\n      rows {\r\n        createAt\r\n        chargeId\r\n        userId\r\n        baseCoin\r\n        price\r\n        paymentType\r\n        status\r\n        user {\r\n          username\r\n          nickname\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\nexport { queryGetListCoin, queryGetListCharges, queryGetProductById };\r\n","import { Modal } from 'antd'\r\nfunction alertErrorServer(contentError) {\r\n    Modal.error({\r\n        title: 'Something went wrong!',\r\n        content: contentError,\r\n    });\r\n}\r\nexport {alertErrorServer}","import { gql } from \"apollo-boost\";\r\n\r\nconst getListChartCharges = gql`\r\n  query listCacheChargesByDate($fromDate: String!, $toDate: String!) {\r\n    listCacheChargesByDate(fromDate: $fromDate, toDate: $toDate) {\r\n      xAxis\r\n      yAxis\r\n    }\r\n  }\r\n`;\r\nconst getListPartnerCharges = gql`\r\n  query chartCachePartnerChargeByDates(\r\n    $fromDate: String!\r\n    $toDate: String!\r\n  ) {\r\n    chartCachePartnerChargeByDates(\r\n      fromDate: $fromDate\r\n      toDate: $toDate\r\n    ) {\r\n      xAxis\r\n      yAxis\r\n    }\r\n  }\r\n`;\r\n\r\nexport { getListChartCharges, getListPartnerCharges };\r\n","function nFormatter(num) {\r\n  if (num >= 1000000000) {\r\n    return (num / 1000000000).toFixed(1).replace(/\\.0$/, \"\") + \"G\";\r\n  }\r\n  if (num >= 1000000) {\r\n    return (num / 1000000).toFixed(1).replace(/\\.0$/, \"\") + \"M\";\r\n  }\r\n  if (num >= 1000) {\r\n    return (num / 1000).toFixed(1).replace(/\\.0$/, \"\") + \"K\";\r\n  }\r\n  return num;\r\n}\r\nconst optionLine = {\r\n  // maintainAspectRatio: false,\r\n  scaleStartValue: 0,\r\n  tooltips: {\r\n    callback: function(tooltipItem) {\r\n      return nFormatter(tooltipItem);\r\n    }\r\n  },\r\n  scales: {\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          steps: 10,\r\n          stepValue: 10000,\r\n          beginAtZero: true,\r\n          min: 0,\r\n          gridLines: {\r\n            drawTicks: true\r\n          },\r\n          callback: function(value, index) {\r\n            return nFormatter(value);\r\n          }\r\n        },\r\n        scaleLabel: {\r\n          display: true,\r\n          labelString: \"Tin (VN)\"\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  legend: {\r\n    position: \"top\",\r\n    display: true\r\n  }\r\n};\r\nconst optionLineForStats = {\r\n  // maintainAspectRatio: false,\r\n  scaleStartValue: 0,\r\n  tooltips: {\r\n    callback: function(tooltipItem) {\r\n      return nFormatter(tooltipItem);\r\n    }\r\n  },\r\n  scales: {\r\n    yAxes: [\r\n      {\r\n        ticks: {\r\n          steps: 10,\r\n          stepValue: 10000,\r\n          beginAtZero: true,\r\n          min: 0,\r\n          gridLines: {\r\n            drawTicks: true\r\n          },\r\n          callback: function(value, index) {\r\n            return nFormatter(value);\r\n          }\r\n        }\r\n        // scaleLabel: {\r\n        //   display: true,\r\n        //   labelString: \"Users Active\"\r\n        // }\r\n      }\r\n    ]\r\n  },\r\n  legend: {\r\n    position: \"top\",\r\n    display: true\r\n  }\r\n};\r\nexport { optionLine, optionLineForStats, nFormatter };\r\n","import React from \"react\";\r\nimport moment from 'moment'\r\n\r\nconst dates = {\r\n    TODAY: moment().subtract(1, \"days\").format(\"YYYY-MM-DD\"),\r\n    THREE_DAY_AGO: moment()\r\n        .subtract(3, \"days\")\r\n        .format(\"YYYY-MM-DD\"),\r\n    SEVENT_DAY_AGO: moment()\r\n        .subtract(7, \"days\")\r\n        .format(\"YYYY-MM-DD\"),\r\n    FOURTEEN_DAY_AGO: moment()\r\n        .subtract(14, \"days\")\r\n        .format(\"YYYY-MM-DD\"),\r\n    THIRTY_DAY_AGO: moment()\r\n        .subtract(30, \"days\")\r\n        .format(\"YYYY-MM-DD\")\r\n};\r\nconst months = {\r\n    THISMONTH: moment().subtract(1, \"months\").format(\"YYYY-MM\"),\r\n    THREE_MONTHS_AGO: moment().subtract(3, 'months').format('YYYY-MM'),\r\n    SIX_MONTHS_AGO: moment().subtract(6, 'months').format('YYYY-MM'),\r\n    ONE_YEAR_AGO: moment().subtract(1, 'years').format('YYYY-MM')\r\n}\r\nexport { dates, months };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  queryGetListCharges\r\n} from \"../../../../utils/queryCoin\";\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport {alertErrorServer}from '../../../../utils/alertErrorAll'\r\nimport { getListChartCharges } from \"../../../../utils/query/chart\";\r\nimport { optionLine } from \"../../../../utils/configCharts\";\r\nimport { dates } from \"../../../../utils/dateInfo\";\r\nimport { Icon, DatePicker, Input, Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nconst listSelectDates = [\r\n  { days: \"Last 3 days\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"Last 7 days\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"Last 14 days\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"Last 30 days\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nconst ChartCharges = props => {\r\n  const [timeValue, setTimeValue] = useState({\r\n    fromDate: dates.SEVENT_DAY_AGO,\r\n    toDate: dates.TODAY,\r\n    fromDateCustom: null,\r\n    toDateCustom: null\r\n  });\r\n  const [dataCharts, setDataCharts] = useState({ xAxis: [], yAxis: [] });\r\n  const [isSelectDates, setIsSelectDates] = useState(false);\r\n  const { fromDate, toDate, fromDateCustom, toDateCustom } = timeValue;\r\n  const { TODAY } = dates;\r\n  const [getData] = useLazyQuery(getListChartCharges, {\r\n    onCompleted: data => {\r\n      setDataCharts({\r\n        xAxis: JSON.parse(data.listCacheChargesByDate.xAxis),\r\n        yAxis: JSON.parse(data.listCacheChargesByDate.yAxis)\r\n      })\r\n      let demo = JSON.parse(data.listCacheChargesByDate.yAxis).map((val, i) => val[0].money);\r\n      const demo2 = demo.reduce((a, b) => a + b)\r\n      props.setTotalIndex({ ...props.totalIndex, totalMoney: demo2 })\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [getDataCharges] = useLazyQuery(\r\n    queryGetListCharges,\r\n    { \r\n      variables: {\r\n        currentPage: 1,\r\n        type: 1,\r\n        pageSize: 10,\r\n        search: '',\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      },\r\n      onCompleted: data => {\r\n        props.setTotalIndex({ ...props.totalIndex, totalPurchase: data.listChargesByType.count })\r\n      },\r\n      onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    getData({\r\n      variables: {\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      }\r\n    });\r\n    getDataCharges();\r\n  }, []);\r\n  const disabledDate = current => {\r\n    if (fromDateCustom != null) {\r\n      return (\r\n        (current &&\r\n          current <\r\n          moment(fromDateCustom)\r\n            .subtract(1, \"days\")\r\n            .endOf(\"day\")) ||\r\n        current > moment().endOf(\"day\")\r\n      );\r\n    }\r\n  };\r\n  const changeDates = val => {\r\n    setTimeValue({ ...timeValue, fromDate: dates[val], toDate: TODAY });\r\n    getData({\r\n      variables: {\r\n        fromDate: dates[val],\r\n        toDate: TODAY\r\n      }\r\n    });\r\n  };\r\n  const handleChangeRangeDates = value => {\r\n    changeDates(value);\r\n  };\r\n  const showDateSelect = () => {\r\n    setIsSelectDates(!isSelectDates);\r\n  };\r\n  const changeRangeDates = value => {\r\n    if (fromDateCustom == null) {\r\n      setTimeValue({ ...timeValue, fromDateCustom: value });\r\n    } else {\r\n      setTimeValue({\r\n        ...timeValue,\r\n        toDateCustom: moment(value).format(\"YYYY-MM-DD\")\r\n      });\r\n    }\r\n  };\r\n  const submitDateCustom = () => {\r\n    getData({\r\n      variables: {\r\n        fromDate: fromDateCustom,\r\n        toDate: toDateCustom\r\n      }\r\n    });\r\n    setIsSelectDates(!isSelectDates);\r\n  };\r\n  const convertData = paymentType => {\r\n    const demo = [];\r\n    const dataAll = dataCharts.yAxis.map((val, i) =>\r\n      val.map((val2, i) => {\r\n        if (val2.paymentType === paymentType) {\r\n          demo.push(val2.money);\r\n        }\r\n      })\r\n    );\r\n    return demo;\r\n  };\r\n  const dataChart = {\r\n    labels: dataCharts.xAxis,\r\n    datasets: [\r\n      {\r\n        label: \"ALL\",\r\n        fill: false,\r\n        backgroundColor: \"rgba(75,192,192,0.4)\",\r\n        borderColor: \"rgba(75,192,192,0.4)\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"ALL\")\r\n      },\r\n      {\r\n        label: \"GATE\",\r\n        fill: false,\r\n        backgroundColor: \"#ffd54f\",\r\n        borderColor: \"#ffd54f\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"GATE\")\r\n      },\r\n      {\r\n        label: \"MOMO\",\r\n        fill: false,\r\n        backgroundColor: \"#fcaf18\",\r\n        borderColor: \"#fcaf18\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"MOMO\")\r\n      },\r\n      {\r\n        label: \"NGANLUONG\",\r\n        fill: false,\r\n        backgroundColor: \"#4280ad\",\r\n        borderColor: \"#4280ad\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"NGANLUONG\")\r\n      }\r\n    ]\r\n  };\r\n  const printOptionDates = listSelectDates.map((val, i) => (\r\n    <Option value={val.variables} key={i}>\r\n      {val.days}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"line_chart\">\r\n      <div className=\"chart-charges-title\">\r\n        <h2>Trend</h2>\r\n        <Select\r\n          defaultValue=\"SEVENT_DAY_AGO\"\r\n          style={{ width: 120 }}\r\n          onChange={handleChangeRangeDates}\r\n          className=\"select-charges-date\"\r\n        >\r\n          {printOptionDates}\r\n          <Option value=\"5\" onClick={showDateSelect}>\r\n            Custom...\r\n          </Option>\r\n        </Select>\r\n        {isSelectDates && (\r\n          <div className=\"modal_datepicker-chartCoin\">\r\n            <DatePicker\r\n              allowClear={false}\r\n              disabledDate={disabledDate}\r\n              format=\"YYYY-MM-DD\"\r\n              value={\r\n                fromDateCustom == null\r\n                  ? null\r\n                  : moment(fromDateCustom, \"YYYY-MM-DD\")\r\n              }\r\n              placeholder=\"StartDate\"\r\n              onChange={e => changeRangeDates(e)}\r\n              className=\"input_date_chart\"\r\n              open={true}\r\n              dropdownClassName=\"calendar-select-chartsCoin\"\r\n              renderExtraFooter={() => (\r\n                <div className=\"datepicker_footer\">\r\n                  <span\r\n                    onClick={() =>\r\n                      setTimeValue({\r\n                        ...timeValue,\r\n                        fromDateCustom: null,\r\n                        toDateCustom: null\r\n                      })\r\n                    }\r\n                  >\r\n                    CLEAR\r\n                  </span>\r\n                  <span onClick={showDateSelect}>CANCEL</span>\r\n                  <span style={{ color: \"#0085ff\" }} onClick={submitDateCustom}>\r\n                    APPLY\r\n                  </span>\r\n                </div>\r\n              )}\r\n            />\r\n            <Input\r\n              open={true}\r\n              value={toDateCustom}\r\n              placeholder=\"EndDate\"\r\n              suffix={<Icon type=\"calendar\" style={{ color: \"#9e9e9e\" }} />}\r\n              className=\"input_date_chart\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Line data={dataChart} width={100} height={40} options={optionLine} />\r\n    </div>\r\n  );\r\n};\r\nexport default ChartCharges;\r\n","const convertPaymentType = (arr, type) => {\r\n    const result = arr.filter((val, i) => val.name===type)\r\n    return result[0].description;\r\n}\r\nexport { convertPaymentType }","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Button, Pagination, Input, Row, Col, Select, Icon } from \"antd\";\r\nimport moment from \"moment\";\r\nimport {\r\n  queryGetListCharges\r\n} from \"../../../../utils/queryCoin\";\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport {connect} from 'react-redux'\r\nimport { dates } from \"../../../../utils/dateInfo\";\r\nimport { alertErrorServer } from '../../../../utils/alertErrorAll'\r\nimport { convertPaymentType } from '../service'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../../../../static/style/listProducts.css\";\r\n\r\nconst { Option } = Select;\r\nconst listSelectDates = [\r\n  { days: \"Last 3 days\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"Last 7 days\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"Last 14 days\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"Last 30 days\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nfunction ListCharges(props) {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    type: 1,\r\n    pageSize: 10,\r\n    search: \"\",\r\n    fromDate: \"\",\r\n    toDate: \"\"\r\n  });\r\n  const [dataCharges, setDataCharges] = useState(null);\r\n  const { currentPage, pageSize, type, search, fromDate, toDate } = pageIndex;\r\n  const { TODAY } = dates;\r\n  const [getDataCharges, { loading, data, error }] = useLazyQuery(\r\n    queryGetListCharges,\r\n    {\r\n      onCompleted: data => {\r\n        console.log(data);\r\n        setDataCharges(data);\r\n      },\r\n      onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    getDataCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      }\r\n    });\r\n  }, []);\r\n  const changeDates = val => {\r\n    setPageIndex({ ...pageIndex, fromDate: dates[val], toDate: TODAY });\r\n    getDataCharges({\r\n      variables: {\r\n        fromDate: dates[val],\r\n        toDate: TODAY,\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const handleChangeRangeDates = value => {\r\n    changeDates(value);\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Purchase Coin ID\",\r\n      dataIndex: \"chargeId\",\r\n      key: \"chargeId\",\r\n      width: \"14%\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"C.coin\",\r\n      dataIndex: \"baseCoin\",\r\n      key: \"baseCoin\",\r\n      width: \"10%\"\r\n    },\r\n    {\r\n      title: \"UserName\",\r\n      dataIndex: \"user\",\r\n      key: \"userName\",\r\n      width: \"20%\",\r\n      render: val => <span>{val !== null ? val.username : null}</span>\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"paymentType\",\r\n      key: \"paymenttype\",\r\n      width: \"18%\",\r\n      render: index => <span>{convertPaymentType(props.listPaymentType, index)}</span>,\r\n    },\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"createAt\",\r\n      key: \"createAt\",\r\n      width: \"23%\",\r\n      render: time => (\r\n        <span>{moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\",\r\n      width: \"15%\"\r\n    }\r\n  ];\r\n  const printOptionDates = listSelectDates.map((val, i) => (\r\n    <Option value={val.variables} key={i}>\r\n      {val.days}\r\n    </Option>\r\n  ));\r\n  if (loading) return \"Loading...\";\r\n  return (\r\n    <>\r\n      <div className=\"products-title\">\r\n        <div>\r\n          <h2>History Purchase</h2>\r\n          <div className=\"view-more\">\r\n            <Link className=\"btn-view-more\" to=\"/payment/coin/charges/detail\">\r\n              Detail <Icon type=\"double-right\" />\r\n            </Link>\r\n            <Select\r\n              defaultValue=\"SEVENT_DAY_AGO\"\r\n              style={{ width: 120 }}\r\n              onChange={handleChangeRangeDates}\r\n              className=\"select-charges-date\"\r\n            >\r\n              {printOptionDates}\r\n            </Select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {dataCharges && (\r\n        <Table\r\n          columns={columns}\r\n          dataSource={dataCharges.listChargesByType.rows}\r\n          pagination={false}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    listPaymentType: state.listPaymentType\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(ListCharges);\r\n","// update product\r\nimport { gql } from \"apollo-boost\";\r\nconst updateProduct = gql`\r\n  mutation updateProduct($productId: String!, $req: ProductRequest!) {\r\n    updateProduct(productId: $productId, req: $req) {\r\n      productName\r\n    }\r\n  }\r\n`;\r\nconst createProduct = gql`\r\n  mutation createProduct($req: ProductRequest!) {\r\n    createProduct(req: $req) {\r\n      productName\r\n      type\r\n      sort\r\n      price\r\n      status\r\n      baseCoin\r\n    }\r\n  }\r\n`;\r\nconst deleteCoinProduct = gql`\r\nmutation deleteProducts($ids:[String]!){\r\n    deleteProducts(ids:$ids){\r\n        productName\r\n        status\r\n    }\r\n}\r\n`;\r\nexport { updateProduct, createProduct,deleteCoinProduct };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Radio,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Icon,\r\n  Modal,\r\n  Select\r\n} from \"antd\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../redux/actions/index\";\r\nimport ListImagesForNews from \"../../../news/modalImageUrl/imgsUrl\";\r\nimport { connect } from \"react-redux\";\r\nimport { alertErrorServer } from '../../../../utils/alertErrorAll'\r\nimport { createProduct } from \"../../../../utils/mutation/productCoin\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\n\r\nconst { Option } = Select;\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"24px\",\r\n  lineHeight: \"30px\"\r\n};\r\nfunction CreateProductCoin(props) {\r\n  const userName = localStorage.getItem(\"userNameCMS\");\r\n  const query = new URLSearchParams(window.location.search);\r\n  const productId = query.get(\"productId\");\r\n\r\n  const [oldDataProduct, setOldDataProduct] = useState({\r\n    statusBtnCancel: false,\r\n    oldData: {\r\n      productName: \"\",\r\n      type: \"\",\r\n      sort: null,\r\n      price: null,\r\n      status: \"INPUT\"\r\n    }\r\n  });\r\n  const [dataProduct, setDataProduct] = useState({\r\n    productName: \"\",\r\n    type: \"\",\r\n    sort: null,\r\n    price: null,\r\n    status: \"INPUT\"\r\n  });\r\n  const [alertIndex, setAlertIndex] = useState({\r\n    isShow: false,\r\n    content: \"Do you want to countinue creating a new C.coin package?\",\r\n    isDelete: false,\r\n    confirmBtn: \"Back\"\r\n  });\r\n  useEffect(() => {\r\n    dispatchSetUrlImageThumbnail(null);\r\n  }, []);\r\n  const { productName, status, price, sort, type } = dataProduct;\r\n  const [createCoin] = useMutation(createProduct, {\r\n    variables: {\r\n      req: {\r\n        productName: productName + ' coin',\r\n        sort: Number(sort), \r\n        price: Number(price),\r\n        baseCoin: Number(productName),\r\n        type: type,\r\n        status: status,\r\n        image: props.urlImgThumbnail\r\n      }\r\n    },\r\n    onCompleted: data => {\r\n      console.log(data)\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const checkStatusData = () => {\r\n    if (\r\n      productName !== \"\" &&\r\n      type !== \"\" &&\r\n      sort !== null &&\r\n      price !== null &&\r\n      status !== \"\" &&\r\n      props.urlImgThumbnail !== null\r\n    ) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n  const getNameAndPriceAndSort = e => {\r\n    setDataProduct({ ...dataProduct, [e.target.name]: e.target.value });\r\n    setOldDataProduct({ ...oldDataProduct, statusBtnCancel: false });\r\n  };\r\n  const getStatusAndType = e => {\r\n    setDataProduct({ ...dataProduct, [e.target.name]: e.target.value });\r\n  };\r\n  const submitUpdateCoin = () => {\r\n    let result = createCoin();\r\n    result.then(val => {\r\n      if (val) {\r\n        setAlertIndex({ ...alertIndex, isShow: true, content: \"Create new C.coin package successful !\" });\r\n        setDataProduct(oldDataProduct.oldData);\r\n        dispatchSetUrlImageThumbnail(null)\r\n      }\r\n    });\r\n  };\r\n  const getType = val => {\r\n    setDataProduct({ ...dataProduct, type: val });\r\n  };\r\n  const handleCancel = () => {\r\n    setAlertIndex({ ...alertIndex, isShow: false })\r\n  };\r\n  const handleOk = () => {\r\n    // setAlertIndex({ ...alertIndex, isShow: false })\r\n    // props.setIsCreateCoin(true);\r\n    console.log('fsfsf')\r\n  }\r\n  const { enumValues } = props.data.__type;\r\n  const printPaymentTypes = enumValues.map((val, index) => (\r\n    <Option value={val.name} key={index}>\r\n      {val.description}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <Row>\r\n      <a onClick={() => setAlertIndex({ ...alertIndex, isShow: true })}>\r\n        <span>\r\n          <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n          Back\r\n        </span>\r\n      </a>\r\n      <div className=\"products-title\">\r\n        <div>\r\n          <h2>Create new C.coin</h2>\r\n          <div>\r\n            <p>\r\n              <Button\r\n                onClick={() => setAlertIndex({ ...alertIndex, isShow: true })}\r\n                disabled={oldDataProduct.statusBtnCancel}\r\n                style={{ marginRight: \".5rem\" }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button onClick={submitUpdateCoin} disabled={checkStatusData()}>\r\n                Create C.coin\r\n              </Button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Row className=\"products-content\">\r\n        <Col md={12} className=\"section1-listcoin\">\r\n          <div>\r\n            <div>\r\n              <p className=\"edit-product-content-title\">C.coin Id</p>\r\n              <span>Id: AUTO </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"product-input-update\">\r\n            <span className=\"edit-product-content-title\">C.coin number</span>\r\n            <Input\r\n              type='number'\r\n              min='0'\r\n              name=\"productName\"\r\n              onChange={getNameAndPriceAndSort}\r\n              value={productName}\r\n            ></Input>\r\n            <span className=\"edit-product-content-title\">Price (VN)</span>\r\n            <Input\r\n              type=\"number\"\r\n              max=\"9990000000\"\r\n              name=\"price\"\r\n              onChange={getNameAndPriceAndSort}\r\n              value={price}\r\n            ></Input>\r\n            <div>\r\n              <Col>\r\n                <span className=\"edit-product-content-title\">\r\n                  Sort\r\n                </span>\r\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                  <Input\r\n                    style={{ width: \"4rem\" }}\r\n                    type=\"number\"\r\n                    max=\"10\"\r\n                    min=\"1\"\r\n                    name=\"sort\"\r\n                    onChange={getNameAndPriceAndSort}\r\n                    value={sort}\r\n                  ></Input>\r\n                  <span style={{ paddingLeft: \".2rem\" }}>/10</span>\r\n                </div>\r\n              </Col>\r\n            </div>\r\n            <div>\r\n              <span className=\"edit-product-content-title\">Image</span>\r\n            </div>\r\n            <div style={{ width: \"100px\" }}>\r\n              {props.urlImgThumbnail === null ? <i>Thumbnail image is emtry</i> : <img src={props.urlImgThumbnail} width=\"100%\" />}\r\n            </div>\r\n            <div>\r\n              <a onClick={() => dispatchShowImagesNews(true)}>Get image</a>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col md={6} className=\"section2\">\r\n          <div>\r\n            <p className=\"edit-product-content-title\">Status</p>\r\n            <Radio.Group\r\n              onChange={getStatusAndType}\r\n              name=\"status\"\r\n              value={status}\r\n            >\r\n              <Radio style={radioStyle} value=\"INPUT\">\r\n                INPUT\r\n              </Radio>\r\n              <Radio style={radioStyle} value=\"COMPLETE\">\r\n                COMPLETE\r\n              </Radio>\r\n              <Radio style={radioStyle} value=\"DELETE\">\r\n                DELETE\r\n              </Radio>\r\n            </Radio.Group>\r\n          </div>\r\n          <div style={{ marginTop: \"1rem\" }}>\r\n            <p className=\"edit-product-content-title\">Create</p>\r\n            <span>\r\n              Admin: <span>{userName}</span>\r\n            </span>\r\n          </div>\r\n        </Col>\r\n        <Col md={6} className=\"section2\">\r\n          <div>\r\n            <p className=\"edit-product-content-title\">Payment Type</p>\r\n            <Select value={type} style={{ width: \"100%\" }} onChange={getType}>\r\n              {printPaymentTypes}\r\n            </Select>\r\n          </div>\r\n        </Col>\r\n        <ListImagesForNews isThumbnail={true} />\r\n      </Row>\r\n      <Modal\r\n        title=\"Confirm !\"\r\n        visible={alertIndex.isShow}\r\n        okText=\"Back\"\r\n        cancelText=\"Next\"\r\n        onOK={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{alertIndex.content}</p>\r\n      </Modal>\r\n    </Row>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(CreateProductCoin);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Pagination,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Icon,\r\n  Select,\r\n  Radio\r\n} from \"antd\";\r\nimport { queryGetPaymentType } from \"../../../../utils/queryPaymentAndPromoType\";\r\nimport { queryGetListCoin } from \"../../../../utils/queryCoin\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\nimport { convertPaymentType } from '../service'\r\nimport { alertErrorServer } from '../../../../utils/alertErrorAll'\r\nimport { dispatchSetListPaymentType, dispatchTypeEventByMoney } from '../../../../redux/actions/index'\r\nimport { deleteCoinProduct } from \"../../../../utils/mutation/productCoin\";\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"30px\",\r\n  lineHeight: \"30px\"\r\n};\r\nfunction ListCoin(props) {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    type: \"\",\r\n    pageSize: 100,\r\n    productName: \"\",\r\n    listTypePayment: [{ name: \"\", description: \"\" }]\r\n  });\r\n  const [dataCoin, setDataCoin] = useState(null);\r\n  const [itemsForDelete, setItemsForDelete] = useState([]);\r\n  const {\r\n    currentPage,\r\n    type,\r\n    pageSize,\r\n    listTypePayment,\r\n    productName\r\n  } = pageIndex;\r\n  const [getDataCoin, { loading, refetch }] = useLazyQuery(queryGetListCoin, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setDataCoin(data);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const { data } = useQuery(queryGetPaymentType, {\r\n    onCompleted: data => {\r\n      console.log(data)\r\n      setPageIndex({ ...pageIndex, listTypePayment: data.__type.enumValues });\r\n      dispatchSetListPaymentType(data.__type.enumValues);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [deleteProduct] = useMutation(deleteCoinProduct, {\r\n    variables: {\r\n      ids: itemsForDelete\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  useEffect(() => {\r\n    getDataCoin({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        productName: productName\r\n      }\r\n    });\r\n  }, []);\r\n  const setValueTypePayment = e => {\r\n    setPageIndex({ ...pageIndex, type: e.target.value });\r\n  };\r\n  const handleFilter = () => {\r\n    getDataCoin({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        productName: productName\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleResetFilter = () => {\r\n    getDataCoin({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: \"\",\r\n        pageSize: pageSize,\r\n        productName: productName\r\n      }\r\n    });\r\n  };\r\n  // console.log(convertPaymentType(listTypePayment,\"GA\"))\r\n  // eslint-disable-next-line no-sparse-arrays\r\n  const columns = [\r\n    {\r\n      title: \"C.coin Id\",\r\n      dataIndex: \"productId\",\r\n      key: \"productId\",\r\n      width: \"15%\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"C.coin Name\",\r\n      dataIndex: \"productName\",\r\n      key: \"productName\",\r\n      width: \"20%\"\r\n    },\r\n    ,\r\n    {\r\n      title: \"Price (VND)\",\r\n      dataIndex: \"price\",\r\n      key: \"price\",\r\n      render: price => <span>{price.toLocaleString()} </span>,\r\n      width: \"20%\"\r\n    },\r\n    {\r\n      title: \"Promotion\",\r\n      dataIndex: \"discount\",\r\n      key: \"discount\",\r\n      width: \"10%\"\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"type\",\r\n      key: \"type\",\r\n      width: \"20%\",\r\n      render: index => <span>{convertPaymentType(listTypePayment, index)}</span>,\r\n      filterDropdown: () => (\r\n        <div style={{ padding: 8 }}>\r\n          <Radio.Group onChange={setValueTypePayment} value={type}>\r\n            {printOptionsType}\r\n          </Radio.Group>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={handleFilter}\r\n            size=\"small\"\r\n            style={{ width: 90, marginRight: 8 }}\r\n          >\r\n            Filter\r\n          </Button>\r\n          <Button\r\n            onClick={handleResetFilter}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n        </div>\r\n      ),\r\n      filterIcon: filtered => (\r\n        <Icon\r\n          type=\"filter\"\r\n          theme=\"filled\"\r\n          style={{ color: filtered ? \"#1890ff\" : \"#fafafa\" }}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      key: \"action\",\r\n      width: \"15%\",\r\n      render: (text, record) => (\r\n        <span>\r\n          <Link to={`/payment/coin/edit?productId=${record.productId}`}>\r\n            Edit\r\n          </Link>\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n  const rowSelection = {\r\n    onChange: (selectRowsKeys, selectedRows) => {\r\n      const itemsIdForDelete = selectedRows.map((val, index) => val.productId);\r\n      setItemsForDelete(itemsIdForDelete);\r\n    }\r\n  };\r\n  const submitDeleteProduct = async () => {\r\n    const demo = await deleteProduct();\r\n    refetch();\r\n  };\r\n  const printOptionsType = listTypePayment.map((val, index) => (\r\n    <Radio style={radioStyle} value={val.name} key={index}>\r\n      {val.name}\r\n    </Radio>\r\n  ));\r\n  const hasSelected = itemsForDelete.length > 0;\r\n  if (loading)\r\n    return (\r\n      <Col md={12}>\r\n        <p>loading...</p>\r\n      </Col>\r\n    );\r\n  return (\r\n    <>\r\n      <div className=\"products-title\">\r\n        <div>\r\n          <h2>C.coin managerment</h2>\r\n          <div className=\"view-more\">\r\n            <Link\r\n              to=\"/payment/coin\"\r\n              onClick={() => props.setIsCreateCoin(true)}\r\n            >\r\n              <Button icon=\"plus\">Add new C.coin package</Button>\r\n            </Link>\r\n            <Button\r\n              disabled={!hasSelected}\r\n              onClick={submitDeleteProduct}\r\n              style={{ marginLeft: \".25rem\" }}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {dataCoin && (\r\n        <>\r\n          <Table\r\n            rowSelection={rowSelection}\r\n            columns={columns}\r\n            dataSource={dataCoin.listProductsByPaymentType.rows}\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ListCoin;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col } from \"antd\";\r\nimport { queryGetPaymentType } from \"../../../utils/queryPaymentAndPromoType\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../static/style/listProducts.css\";\r\nimport ChartCharges from \"./listCharges/chartCacheCharges\";\r\nimport ListCharges from \"./listCharges/listCharges\";\r\nimport CreateProductCoin from \"./listCoin/addnewCoin\";\r\nimport ListCoin from \"./listCoin/listCoin\";\r\nimport { nFormatter } from \"../../../utils/configCharts\";\r\nimport { deleteCoinProduct } from \"../../../utils/mutation/productCoin\";\r\nfunction CoinsContainer(props) {\r\n  const [isCreateCoin, setIsCreateCoin] = useState(false);\r\n  const [totalIndex, setTotalIndex] = useState({\r\n    totalMoney: 0,\r\n    totalPurchase: 0\r\n  });\r\n  const { data } = useQuery(queryGetPaymentType);\r\n  console.log(isCreateCoin)\r\n  if (isCreateCoin)\r\n    return <CreateProductCoin setIsCreateCoin={setIsCreateCoin} data={data} />;\r\n  if (isCreateCoin === false)\r\n    return (\r\n      <Row>\r\n        <Col md={24}>\r\n          <Col md={12} className=\"items-section\">\r\n            <Col md={12} style={{ paddingRight: \".5rem\" }}>\r\n              <h2>C.coin exchange Total</h2>\r\n              <div className=\"total-revenue\">\r\n                <span>{nFormatter(totalIndex.totalMoney)}</span>\r\n                <p>VN</p>\r\n              </div>\r\n            </Col>\r\n            <Col md={12} style={{ paddingLeft: \".5rem\" }}>\r\n              <h2>Total Purchase times</h2>\r\n              <div className=\"total-revenue\">\r\n                <span>{nFormatter(totalIndex.totalPurchase)}</span>\r\n                <p>times</p>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n          <Col md={12} className=\"items-section\">\r\n            <ChartCharges\r\n              setTotalIndex={setTotalIndex}\r\n              totalIndex={totalIndex}\r\n            />\r\n          </Col>\r\n        </Col>\r\n        <Col md={12} className=\"items-section\">\r\n          <ListCoin setIsCreateCoin={setIsCreateCoin} />\r\n        </Col>\r\n        <Col md={12} className=\"items-section\">\r\n          <ListCharges setTotalIndex={setTotalIndex} totalIndex={totalIndex} />\r\n        </Col>\r\n      </Row>\r\n    );\r\n}\r\n\r\nexport default CoinsContainer;\r\n","import { gql } from \"apollo-boost\";\r\nconst queryGetListPartnerProducts = gql`\r\n  query listPartnerProductsByPartner(\r\n    $currentPage: Int!\r\n    $pageSize: Int!\r\n    $partnerId: String!\r\n    $partnerProductName: String!\r\n  ) {\r\n    listPartnerProductsByPartner(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      partnerId: $partnerId\r\n      partnerProductName: $partnerProductName\r\n    ) {\r\n      count\r\n      rows {\r\n        partnerProductId\r\n        partnerId\r\n        productName\r\n        coin\r\n        createAt\r\n        partner {\r\n          partnerName\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n// get productId\r\nconst queryGetRefPartnerProducts = partnerId => {\r\n  return gql`\r\n  query{\r\n listRefPartnerProducts(partnerId:\"${partnerId}\"){\r\n    productId\r\n    productName\r\n  }\r\n}\r\n  `;\r\n};\r\n// lch s giao dch theo items\r\nconst queryGetListPartnerCharges = gql`\r\n  query listPartnerChargesByType(\r\n    $currentPage: Int!\r\n    $pageSize: Int!\r\n    $type: Int!\r\n    $partnerId: String\r\n    $os: String\r\n    $userType: String\r\n    $search: String\r\n    $status: String\r\n    $fromDate: String!\r\n    $toDate: String!\r\n  ) {\r\n    listPartnerChargesByType(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      type: $type\r\n      fromDate: $fromDate\r\n      search: $search\r\n      status: $status\r\n      toDate: $toDate\r\n      partnerId: $partnerId\r\n      os: $os\r\n      userType: $userType\r\n    ) {\r\n      count\r\n      rows {\r\n        partnerChargeCode\r\n        payload\r\n        user {\r\n          username\r\n          nickname\r\n        }\r\n        coin\r\n        partner {\r\n          partnerName\r\n        }\r\n        partnerProduct {\r\n          productName\r\n        }\r\n        promotionRef\r\n        createAt\r\n        status\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst queryGetPartnerProductById = gql`\r\n  query listPartnerProducts($partnerProductId: String) {\r\n    listPartnerProducts(partnerProductId: $partnerProductId) {\r\n      status\r\n      productName\r\n      partnerId\r\n      partnerProductName\r\n      coin\r\n      productId\r\n      image\r\n    }\r\n  }\r\n`;\r\nconst getListPartnerProducts = partnerId => {\r\n  return gql`\r\n  query{\r\n    listPartnerProducts(partnerId:\"${partnerId}\"){\r\n      productName\r\n      productId\r\n      partnerProductId\r\n    }\r\n  }\r\n`;\r\n};\r\nconst getListPartnerProducts2 = gql`\r\n  query listPartnerProducts($partnerId: String) {\r\n    listPartnerProducts(partnerId: $partnerId) {\r\n      productName\r\n      partnerProductId\r\n    }\r\n  }\r\n`;\r\nexport {\r\n  queryGetListPartnerProducts,\r\n  queryGetListPartnerCharges,\r\n  queryGetPartnerProductById,\r\n  queryGetRefPartnerProducts,\r\n  getListPartnerProducts,\r\n  getListPartnerProducts2\r\n};\r\n","// update product\r\nimport { gql } from \"apollo-boost\";\r\nconst updatePartnerProductItem = gql`\r\n  mutation updatePartnerProduct($partnerProductId: String!, $req: PartnerProductRequest!) {\r\n    updatePartnerProduct(partnerProductId: $partnerProductId, req: $req) {\r\n      partnerProductId\r\n      partnerId\r\n      productName\r\n      coin\r\n      createAt\r\n      status\r\n      partnerProductName\r\n      productId\r\n    }\r\n  }\r\n`;\r\nconst createPartnerProduct = gql`\r\n  mutation createPartnerProduct($req: PartnerProductRequest!) {\r\n    createPartnerProduct(req: $req) {\r\n      partnerProductId\r\n      partnerId\r\n      productName\r\n      coin\r\n      createAt\r\n      status\r\n      partnerProductName\r\n      productId\r\n      image\r\n    }\r\n  }\r\n`;\r\nconst deletePartnerProducts = gql`\r\nmutation deletePartnerProducts($ids:[String]!){\r\n    deletePartnerProducts(ids:$ids){\r\n        productName\r\n        status\r\n    }\r\n}\r\n`;\r\nexport { updatePartnerProductItem, createPartnerProduct,deletePartnerProducts };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Radio,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Select,\r\n  Icon,\r\n  Modal\r\n} from \"antd\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../redux/actions/index\";\r\nimport { connect } from 'react-redux'\r\nimport {alertErrorServer} from '../../../../utils/alertErrorAll'\r\nimport ListImagesForNews from \"../../../news/modalImageUrl/imgsUrl\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryNews\";\r\nimport { queryGetRefPartnerProducts } from \"../../../../utils/queryPartnerProducts\";\r\nimport { createPartnerProduct } from \"../../../../utils/mutation/partnerProductItems\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\nconst { Option } = Select;\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"24px\",\r\n  lineHeight: \"30px\"\r\n};\r\nfunction CreatePartnerItems(props) {\r\n  const userName = localStorage.getItem(\"userNameCMS\");\r\n  const query = new URLSearchParams(window.location.search);\r\n  const partnerProductId = query.get(\"partnerProductId\");\r\n  const [oldDataPartnerProduct, setOldDataPartnerProduct] = useState({\r\n    statusBtnCancel: false,\r\n    oldData: {\r\n      productName: \"\",\r\n      partnerId: \"\",\r\n      productId: \"\",\r\n      coin: \"\",\r\n      partnerProductName: \"\",\r\n      promotionId: \"\",\r\n      status: \"\"\r\n    }\r\n  });\r\n  const [dataListPlatform, setListPlatform] = useState([]);\r\n  const [dataListRefProduct, setListRefProduct] = useState([]);\r\n  const [dataPartnerProduct, setDataPartnerProduct] = useState({\r\n    productName: \"\",\r\n    partnerId: \"\",\r\n    productId: \"\",\r\n    coin: \"\",\r\n    partnerProductName: \"\",\r\n    promotionId: \"\",\r\n    status: \"\"\r\n  });\r\n  const [alertIndex, setAlertIndex] = useState({\r\n    isShow: false,\r\n    content: \"Do you want to countinue creating a new Item ?\",\r\n    isDelete: false,\r\n    confirmBtn: \"Back\"\r\n  });\r\n  useEffect(() => {\r\n    dispatchSetUrlImageThumbnail(null);\r\n  }, []);\r\n  const { loading, error, data } = useQuery(queryGetPlatform(), {\r\n    onCompleted: dataPartner => {\r\n      setListPlatform(dataPartner.listPartners);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const {\r\n    productName,\r\n    status,\r\n    productId,\r\n    coin,\r\n    partnerProductName,\r\n    partnerId,\r\n    promotionId\r\n  } = dataPartnerProduct;\r\n  const [getRefPartnerProduct] = useLazyQuery(\r\n    queryGetRefPartnerProducts(partnerId),\r\n    {\r\n      onCompleted: data => {\r\n        setListRefProduct(data.listRefPartnerProducts);\r\n      },\r\n      onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n    }\r\n  );\r\n  const [createItem] = useMutation(createPartnerProduct, {\r\n    variables: {\r\n      req: {\r\n        productName: productName,\r\n        status: status,\r\n        partnerId: partnerId,\r\n        productId: productId,\r\n        coin: Number(coin),\r\n        partnerProductName: partnerProductName,\r\n        promotionId: Number(promotionId),\r\n        image: props.urlImgThumbnail\r\n      }\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const getNewInfoItem = e => {\r\n    setDataPartnerProduct({\r\n      ...dataPartnerProduct,\r\n      [e.target.name]: e.target.value\r\n    });\r\n    setOldDataPartnerProduct({\r\n      ...oldDataPartnerProduct,\r\n      statusBtnCancel: false\r\n    });\r\n  };\r\n  const getStatus = e => {\r\n    setDataPartnerProduct({ ...dataPartnerProduct, status: e.target.value });\r\n  };\r\n  const submitCreateItem = () => {\r\n    let result = createItem();\r\n    result.then(val => {\r\n      if (val) {\r\n        alert(\"Task is completed !\");\r\n        setOldDataPartnerProduct({\r\n          ...oldDataPartnerProduct,\r\n          statusBtnCancel: true\r\n        });\r\n        setDataPartnerProduct(oldDataPartnerProduct.oldData);\r\n      }\r\n    });\r\n  };\r\n  const cancelUpdate = () => {\r\n    setDataPartnerProduct(oldDataPartnerProduct.oldData);\r\n  };\r\n  const changePartnerProductName = async val => {\r\n    await setDataPartnerProduct({\r\n      ...dataPartnerProduct,\r\n      partnerProductName: JSON.parse(val).productName,\r\n      productId: JSON.parse(val).productId\r\n    });\r\n  };\r\n  async function changePartnerName(val) {\r\n    await setDataPartnerProduct({ ...dataPartnerProduct, partnerId: val });\r\n    getRefPartnerProduct();\r\n  }\r\n  const handleCancel = () => {\r\n    setAlertIndex({ ...alertIndex, isShow: false })\r\n  };\r\n  const handleOk = (val) => {\r\n    // setAlertIndex({ ...alertIndex, isShow: false })\r\n    // props.setIsCreateCoin(true);\r\n    console.log(val)\r\n  }\r\n  const printPlatform = dataListPlatform.map((val, index) => (\r\n    <Option value={val.partnerId} key={index}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  const printRefProduct = dataListRefProduct.map(function (val, index) {\r\n    if (index <= 0) {\r\n      return null;\r\n    } else {\r\n      return (\r\n        <Option\r\n          value={`{\"productId\":\"${val.productId}\",\"productName\":\"${val.productName}\"}`}\r\n          key={index}\r\n        >\r\n          {val.productName}\r\n        </Option>\r\n      );\r\n    }\r\n  });\r\n  // const showConfirm = () => {\r\n  //   Modal.confirm({\r\n  //     title: \"Do you want to countinue creating a new Item?\",\r\n  //     okText: \"Back\",\r\n  //     cancelText: \"Next\",\r\n  //     onOk() {\r\n  //       props.setIsCreateItem(false);\r\n  //     },\r\n  //     onCancel() {\r\n  //       console.log(\"Cancel\");\r\n  //     }\r\n  //   });\r\n  // };\r\n  return (\r\n    <Row>\r\n      <Link to=\"/payment/items\" onClick={() => setAlertIndex({ ...alertIndex, isShow: true })}>\r\n        <span>\r\n          <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n        Back\r\n        </span>\r\n      </Link>\r\n      <div className=\"products-title\">\r\n        <div>\r\n          <h2>Create Item</h2>\r\n          <div>\r\n            <p>\r\n              <Button\r\n                onClick={() => setAlertIndex({ ...alertIndex, isShow: true })}\r\n                disabled={oldDataPartnerProduct.statusBtnCancel}\r\n                style={{ marginRight: \".5rem\" }}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                onClick={submitCreateItem}\r\n                disabled={\r\n                  productName === \"\" ||\r\n                    partnerId === \"\" ||\r\n                    productId === \"\" ||\r\n                    coin === \"\" ||\r\n                    partnerProductName === \"\" ||\r\n                    promotionId === 0 ||\r\n                    status === \"\"\r\n                    ? true\r\n                    : false\r\n                }\r\n              >\r\n                Add new Item\r\n              </Button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Row className=\"products-content\">\r\n        <Col md={12} className=\"section1-listcoin\">\r\n          <div>\r\n            <div>\r\n              <p className=\"edit-product-content-title\">Item Id</p>\r\n              <span>Id: AUTO {partnerProductId} </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"product-input-update\">\r\n            <span className=\"edit-product-content-title\">Platform</span>\r\n            <Select\r\n              value={partnerId}\r\n              style={{ width: '100% !important' }}\r\n              onChange={changePartnerName}\r\n            >\r\n              {printPlatform}\r\n            </Select>\r\n            <span className=\"edit-product-content-title\">ProductIdAndName</span>\r\n            <Select\r\n              value={\r\n                productId === \"\"\r\n                  ? null\r\n                  : `{\"productId\":\"${productId}\",\"productName\":\"${partnerProductName}\"}`\r\n              }\r\n              style={{ width: \"100%\", marginTop: \"0\" }}\r\n              onChange={changePartnerProductName}\r\n              disabled={dataListRefProduct.length === 0 ? true : false}\r\n            >\r\n              {printRefProduct}\r\n            </Select>\r\n            <span className=\"edit-product-content-title\">Item name</span>\r\n            <Input\r\n              value={productName}\r\n              name=\"productName\"\r\n              onChange={getNewInfoItem}\r\n            ></Input>\r\n            <span className=\"edit-product-content-title\">Price (C.coin)</span>\r\n            <Input\r\n              value={coin}\r\n              type=\"number\"\r\n              max=\"9990000000\"\r\n              name=\"coin\"\r\n              onChange={getNewInfoItem}\r\n            ></Input>\r\n            <div>\r\n              <span className=\"edit-product-content-title\">Image</span>\r\n            </div>\r\n            <div style={{ width: \"100px\" }}>\r\n              {props.urlImgThumbnail === null ? <i>Thumbnail image is emtry</i> : <img src={props.urlImgThumbnail} width=\"100%\" />}\r\n            </div>\r\n            <div>\r\n              <a onClick={() => dispatchShowImagesNews(true)}>Select</a>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n        <Col md={8} className=\"section2\">\r\n          <div>\r\n            <p className=\"edit-product-content-title\">Status</p>\r\n            <Radio.Group value={status} onChange={getStatus}>\r\n              <Radio style={radioStyle} value=\"INPUT\">\r\n                INPUT\r\n              </Radio>\r\n              <Radio style={radioStyle} value=\"COMPLETE\">\r\n                COMPLETE\r\n              </Radio>\r\n              <Radio style={radioStyle} value=\"DELETE\">\r\n                DELETE\r\n              </Radio>\r\n            </Radio.Group>\r\n          </div>\r\n          <div style={{ marginTop: \"1rem\" }}>\r\n            <p className=\"edit-product-content-title\">Admin</p>\r\n            <span>\r\n              Admin: <span>{userName}</span>\r\n            </span>\r\n          </div>\r\n        </Col>\r\n        <ListImagesForNews isThumbnail={true} />\r\n      </Row>\r\n      <Modal\r\n        title=\"Confirm !\"\r\n        visible={alertIndex.isShow}\r\n        okText=\"Back\"\r\n        cancelText=\"Next\"\r\n        onOK={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{alertIndex.content}</p>\r\n      </Modal>\r\n    </Row>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(CreatePartnerItems);\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Tooltip, Select, Icon } from \"antd\";\r\nimport { queryGetListPartnerCharges } from \"../../../../utils/queryPartnerProducts\";\r\nimport moment from \"moment\";\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../../../../static/style/listProducts.css\";\r\nimport { dates } from \"../../../../utils/dateInfo\";\r\nconst { Option } = Select;\r\nconst listSelectDates = [\r\n  { days: \"Last 3 days\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"Last 7 days\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"Last 14 days\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"Last 30 days\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nfunction ListPartnerCharges() {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    type: 1,\r\n    pageSize: 10,\r\n    search: \"\",\r\n    fromDate: \"\",\r\n    toDate: \"\",\r\n    userType: \"\",\r\n    partnerId: \"\",\r\n    os: \"\"\r\n  });\r\n  const [dataPartnerCharges, setDataCharges] = useState(null);\r\n  const {\r\n    currentPage,\r\n    pageSize,\r\n    type,\r\n    userType,\r\n    os,\r\n    partnerId,\r\n    search,\r\n    fromDate,\r\n    toDate\r\n  } = pageIndex;\r\n  const { TODAY } = dates;\r\n  const [getDataPartnerCharges, { loading, data }] = useLazyQuery(\r\n    queryGetListPartnerCharges,\r\n    {\r\n      onCompleted: data => {\r\n        setDataCharges(data);\r\n      }\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate,\r\n        userType: userType,\r\n        os: os,\r\n        partnerId: partnerId\r\n      }\r\n    });\r\n  }, []);\r\n  const changeDates = val => {\r\n    setPageIndex({ ...pageIndex, fromDate: dates[val], toDate: TODAY });\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        fromDate: dates[val],\r\n        toDate: TODAY,\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        userType: userType,\r\n        os: os,\r\n        partnerId: partnerId\r\n      }\r\n    });\r\n  };\r\n  const handleChangeRangeDates = value => {\r\n    changeDates(value);\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Purchase Item ID\",\r\n      dataIndex: \"partnerChargeCode\",\r\n      key: \"chargeId\",\r\n      width: \"18%\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"UserName\",\r\n      dataIndex: \"user\",\r\n      key: \"userName\",\r\n      width: \"15%\",\r\n      render: val => <span>{val !== null ? val.username : null}</span>\r\n    },\r\n    {\r\n      title: \"C.coin\",\r\n      dataIndex: \"coin\",\r\n      key: \"coin\",\r\n      width: \"15%\"\r\n    },\r\n    {\r\n      title: \"Game\",\r\n      dataIndex: \"partner\",\r\n      key: \"partner\",\r\n      width: \"17%\",\r\n      render: partner => <span>{partner.partnerName}</span>\r\n    },\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"createAt\",\r\n      key: \"createAt\",\r\n      width: \"20%\",\r\n      render: time => (\r\n        <Tooltip title={moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}>\r\n          <span className=\"convert-col\">{moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n        </Tooltip>\r\n      )\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\",\r\n      width: \"15%\",\r\n      render: index => <span className=\"convert-col\">{index === \"INPUT\" ? \"PENDING\" : \"DONE\"}</span>\r\n    }\r\n  ];\r\n  const getValueSearch = e => {\r\n    setPageIndex({ ...pageIndex, search: e.target.value });\r\n  };\r\n  const printOptionDates = listSelectDates.map((val, i) => (\r\n    <Option value={val.variables} key={i}>\r\n      {val.days}\r\n    </Option>\r\n  ));\r\n  if (loading) return \"Loading...\";\r\n  return (\r\n    <>\r\n      <div className=\"products-title\">\r\n        <div>\r\n          <h2>History purchase</h2>\r\n          <div className=\"view-more\">\r\n            <Link to=\"/payment/item/charges/detail\" className=\"btn-view-more\">\r\n              Detail <Icon type=\"double-right\" />\r\n            </Link>\r\n            <Select\r\n              defaultValue=\"SEVENT_DAY_AGO\"\r\n              style={{ width: 120 }}\r\n              onChange={handleChangeRangeDates}\r\n              className=\"select-charges-date\"\r\n            >\r\n              {printOptionDates}\r\n            </Select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {dataPartnerCharges && (\r\n        <Table\r\n          columns={columns}\r\n          dataSource={dataPartnerCharges.listPartnerChargesByType.rows}\r\n          pagination={false}\r\n          //\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ListPartnerCharges;\r\n","import { gql } from \"apollo-boost\";\r\nconst queryGetPlatform =\r\n    gql`\r\n      query {\r\n        listPartners {\r\n          partnerId\r\n          partnerName\r\n        }\r\n      }\r\n    `;\r\n\r\nexport { queryGetPlatform }","import React, { useState, useEffect } from \"react\";\r\nimport moment from \"moment\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryPlatform\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport {\r\n  getListChartCharges,\r\n  getListPartnerCharges\r\n} from \"../../../../utils/query/chart\";\r\nimport { queryGetListPartnerCharges } from \"../../../../utils/queryPartnerProducts\";\r\nimport { optionLine } from \"../../../../utils/configCharts\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon, DatePicker, Input, Select } from \"antd\";\r\nimport { dates } from \"../../../../utils/dateInfo\";\r\nimport { platform } from \"chart.js\";\r\nconst { Option } = Select;\r\n\r\nconst listSelectDates = [\r\n  { days: \"3 days ago\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"7 days ago\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"14 days ago\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"30 days ago\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nconst ChartPartnerCharges = props => {\r\n  const [timeValue, setTimeValue] = useState({\r\n    fromDate: dates.SEVENT_DAY_AGO,\r\n    toDate: dates.TODAY,\r\n    fromDateCustom: null,\r\n    toDateCustom: null\r\n  });\r\n  const [isSelectDates, setIsSelectDates] = useState(false);\r\n  const [dataCharts, setDataCharts] = useState({\r\n    xAxis: [],\r\n    yAxis: []\r\n  });\r\n  const { fromDate, toDate, fromDateCustom, toDateCustom } = timeValue;\r\n  const { TODAY } = dates;\r\n  const [getData] = useLazyQuery(getListPartnerCharges, {\r\n    onCompleted: data => {\r\n      console.log(data)\r\n      setDataCharts({\r\n        xAxis: JSON.parse(data.chartCachePartnerChargeByDates.xAxis),\r\n        yAxis: JSON.parse(data.chartCachePartnerChargeByDates.yAxis)\r\n      });\r\n      let arrCoin = JSON.parse(data.chartCachePartnerChargeByDates.yAxis).map(\r\n        (val, i) => val[0].coin\r\n      );\r\n      const totalCoin = arrCoin.reduce(function (a, b) { return a + b }, 0);\r\n      props.setTotalIndex({ ...props.totalIndex, totalMoney: totalCoin });\r\n    }\r\n  });\r\n  const [getDataPartnerCharges] = useLazyQuery(queryGetListPartnerCharges, {\r\n    onCompleted: data => {\r\n      console.log(data);\r\n      props.setTotalIndex({\r\n        ...props.totalIndex,\r\n        totalPurchase: data.listPartnerChargesByType.count\r\n      });\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getData({\r\n      variables: {\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      }\r\n    });\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: 1,\r\n        type: 1,\r\n        pageSize: 10,\r\n        search: \"\",\r\n        fromDate: fromDate,\r\n        toDate: toDate,\r\n        userType: \"\",\r\n        os: \"\",\r\n        partnerId: \"\"\r\n      }\r\n    });\r\n  }, []);\r\n  const disabledDate = current => {\r\n    if (fromDateCustom != null) {\r\n      return (\r\n        (current &&\r\n          current <\r\n          moment(fromDateCustom)\r\n            .subtract(1, \"days\")\r\n            .endOf(\"day\")) ||\r\n        current > moment().endOf(\"day\")\r\n      );\r\n    }\r\n  };\r\n  const changeDates = val => {\r\n    setTimeValue({ ...timeValue, fromDate: dates[val], toDate: TODAY });\r\n    getData({\r\n      variables: {\r\n        fromDate: dates[val],\r\n        toDate: TODAY\r\n      }\r\n    });\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: 1,\r\n        type: 1,\r\n        pageSize: 10,\r\n        search: \"\",\r\n        fromDate: dates[val],\r\n        toDate: TODAY,\r\n        userType: \"\",\r\n        os: \"\",\r\n        partnerId: \"\"\r\n      }\r\n    });\r\n  };\r\n  const handleChangeRangeDates = value => {\r\n    if (value !== \"5\") {\r\n      changeDates(value);\r\n    }\r\n  };\r\n  const showDateSelect = () => {\r\n    setIsSelectDates(!isSelectDates);\r\n  };\r\n  const changeRangeDates = value => {\r\n    if (fromDateCustom == null) {\r\n      setTimeValue({ ...timeValue, fromDateCustom: value });\r\n    } else {\r\n      setTimeValue({\r\n        ...timeValue,\r\n        toDateCustom: moment(value).format(\"YYYY-MM-DD\")\r\n      });\r\n    }\r\n  };\r\n  const submitDateCustom = () => {\r\n    getData({\r\n      variables: {\r\n        fromDate: fromDateCustom,\r\n        toDate: toDateCustom\r\n      }\r\n    });\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: 1,\r\n        type: 1,\r\n        pageSize: 10,\r\n        search: \"\",\r\n        fromDate: fromDateCustom,\r\n        toDate: toDateCustom,\r\n        userType: \"\",\r\n        os: \"\",\r\n        partnerId: \"\"\r\n      }\r\n    });\r\n    setIsSelectDates(!isSelectDates);\r\n  };\r\n  const convertData = platform => {\r\n    const demo = [];\r\n    const dataAll = dataCharts.yAxis.map((val, i) =>\r\n      val.map((val2, i) => {\r\n        if (val2.partner === platform) {\r\n          demo.push(val2.coin);\r\n        }\r\n      })\r\n    );\r\n    return demo;\r\n  };\r\n  const dataChart = {\r\n    labels: dataCharts.xAxis,\r\n    datasets: [\r\n      {\r\n        label: \"Total\",\r\n        fill: false,\r\n        backgroundColor: \"rgba(75,192,192,0.4)\",\r\n        borderColor: \"rgba(75,192,192,0.4)\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"Total\")\r\n      },\r\n      {\r\n        label: \"3Q Zombie\",\r\n        fill: false,\r\n        backgroundColor: \"#ffd54f\",\r\n        borderColor: \"#ffd54f\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"3Q Zombie\")\r\n      },\r\n      {\r\n        label: \"Lin Qun Ma Thut\",\r\n        fill: false,\r\n        backgroundColor: \"#fcaf18\",\r\n        borderColor: \"#fcaf18\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"Lin Qun Ma Thut\")\r\n      },\r\n      {\r\n        label: \"Wara Store\",\r\n        fill: false,\r\n        backgroundColor: \"#4280ad\",\r\n        borderColor: \"#4280ad\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(\"Wara Store\")\r\n      }\r\n    ]\r\n  };\r\n  const printOptionDates = listSelectDates.map((val, i) => (\r\n    <Option value={val.variables} key={i}>\r\n      {val.days}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"line_chart\">\r\n      <div className=\"chart-charges-title\">\r\n        <h2>Trend</h2>\r\n        <div>\r\n          <Select\r\n            defaultValue=\"SEVENT_DAY_AGO\"\r\n            style={{ width: 120 }}\r\n            onChange={handleChangeRangeDates}\r\n            className=\"select_dates-stats\"\r\n          >\r\n            {printOptionDates}\r\n            <Option value=\"5\" onClick={showDateSelect}>\r\n              Custom...\r\n            </Option>\r\n          </Select>\r\n          {isSelectDates && (\r\n            <div className=\"modal_datepicker-chartCoin\">\r\n              <DatePicker\r\n                allowClear={false}\r\n                disabledDate={disabledDate}\r\n                format=\"YYYY-MM-DD\"\r\n                value={\r\n                  fromDateCustom == null\r\n                    ? null\r\n                    : moment(fromDateCustom, \"YYYY-MM-DD\")\r\n                }\r\n                placeholder=\"StartDate\"\r\n                onChange={e => changeRangeDates(e)}\r\n                className=\"input_date_chart\"\r\n                open={true}\r\n                dropdownClassName=\"calendar-select-chartsCoin\"\r\n                renderExtraFooter={() => (\r\n                  <div className=\"datepicker_footer\">\r\n                    <span\r\n                      onClick={() =>\r\n                        setTimeValue({\r\n                          ...timeValue,\r\n                          fromDateCustom: null,\r\n                          toDateCustom: null\r\n                        })\r\n                      }\r\n                    >\r\n                      CLEAR\r\n                    </span>\r\n                    <span onClick={showDateSelect}>CANCEL</span>\r\n                    <span\r\n                      style={{ color: \"#0085ff\" }}\r\n                      onClick={submitDateCustom}\r\n                    >\r\n                      APPLY\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              />\r\n              <Input\r\n                open={true}\r\n                value={toDateCustom}\r\n                placeholder=\"EndDate\"\r\n                suffix={<Icon type=\"calendar\" style={{ color: \"#9e9e9e\" }} />}\r\n                className=\"input_date_chart\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Line data={dataChart} width={100} height={40} options={optionLine} />\r\n    </div>\r\n  );\r\n};\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    listPartner: state.listPartner\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(ChartPartnerCharges);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Button, Pagination, Input, Row, Col, Icon, Radio } from \"antd\";\r\nimport CreatePartnerItems from \"./createItems\";\r\nimport { deletePartnerProducts } from \"../../../../utils/mutation/partnerProductItems\";\r\nimport { queryGetListPartnerProducts } from \"../../../../utils/queryPartnerProducts\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryPlatform\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ListPartnerChages from \"../partnerCharges/listPartnerCharges\";\r\nimport ChartPartnerChages from \"../partnerCharges/chartPartnerChargesByDate\";\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"30px\",\r\n  lineHeight: \"30px\"\r\n};\r\nfunction ListItems(props) {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    partnerId: \"\",\r\n    partnerProductName: \"\"\r\n  });\r\n  const [listGame, setListGame] = useState([\r\n    { partnerId: \"\", partnerName: \"\" }\r\n  ]);\r\n  const [dataProducts, setData] = useState(null);\r\n  const [itemsForDelete, setItemsForDelete] = useState([]);\r\n  const { currentPage, pageSize, partnerId, partnerProductName } = pageIndex;\r\n  const [getData, { loading }] = useLazyQuery(queryGetListPartnerProducts, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setData(data);\r\n    }\r\n  });\r\n  const [getListGame] = useLazyQuery(queryGetPlatform, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => setListGame(data.listPartners)\r\n  });\r\n  const [deletePartnerProduct] = useMutation(deletePartnerProducts, {\r\n    variables: {\r\n      ids: itemsForDelete\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getListGame();\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        partnerId: partnerId,\r\n        partnerProductName: partnerProductName\r\n      }\r\n    });\r\n  }, []);\r\n  const handleFilter = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        partnerId: partnerId,\r\n        partnerProductName: partnerProductName\r\n      }\r\n    });\r\n  };\r\n  const handleResetFilter = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        partnerId: \"\",\r\n        partnerProductName: \"\"\r\n      }\r\n    });\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Item Id\",\r\n      dataIndex: \"partnerProductId\",\r\n      key: \"productId\",\r\n      width: \"23%\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"productName\",\r\n      key: \"productName\",\r\n      width:\"20%\"\r\n    },\r\n    {\r\n      title: \"Price (C.coin)\",\r\n      dataIndex: \"coin\",\r\n      key: \"coin\",\r\n      width:\"20%\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"Game\",\r\n      dataIndex: \"partner\",\r\n      key: \"partner\",\r\n      width:\"20%\",\r\n      render: index => <span>{index.partnerName}</span>,\r\n      filterDropdown: () => (\r\n        <div style={{ padding: 8 }}>\r\n          <Radio.Group\r\n            onChange={e =>\r\n              setPageIndex({ ...pageIndex, partnerId: e.target.value })\r\n            }\r\n            value={pageIndex.partnerId}\r\n          >\r\n            {printOptionsGame}\r\n          </Radio.Group>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={handleFilter}\r\n            size=\"small\"\r\n            style={{ width: 90, marginRight: 8 }}\r\n          >\r\n            Filter\r\n          </Button>\r\n          <Button\r\n            onClick={handleResetFilter}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n        </div>\r\n      ),\r\n      filterIcon: filtered => (\r\n        <Icon\r\n          type=\"filter\"\r\n          theme=\"filled\"\r\n          style={{ color: filtered ? \"#1890ff\" : \"#fafafa\" }}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      title: \"Action\",\r\n      key: \"action\",\r\n      width:\"17%\",\r\n      render: (text, record) => (\r\n        <span>\r\n          <Link\r\n            to={`/payment/items/edit?partnerProductId=${record.partnerProductId}`}\r\n          >\r\n            Edit\r\n          </Link>\r\n        </span>\r\n      )\r\n    }\r\n  ];\r\n  const rowSelection = {\r\n    onChange: (selectRowsKeys, selectedRows) => {\r\n      const itemsIdForDelete = selectedRows.map(\r\n        (val, index) => val.partnerProductId\r\n      );\r\n      setItemsForDelete(itemsIdForDelete);\r\n    }\r\n  };\r\n  const submitDeletePartnerProduct = async () => {\r\n    await deletePartnerProduct();\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        partnerId: partnerId,\r\n        partnerProductName: partnerProductName\r\n      }\r\n    });\r\n  };\r\n  const hasSelected = itemsForDelete.length > 0;\r\n  const getValueSearch = e => {\r\n    setPageIndex({ ...pageIndex, partnerProductName: e.target.value });\r\n  };\r\n  const onSearch = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        partnerId: partnerId,\r\n        partnerProductName: partnerProductName\r\n      }\r\n    });\r\n  };\r\n  const goPage = val => {\r\n    setPageIndex({ ...pageIndex, currentPage: val });\r\n    getData({\r\n      variables: {\r\n        currentPage: val,\r\n        pageSize: pageSize,\r\n        partnerId: partnerId,\r\n        partnerProductName: partnerProductName\r\n      }\r\n    });\r\n  };\r\n  const printOptionsGame = listGame.map((val, index) => (\r\n    <Radio style={radioStyle} value={val.partnerId} key={index}>\r\n      {val.partnerName}\r\n    </Radio>\r\n  ));\r\n  if (loading)\r\n    return (\r\n      <Col md={12}>\r\n        <p>loading...</p>\r\n      </Col>\r\n    );\r\n  return (\r\n    <>\r\n      <div className=\"products-title\">\r\n        <div>\r\n          <h2>Item managerment</h2>\r\n          <div className=\"view-more\">\r\n            <Link\r\n              to=\"/payment/items\"\r\n              onClick={() => props.setIsCreateItem(true)}\r\n            >\r\n              <Button icon=\"plus\">Add new Item</Button>\r\n              <Button\r\n                disabled={!hasSelected}\r\n                onClick={submitDeletePartnerProduct}\r\n              >\r\n                Delete\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        {/* <div className=\"btn-search-users\">\r\n          <Button disabled={!hasSelected} onClick={submitDeletePartnerProduct}>\r\n            Delete\r\n          </Button>\r\n          <Input\r\n            onChange={e => getValueSearch(e)}\r\n            onPressEnter={onSearch}\r\n            prefix={<Icon type=\"search\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\r\n            placeholder=\"Search by name Item\"/>\r\n        </div>*/}\r\n      </div>\r\n      {dataProducts && (\r\n        <>\r\n          <Table\r\n            rowSelection={rowSelection}\r\n            columns={columns}\r\n            dataSource={dataProducts.listPartnerProductsByPartner.rows}\r\n            pagination={false}\r\n            // scroll={{ x: 1000 }}\r\n          />\r\n          <Pagination\r\n            current={pageIndex.currentPage}\r\n            total={dataProducts.listPartnerProductsByPartner.count}\r\n            pageSize={10}\r\n            onChange={goPage}\r\n            className=\"pagination-listUser\"\r\n          />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ListItems;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Row, Col, Icon, Radio } from \"antd\";\r\nimport CreatePartnerItems from \"./listPartnerProduct/createItems\";\r\nimport ListPartnerChages from \"./partnerCharges/listPartnerCharges\";\r\nimport ChartPartnerChages from \"./partnerCharges/chartPartnerChargesByDate\";\r\nimport ListItems from \"./listPartnerProduct/listItems\";\r\nimport { nFormatter } from \"../../../utils/configCharts\";\r\n\r\nfunction ItemsContainer() {\r\n  const [isCreateItem, setIsCreateItem] = useState(false);\r\n  const [totalIndex, setTotalIndex] = useState({\r\n    totalMoney: 0,\r\n    totalPurchase: 0\r\n  });\r\n  if (isCreateItem)\r\n    return <CreatePartnerItems setIsCreateItem={setIsCreateItem} />;\r\n  if (isCreateItem === false)\r\n    return (\r\n      <Row>\r\n        <Col md={24}>\r\n          <Col md={12} className=\"items-section\">\r\n            <Col md={12} style={{ paddingRight: \".5rem\" }}>\r\n              <h2>C.coin exchange Total</h2>\r\n              <div className=\"total-revenue\">\r\n                <span>{nFormatter(totalIndex.totalMoney)}</span>\r\n                <p>C.Coin</p>\r\n              </div>\r\n            </Col>\r\n            <Col md={12} style={{ paddingLeft: \".5rem\" }}>\r\n              <h2>Total Purchase</h2>\r\n              <div className=\"total-revenue\">\r\n                <span>{nFormatter(totalIndex.totalPurchase)}</span>\r\n                <p>times</p>\r\n              </div>\r\n            </Col>\r\n          </Col>\r\n          <Col md={12} className=\"items-section\">\r\n            <ChartPartnerChages\r\n              totalIndex={totalIndex}\r\n              setTotalIndex={setTotalIndex}\r\n            />\r\n          </Col>\r\n        </Col>\r\n        <Col md={12} className=\"items-section\">\r\n          <ListItems setIsCreateItem={setIsCreateItem} />\r\n        </Col>\r\n        <Col md={12} className=\"items-section\">\r\n          <ListPartnerChages />\r\n        </Col>\r\n      </Row>\r\n    );\r\n}\r\n\r\nexport default ItemsContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Radio,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Select,\r\n  Icon,\r\n  Rate\r\n} from \"antd\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../redux/actions/index\";\r\nimport { alertErrorServer } from '../../../../utils/alertErrorAll'\r\nimport ListImagesForNews from \"../../../news/modalImageUrl/imgsUrl\";\r\nimport { queryGetPaymentType } from \"../../../../utils/queryPaymentAndPromoType\";\r\nimport { queryGetProductById } from \"../../../../utils/queryCoin\";\r\nimport { updateProduct } from \"../../../../utils/mutation/productCoin\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { connect } from 'react-redux'\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\nconst { Option } = Select;\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"24px\",\r\n  lineHeight: \"30px\"\r\n};\r\nfunction EditProductCoin(props) {\r\n  const userName = localStorage.getItem(\"userNameCMS\");\r\n  const query = new URLSearchParams(window.location.search);\r\n  const productId = query.get(\"productId\");\r\n  const [oldDataProduct, setOldDataProduct] = useState({\r\n    statusBtnCancel: false,\r\n    oldData: null\r\n  });\r\n  const [dataProduct, setDataProduct] = useState({\r\n    productName: \"\",\r\n    type: \"\",\r\n    sort: null,\r\n    price: null,\r\n    status: \"\",\r\n    image: \"\"\r\n  });\r\n  const [paymentType, setPaymentType] = useState([{ name: \"\" }])\r\n  const [getData] = useLazyQuery(queryGetProductById, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setDataProduct(data.listProducts[0]);\r\n      setOldDataProduct({ ...oldDataProduct, oldData: data.listProducts[0] });\r\n      dispatchSetUrlImageThumbnail(data.listProducts[0].image)\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const { data } = useQuery(queryGetPaymentType, {\r\n    onCompleted: data => {\r\n      setPaymentType(data.__type.enumValues);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  useEffect(() => {\r\n    getData({\r\n      variables: {\r\n        productId: productId\r\n      }\r\n    });\r\n  }, []);\r\n  const { productName, status, price, sort, type, image } = dataProduct;\r\n  const [updateCoin] = useMutation(updateProduct, {\r\n    variables: {\r\n      productId: productId,\r\n      req: {\r\n        productName: productName,\r\n        sort: Number(sort),\r\n        price: Number(price),\r\n        baseCoin: Number(price),\r\n        type: type,\r\n        status: status,\r\n        image: props.urlImgThumbnail\r\n      }\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const getType = val => {\r\n    setDataProduct({ ...dataProduct, type: val });\r\n  };\r\n  const getNameAndPriceAndSort = e => {\r\n    setDataProduct({ ...dataProduct, [e.target.name]: e.target.value });\r\n    setOldDataProduct({ ...oldDataProduct, statusBtnCancel: false });\r\n  };\r\n  const getStatus = e => {\r\n    setDataProduct({ ...dataProduct, status: e.target.value });\r\n  };\r\n  const submitUpdateCoin = () => {\r\n    let result = updateCoin();\r\n    result.then(val => {\r\n      if (val) {\r\n        alert(\"update thnh cng!\");\r\n        setOldDataProduct({ ...oldDataProduct, statusBtnCancel: true });\r\n      }\r\n    });\r\n  };\r\n  const cancelUpdate = () => {\r\n    setDataProduct(oldDataProduct.oldData);\r\n  };\r\n  const printPaymentTypes = paymentType.map((val, index) => (\r\n    <Option value={val.name} key={index}>\r\n      {val.description}\r\n    </Option>\r\n  ));\r\n  if (dataProduct !== null) {\r\n    return (\r\n      <Row>\r\n        <Link to=\"/payment/coin\">\r\n          <span>\r\n            <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n            Back\r\n          </span>\r\n        </Link>\r\n        <div className=\"products-title\">\r\n          <div>\r\n            <h2>Update C.coin</h2>\r\n            <div>\r\n              <p>\r\n                <Button\r\n                  onClick={cancelUpdate}\r\n                  disabled={oldDataProduct.statusBtnCancel}\r\n                  style={{ marginRight: \".5rem\" }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={submitUpdateCoin}>Update C.coin</Button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Row className=\"products-content\">\r\n          <Col md={12} className=\"section1\">\r\n            <div>\r\n              <div>\r\n                <p className=\"edit-product-content-title\">C.coin Id</p>\r\n                <span>Id: {productId} </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"product-input-update\">\r\n              <span className=\"edit-product-content-title\">C.coin name</span>\r\n              <Input\r\n                value={productName}\r\n                name=\"productName\"\r\n                onChange={getNameAndPriceAndSort}\r\n              ></Input>\r\n              <span className=\"edit-product-content-title\">Price (VN)</span>\r\n              <Input\r\n                value={price}\r\n                type=\"number\"\r\n                max=\"9990000000\"\r\n                name=\"price\"\r\n                onChange={getNameAndPriceAndSort}\r\n              ></Input>\r\n              <div>\r\n                <Col>\r\n                  <span className=\"edit-product-content-title\">Sort</span>\r\n                  <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                    <Input\r\n                      style={{ width: \"4rem\" }}\r\n                      type=\"number\"\r\n                      max=\"10\"\r\n                      min=\"1\"\r\n                      name=\"sort\"\r\n                      onChange={getNameAndPriceAndSort}\r\n                      value={sort}\r\n                    ></Input>\r\n                    <span style={{ paddingLeft: \".2rem\" }}>/10</span>\r\n                  </div>\r\n                </Col>\r\n              </div>\r\n              <div>\r\n                <span className=\"edit-product-content-title\">Image</span>\r\n              </div>\r\n              <div style={{ width: \"100px\" }}>\r\n                <img src={props.urlImgThumbnail} width=\"100%\" />\r\n              </div>\r\n              <div>\r\n                <a onClick={() => dispatchShowImagesNews(true)}>Select</a>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col md={6} className=\"section2\">\r\n            <div>\r\n              <p className=\"edit-product-content-title\">Status</p>\r\n              <Radio.Group value={status} onChange={getStatus}>\r\n                <Radio style={radioStyle} value=\"INPUT\">\r\n                  INPUT\r\n                </Radio>\r\n                <Radio style={radioStyle} value=\"COMPLETE\">\r\n                  COMPLETE\r\n                </Radio>\r\n                <Radio style={radioStyle} value=\"DELETED\">\r\n                  DELETED\r\n                </Radio>\r\n              </Radio.Group>\r\n            </div>\r\n            <div style={{ marginTop: \"1rem\" }}>\r\n              <p className=\"edit-product-content-title\">Create</p>\r\n              <span>\r\n                Admin: <span>{userName}</span>\r\n              </span>\r\n            </div>\r\n          </Col>\r\n          <Col md={6} className=\"section2\">\r\n            <div>\r\n              <p className=\"edit-product-content-title\">Payment Type</p>\r\n              <Select value={type} style={{ width: \"100%\" }} onChange={getType}>\r\n                {printPaymentTypes}\r\n              </Select>\r\n            </div>\r\n          </Col>\r\n          <ListImagesForNews isThumbnail={true} />\r\n        </Row>\r\n      </Row>\r\n    );\r\n  }\r\n  return <p>Loading...</p>;\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(EditProductCoin);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Radio,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Select,\r\n  Icon,\r\n  Rate\r\n} from \"antd\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryNews\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../redux/actions/index\";\r\nimport { connect } from 'react-redux'\r\nimport ListImagesForNews from \"../../../news/modalImageUrl/imgsUrl\";\r\nimport {\r\n  queryGetPartnerProductById,\r\n  queryGetRefPartnerProducts\r\n} from \"../../../../utils/queryPartnerProducts\";\r\nimport { updatePartnerProductItem } from \"../../../../utils/mutation/partnerProductItems\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\nconst { Option } = Select;\r\nconst radioStyle = {\r\n  display: \"block\",\r\n  height: \"24px\",\r\n  lineHeight: \"30px\"\r\n};\r\nfunction EditPartnerProductItem(props) {\r\n  const userName = localStorage.getItem(\"userNameCMS\");\r\n  const query = new URLSearchParams(window.location.search);\r\n  const partnerProductId = query.get(\"partnerProductId\");\r\n  const [oldDataPartnerProduct, setOldDataPartnerProduct] = useState({\r\n    statusBtnCancel: false,\r\n    oldData: null\r\n  });\r\n  const [dataListPlatform, setListPlatform] = useState([]);\r\n  const [dataListRefProduct, setListRefProduct] = useState([]);\r\n  const [dataPartnerProduct, setDataPartnerProduct] = useState({\r\n    productName: \"\",\r\n    partnerId: \"\",\r\n    productId: \"\",\r\n    coin: 0,\r\n    partnerProductName: \"\",\r\n    // promotionId: 0,\r\n    status: \"\",\r\n    image: ''\r\n  });\r\n  useQuery(queryGetPlatform(), {\r\n    onCompleted: dataPartner => {\r\n      setListPlatform(dataPartner.listPartners);\r\n    },\r\n    \r\n  });\r\n  const { data, loading, error, refetch } = useQuery(\r\n    queryGetPartnerProductById,\r\n    {\r\n      variables: {\r\n        partnerProductId: partnerProductId\r\n      },\r\n      onCompleted: data => {\r\n        console.log(data)\r\n        setDataPartnerProduct(data.listPartnerProducts[0]);\r\n        setOldDataPartnerProduct({\r\n          ...oldDataPartnerProduct,\r\n          oldData: data.listPartnerProducts[0]\r\n        });\r\n      }\r\n    }\r\n  );\r\n  const {\r\n    productName,\r\n    status,\r\n    productId,\r\n    coin,\r\n    partnerProductName,\r\n    partnerId,\r\n  } = dataPartnerProduct;\r\n  const [getRefPartnerProduct] = useLazyQuery(\r\n    queryGetRefPartnerProducts(partnerId),\r\n    {\r\n      onCompleted: data => {\r\n        setListRefProduct(data.listRefPartnerProducts);\r\n      }\r\n    }\r\n  );\r\n  useEffect(() => {\r\n    getRefPartnerProduct();\r\n  }, []);\r\n  const [updateItem] = useMutation(updatePartnerProductItem, {\r\n    variables: {\r\n      partnerProductId: partnerProductId,\r\n      req: {\r\n        productName: productName,\r\n        status: status,\r\n        partnerId: partnerId,\r\n        productId: productId,\r\n        coin: Number(coin),\r\n        partnerProductName: partnerProductName,\r\n        // promotionId: Number(promotionId),\r\n        image: props.urlImgThumbnail\r\n      }\r\n    }\r\n  });\r\n  const getNewInfoItem = e => {\r\n    setDataPartnerProduct({\r\n      ...dataPartnerProduct,\r\n      [e.target.name]: e.target.value\r\n    });\r\n    setOldDataPartnerProduct({\r\n      ...oldDataPartnerProduct,\r\n      statusBtnCancel: false\r\n    });\r\n  };\r\n  const getStatus = e => {\r\n    setDataPartnerProduct({ ...dataPartnerProduct, status: e.target.value });\r\n  };\r\n  const submitupdateItem = () => {\r\n    let result = updateItem();\r\n    result.then(val => {\r\n      if (val) {\r\n        alert(\"update thnh cng!\");\r\n        refetch();\r\n        setOldDataPartnerProduct({\r\n          ...oldDataPartnerProduct,\r\n          statusBtnCancel: true\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const cancelUpdate = () => {\r\n    setDataPartnerProduct(oldDataPartnerProduct.oldData);\r\n  };\r\n  const changePartnerName = (value) => {\r\n    setDataPartnerProduct({ ...dataPartnerProduct, partnerId: value });\r\n  }\r\n  const changePartnerProductName = async val => {\r\n    await setDataPartnerProduct({\r\n      ...dataPartnerProduct,\r\n      partnerProductName: JSON.parse(val).productName,\r\n      productId: JSON.parse(val).productId\r\n    });\r\n  };\r\n  const printPlatform = dataListPlatform.map((val, index) => (\r\n    <Option value={val.partnerId} key={index}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  const printRefProduct = dataListRefProduct.map(function (val, index) {\r\n    if (index = 0) {\r\n      return (\r\n        <Option\r\n          value={`{\"productId\":\"${productId}\",\"productName\":\"${partnerProductName}\"}`}\r\n          key={index}\r\n        >\r\n          {partnerProductName}\r\n        </Option>\r\n      );\r\n    } else {\r\n      return (\r\n        <Option\r\n          value={`{\"productId\":\"${val.productId}\",\"productName\":\"${val.productName}\"}`}\r\n          key={index}\r\n        >\r\n          {val.productName}\r\n        </Option>\r\n      );\r\n    }\r\n  });\r\n  if (dataPartnerProduct !== null) {\r\n    return (\r\n      <Row>\r\n        <Link to=\"/payment/items\">\r\n          <span>\r\n            <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n            Danh sch Items\r\n          </span>\r\n        </Link>\r\n        <div className=\"products-title\">\r\n          <div>\r\n            <h2>Update Item</h2>\r\n            <div>\r\n              <p>\r\n                <Button\r\n                  onClick={cancelUpdate}\r\n                  disabled={oldDataPartnerProduct.statusBtnCancel}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button onClick={submitupdateItem}>Update Item</Button>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Row className=\"products-content\">\r\n          <Col md={12} className=\"section1\">\r\n            <div>\r\n              <div>\r\n                <p className=\"edit-product-content-title\">Item Id</p>\r\n                <span style={{paddingLeft:\"1rem\"}}>Id: {partnerProductId} </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"product-input-update\">\r\n              <div>\r\n                <span className=\"edit-product-content-title\">Platform</span>\r\n                <Select\r\n                  value={partnerId}\r\n                  style={{ width: \"100%\" }}\r\n                  onChange={changePartnerName}\r\n                >\r\n                  {printPlatform}\r\n                </Select>\r\n                <span className=\"edit-product-content-title\">\r\n                  ProductId And Name\r\n                </span>\r\n                <Select\r\n                  value={\r\n                    dataListRefProduct.length === 0\r\n                      ? \"\"\r\n                      : `{\"productId\":\"${productId}\",\"productName\":\"${partnerProductName}\"}`\r\n                  }\r\n                  style={{ width: \"100%\", marginTop: \"0\" }}\r\n                  onChange={changePartnerProductName}\r\n                  disabled={dataListRefProduct.length === 0 ? true : false}\r\n                >\r\n                  {printRefProduct}\r\n                </Select>\r\n              </div>\r\n              <span className=\"edit-product-content-title\">Name</span>\r\n              <Input\r\n                value={productName}\r\n                name=\"productName\"\r\n                onChange={getNewInfoItem}\r\n              ></Input>\r\n              <span className=\"edit-product-content-title\">Price (C.coin)</span>\r\n              <Input\r\n                value={coin}\r\n                type=\"number\"\r\n                max=\"9990000000\"\r\n                name=\"coin\"\r\n                onChange={getNewInfoItem}\r\n              ></Input>\r\n              <div>\r\n                <span className=\"edit-product-content-title\">Image</span>\r\n              </div>\r\n              <div style={{ width: \"100px\" }}>\r\n                <img src={props.urlImgThumbnail} width=\"100%\" />\r\n              </div>\r\n              <div>\r\n                <a onClick={() => dispatchShowImagesNews(true)}>\r\n                \r\n                Select</a>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col md={8} className=\"section2\">\r\n            <div>\r\n              <p className=\"edit-product-content-title\">Status</p>\r\n              <Radio.Group value={status} onChange={getStatus}>\r\n                <Radio style={radioStyle} value=\"INPUT\">\r\n                  INPUT\r\n                </Radio>\r\n                <Radio style={radioStyle} value=\"COMPLETE\">\r\n                  COMPLETE\r\n                </Radio>\r\n                <Radio style={radioStyle} value=\"DELETED\">\r\n                  DELETED\r\n                </Radio>\r\n              </Radio.Group>\r\n            </div>\r\n            <div style={{ marginTop: \"1rem\" }}>\r\n              <p className=\"edit-product-content-title\">Create</p>\r\n              <span>\r\n                Admin: <span>{userName}</span>\r\n              </span>\r\n            </div>\r\n          </Col>\r\n          <ListImagesForNews isThumbnail={true} />\r\n        </Row>\r\n      </Row>\r\n    );\r\n  }\r\n  return <p>Loading...</p>;\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(EditPartnerProductItem);\r\n\r\n","import { gql } from \"apollo-boost\";\r\n\r\nconst createPromotion = gql`\r\n  mutation createPromotion($req: PromotionRequest!) {\r\n    createPromotion(req: $req) {\r\n      id\r\n      shop\r\n      name\r\n      eventTime\r\n    }\r\n  }\r\n`;\r\nconst createItemEvent = gql`\r\n  mutation createProduct($req: ProductRequest!) {\r\n    createProduct(req: $req) {\r\n      productName\r\n      productId\r\n      baseCoin\r\n    }\r\n  }\r\n`;\r\nconst createEvent = gql`\r\n  mutation createEvent($req: EventRequest!) {\r\n    createEvent(req: $req) {\r\n      id\r\n      name\r\n      paymentType\r\n    }\r\n  }\r\n`;\r\nconst updatePromotion = gql`\r\n  mutation updatePromotion($id: Int!, $req: PromotionRequest!) {\r\n    updatePromotion(id: $id, req: $req) {\r\n      name\r\n      status\r\n      shop\r\n      eventTime\r\n    }\r\n  }\r\n`;\r\nconst updateEvent = gql`\r\n  mutation updateEvent($id: Int!, $req: EventRequest!) {\r\n    updateEvent(id: $id, req: $req) {\r\n      name\r\n      status\r\n      config\r\n      eventTime\r\n    }\r\n  }\r\n`;\r\nconst deletePromotion = gql`\r\n  mutation deletePromotions($ids: [Int]!) {\r\n    deletePromotions(ids: $ids) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst deleteEvents = gql`\r\n  mutation deleteEvents($ids: [Int]!) {\r\n    deleteEvents(ids: $ids) {\r\n      name\r\n    }\r\n  }\r\n`;\r\nexport {\r\n  createPromotion,\r\n  createItemEvent,\r\n  createEvent,\r\n  updateEvent,\r\n  updatePromotion,\r\n  deletePromotion,\r\n  deleteEvents\r\n};\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport { Modal, Icon } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nconst printAlertDailyPromo = arr => {\r\n  return arr.map(function (val, index) {\r\n    switch (val) {\r\n      case 0:\r\n        return <span key={index}> Monday,</span>;\r\n      case 1:\r\n        return <span key={index}> Tuesday,</span>;\r\n      case 2:\r\n        return <span key={index}> Wednesday,</span>;\r\n      case 3:\r\n        return <span key={index}> Thursday,</span>;\r\n      case 4:\r\n        return <span key={index}> Friday,</span>;\r\n      case 5:\r\n        return <span key={index}> Saturday,</span>;\r\n      case 6:\r\n        return <span key={index}> Sunday,</span>;\r\n      default:\r\n        break;\r\n    }\r\n  });\r\n};\r\nconst daily0 = [\r\n  \"Monday\",\r\n  \"Tuesday\",\r\n  \"Wednesday\",\r\n  \"Thursday\",\r\n  \"Friday\",\r\n  \"Saturday\",\r\n  \"Sunday\"\r\n];\r\nconst isTypeEvent = val => {\r\n  switch (val) {\r\n    case \"INKIND\":\r\n      return \"Gift's out game\";\r\n      break;\r\n    case \"COIN\":\r\n      return \"C.COIN\";\r\n      break;\r\n    default:\r\n      return \"Gift's in Game\";\r\n      break;\r\n  }\r\n};\r\nconst initialIndexShop = [\r\n  {\r\n    purchaseTimes: 1,\r\n    purchaseItemId: [],\r\n    rewards: [\r\n      {\r\n        numb: 1,\r\n        itemId: []\r\n      }\r\n    ]\r\n  }\r\n];\r\nconst initialIndexPromo = {\r\n  eventPaymentType: [],\r\n  namePromo: \"\",\r\n  platformPromoId: \"\",\r\n  server: \"\",\r\n  statusPromo: \"COMPLETE\",\r\n  promoType: \"\",\r\n  timeTotalPromo: [\r\n    moment().format(\"YYYY-MM-DD HH:mm\"),\r\n    moment().format(\"YYYY-MM-DD HH:mm\")\r\n  ],\r\n  datesPromo: [],\r\n  dailyPromo: [],\r\n  startTime: \"00:00:00\",\r\n  endTime: \"23:00:00\"\r\n};\r\nconst initialTypePromo = {\r\n  eventPaymentType: [],\r\n  listGame: [{}],\r\n  listServer: [\r\n    {\r\n      server: 0,\r\n      serverName: \"All server\"\r\n    }\r\n  ],\r\n  listItems: [\r\n    {\r\n      productId: \"\",\r\n      partnerProductId: \"\"\r\n    }\r\n  ]\r\n};\r\nconst initialIndexEventByMoney = {\r\n  paymentTypeByMoney: \"\",\r\n  isPaymentTypeByCoin: false,\r\n  itemsForEventByMoney: [{ productName: \"\", productId: \"\" }]\r\n};\r\nconst checkMainInfoPromoAndEvent = (\r\n  namePromo,\r\n  promoType,\r\n  timeTotalPromo,\r\n  startTime,\r\n  endTime\r\n) => {\r\n  if (\r\n    namePromo != \"\" &&\r\n    promoType != \"\" &&\r\n    startTime !== \"\" &&\r\n    endTime !== \"\" &&\r\n    timeTotalPromo !== \"\"\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\nconst checkPurchaseItemIsEmtry = indexShop => {\r\n  const result = indexShop.map((val, i) => {\r\n    if (val.purchaseItemId.length > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n  return result.every((val, i) => val != false);\r\n};\r\nconst checkRewardsIsEmtry = indexShop => {\r\n  const result = indexShop.map((val, i) => {\r\n    if (val.rewards.length > 0 && val.rewards[0] !== \"\") {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n  return result.every((val, i) => val != false);\r\n};\r\nconst checkItemIsEmtry = indexShop => {\r\n  let demo = [];\r\n  const result1 = indexShop.map((value, i) => {\r\n    const result = value.rewards.map((value2, i) => {\r\n      if (value2.itemId.length > 0) {\r\n        demo.push(true);\r\n      } else {\r\n        demo.push(false);\r\n      }\r\n    });\r\n  });\r\n  return demo.every((val, i) => val != false);\r\n};\r\nconst checkPoint = indexShop => {\r\n  const demo = indexShop.map((val, i) => {\r\n    if (i > 0) {\r\n      return val.point > indexShop[i - 1].point;\r\n    }\r\n  });\r\n  return demo.every((val, i) => val === true || val === undefined);\r\n};\r\nconst checkNumb = indexShop => {\r\n  const demo = indexShop.map((val, i) => {\r\n    if (i > 0) {\r\n      return val.purchaseTimes > indexShop[i - 1].purchaseTimes;\r\n    }\r\n  });\r\n  return demo.every((val, i) => val === true || val === undefined);\r\n};\r\nconst checkTime = startTime => {\r\n  const startTimes = moment(startTime).format(\"x\");\r\n  const now1 = moment().format(\"x\");\r\n  if (Number(now1) - Number(startTimes) > 0) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\nconst checkStartHour = (startTime) => {\r\n  switch (startTime) {\r\n    case '00:00:00':\r\n      return '00:00:00'\r\n    default:\r\n      return startTime;\r\n  }\r\n}\r\nconst checkEndHour = (endTime) => {\r\n  switch (endTime) {\r\n    case '00:00:00':\r\n      return '23:59:59'\r\n    default:\r\n      return endTime;\r\n  }\r\n}\r\nconst alertErrorItemPromo = () => {\r\n  Modal.error({\r\n    title: \"Error !!!\",\r\n    content: (\r\n      <div>\r\n        <p>+ Kim tra thng tin game, server, item, hnh thc.</p>\r\n        <p>+ Gi tr cc mc khuyn mi tng dn.</p>\r\n      </div>\r\n    )\r\n  });\r\n};\r\nconst alertErrorNamePromo = () => {\r\n  Modal.error({\r\n    title: \"Error!!!\",\r\n    content: (\r\n      <div>\r\n        <p>+ Kim tra thng tin tn, trng thi, thi gian.</p>\r\n      </div>\r\n    )\r\n  });\r\n};\r\nconst indexAllServer = {\r\n  server: 0,\r\n  serverName: \"All server\"\r\n}\r\nexport {\r\n  printAlertDailyPromo,\r\n  daily0,\r\n  isTypeEvent,\r\n  initialIndexShop,\r\n  initialIndexEventByMoney,\r\n  initialIndexPromo,\r\n  initialTypePromo,\r\n  checkMainInfoPromoAndEvent,\r\n  checkRewardsIsEmtry,\r\n  checkItemIsEmtry,\r\n  checkPurchaseItemIsEmtry,\r\n  checkPoint,\r\n  checkNumb,\r\n  alertErrorNamePromo,\r\n  alertErrorItemPromo,\r\n  checkTime,\r\n  checkEndHour, checkStartHour,\r\n  indexAllServer\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Button, Input, Row, Col, Select, Icon } from \"antd\";\r\nimport { createPromotion } from \"../../../../../utils/mutation/promotion\";\r\nimport { dispatchSaveIdCreateInUpdate } from \"../../../../../redux/actions/index\";\r\nimport { connect } from 'react-redux'\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nimport {\r\n  checkMainInfoPromoAndEvent,\r\n  checkItemIsEmtry,\r\n  checkPurchaseItemIsEmtry,\r\n  checkNumb,\r\n  alertErrorNamePromo,\r\n  alertErrorItemPromo,\r\n  checkEndHour,\r\n  checkStartHour\r\n} from \"../../promoService\";\r\nconst { Option } = Select;\r\nfunction EventByItems(props) {\r\n  const [itemsForEventTypeItem, setItemForEventTypeItem] = useState([\r\n    { productName: \"\", partnerProductId: \"\" }\r\n  ]);\r\n  const {\r\n    name,\r\n    status,\r\n    type,\r\n    timeTotal,\r\n    dates,\r\n    daily,\r\n    startTime,\r\n    endTime,\r\n    linkUrl\r\n  } = props.indexPromoAndEvent;\r\n  const { platformId, server } = props.indexGameForPromo;\r\n  const { indexShop, isUpdate } = props;\r\n  useQuery(getListPartnerProducts(platformId), {\r\n    onCompleted: data => {\r\n      setItemForEventTypeItem(data.listPartnerProducts);\r\n    }\r\n  });\r\n  const [createPromo] = useMutation(createPromotion, {\r\n    variables: {\r\n      req: {\r\n        name: name,\r\n        type: type,\r\n        status: status,\r\n        game: platformId,\r\n        server: server,\r\n        shop: JSON.stringify(indexShop),\r\n        eventTime: JSON.stringify({\r\n          startTime: timeTotal[0],\r\n          endTime: timeTotal[1],\r\n          dates: dates,\r\n          daily: daily,\r\n          hour: [checkStartHour(startTime), checkEndHour(endTime)]\r\n        }),\r\n        linkUrl: linkUrl,\r\n        imageUrl: props.imageUrl\r\n      }\r\n    },\r\n    onCompleted: data => {\r\n      isUpdate\r\n        ? dispatchSaveIdCreateInUpdate(data.createPromotion.id)\r\n        : console.log(data);\r\n    }\r\n  });\r\n  const submitCreatePromo = async () => {\r\n    if (\r\n      checkMainInfoPromoAndEvent(name, type, timeTotal[0], startTime, endTime)\r\n    ) {\r\n      if (\r\n        checkPurchaseItemIsEmtry(indexShop) &&\r\n        checkNumb(indexShop) &&\r\n        checkItemIsEmtry(indexShop) &&\r\n        server !== \"\" &&\r\n        platformId !== \"\"\r\n      ) {\r\n        await createPromo();\r\n        props.successAlert(true);\r\n      } else {\r\n        alertErrorItemPromo();\r\n      }\r\n    } else {\r\n      alertErrorNamePromo();\r\n    }\r\n  };\r\n\r\n  const addItem = () => {\r\n    const newItem = {\r\n      purchaseTimes: indexShop[indexShop.length - 1].purchaseTimes,\r\n      purchaseItemId: [],\r\n      rewards: [\r\n        {\r\n          numb: 1,\r\n          itemId: []\r\n        }\r\n      ]\r\n    };\r\n    props.setIndexShop([...indexShop, newItem]);\r\n  };\r\n  const reduceItem = async val => {\r\n    if (val !== 0) {\r\n      const newItem = await indexShop.filter((value, index) => index !== val);\r\n      props.setIndexShop(newItem);\r\n    }\r\n  };\r\n  const addReward = async i => {\r\n    const newReward = {\r\n      numb: 1,\r\n      itemId: []\r\n    };\r\n    const newShop = [...indexShop];\r\n    newShop[i].rewards = [...newShop[i].rewards, newReward];\r\n    props.setIndexShop(newShop);\r\n  };\r\n  const reduceReward = async (numberItem, indexReward) => {\r\n    const newShop = [...indexShop];\r\n    if (indexShop[numberItem].rewards.length > 1) {\r\n      const newReward = await indexShop[numberItem].rewards.filter(\r\n        (value, i) => indexReward !== i\r\n      );\r\n      newShop[numberItem].rewards = newReward;\r\n      props.setIndexShop(newShop);\r\n    }\r\n  };\r\n  const handleChooseReward = (positionItem, positionReward, val) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].rewards[positionReward].itemId = val;\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const handleChooseNumbReward = (positionItem, positionReward, e) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].rewards[positionReward].numb =\r\n      e.target.value !== \"\" ? Number(e.target.value) : \"\";\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const handleChooseItem = (positionItem, value) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].purchaseItemId = value;\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const handleChooseNumbItem = (positionItem, e) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].purchaseTimes =\r\n      e.target.value !== \"\" ? Number(e.target.value) : \"\";\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const printListItems = itemsForEventTypeItem.map((val, index) => (\r\n    <Option value={val.partnerProductId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  const printItem = indexShop.map(function (val, index1) {\r\n    const printReward = val.rewards.map((valReward, index2) => (\r\n      <div key={index2} className=\"more-reward\">\r\n        <Icon type=\"minus\" onClick={() => reduceReward(index1, index2)} style={{ fontSize: \"16px\", margin: '0 .25rem' }} />\r\n        <Input\r\n          value={indexShop[index1].rewards[index2].numb}\r\n          type=\"number\"\r\n          name=\"pucharseTimes\"\r\n          onChange={e => handleChooseNumbReward(index1, index2, e)}\r\n          style={{ width: \"20%\" }}\r\n        ></Input>\r\n        <Select\r\n          mode=\"multiple\"\r\n          value={indexShop[index1].rewards[index2].itemId}\r\n          style={{ width: \"80%\" }}\r\n          onChange={value => handleChooseReward(index1, index2, value)}\r\n        >\r\n          {printListItems}\r\n        </Select>{\" \"}\r\n      </div>\r\n    ));\r\n    return (\r\n      <div key={index1}>\r\n        <Col md={12} className='more-items'>\r\n          <Icon type=\"close\" onClick={() => reduceItem(index1)} style={{ fontSize: \"16px\", margin: '0 .25rem' }} />\r\n          <Input\r\n            value={indexShop[index1].purchaseTimes}\r\n            type=\"number\"\r\n            min={index1 > 0 ? indexShop[index1 - 1].purchaseTimes : 0}\r\n            name=\"pucharseTimes\"\r\n            onChange={e => handleChooseNumbItem(index1, e)}\r\n            style={{ width: \"20%\" }}\r\n          ></Input>\r\n          <Select\r\n            value={indexShop[index1].purchaseItemId}\r\n            style={{ width: \"80%\" }}\r\n            onChange={value => handleChooseItem(index1, value)}\r\n          >\r\n            {printListItems}\r\n          </Select>{\" \"}\r\n        </Col>\r\n        <Col md={12} style={{ padding: \"1rem 1rem 1rem .25rem\" }}>\r\n          {printReward}\r\n          <Button onClick={() => addReward(index1)} style={{ marginLeft: '1.5rem' }}>Add more present</Button>\r\n        </Col>\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <div className=\"section4-promotion\">\r\n      <div style={{ width: \"100%\" }} className=\"section4-promotion-title\">\r\n        <div style={{ width: \"50%\", display: \"flex\" }}>\r\n          <div style={{ width: \"20%\" }}>The mount of item</div>\r\n          <div style={{ width: \"80%\" }}>Item</div>\r\n        </div>\r\n        <div style={{ width: \"50%\", display: \"flex\", paddingLeft: \"1.5rem\" }}>\r\n          <div style={{ width: \"20%\" }}>Amount</div>\r\n          <div style={{ width: \"80%\" }}>Present</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"btn-create-promo\">\r\n        <Button onClick={submitCreatePromo}>Xc nhn</Button>\r\n      </div>\r\n      <Row>\r\n        {printItem}\r\n        <Button onClick={() => addItem()} style={{ margin: \"1rem 1.5rem\" }}>Add more conditions</Button>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    imageUrl: state.urlImgThumbnail\r\n  }\r\n}\r\nexport default connect(mapStateToProps, null)(EventByItems);\r\n","import { gql } from \"apollo-boost\";\r\n\r\nconst getListServer = partnerId => {\r\n  return gql`\r\nquery{\r\n    listPartnerServers(partnerId:\"${partnerId}\"){\r\n      server\r\n      serverName\r\n      status\r\n    }\r\n  }\r\n`;\r\n};\r\nconst getListServerByPartner=gql`\r\nquery listPartnerServersByPartner($partnerId:String!){\r\n  listPartnerServersByPartner(partnerId:$partnerId){\r\n    id\r\n    status\r\n    server\r\n    serverName\r\n    createdDate\r\n  }\r\n}\r\n`\r\nconst getListItemsForEvent = gql`\r\n  query {\r\n    listProducts(type: EVENT) {\r\n      productName\r\n      productId\r\n    }\r\n  }\r\n`;\r\nconst getListPromotionByType = gql`\r\n  query listPromotionsByType(\r\n    $currentPage: Int!\r\n    $pageSize: Int!\r\n    $type: String\r\n    $game: String\r\n    $server: Int\r\n    $status: String\r\n    $name: String\r\n  ) {\r\n    listPromotionsByType(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      status: $status\r\n      type: $type\r\n      game: $game\r\n      server: $server\r\n      name: $name\r\n    ) {\r\n      count\r\n      rows {\r\n        name\r\n        type\r\n        status\r\n        eventTime\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst getListEventsByType = gql`\r\n  query listEventsByType(\r\n    $currentPage: Int!\r\n    $pageSize: Int!\r\n    $paymentType: String\r\n    $status: String\r\n    $name: String\r\n  ) {\r\n    listEventsByType(\r\n      currentPage: $currentPage\r\n      pageSize: $pageSize\r\n      paymentType: $paymentType\r\n      status: $status\r\n      name: $name\r\n    ) {\r\n      count\r\n      rows {\r\n        name\r\n        paymentType\r\n        status\r\n        eventTime\r\n        config\r\n        id\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst getDetailPromotion = (promoId) => {\r\n  return gql`\r\nquery {\r\n  listPromotions(id:${promoId}){\r\n    id\r\n    name\r\n    game\r\n    status\r\n    eventTime\r\n    server\r\n    type\r\n    shop\r\n    imageUrl\r\n    linkUrl\r\n  }\r\n}\r\n`}\r\nconst getDetailEvent = (eventId) => {\r\n  return gql`\r\nquery {\r\n  listEvents(id:${eventId}){\r\n    name\r\n    id\r\n    eventTime\r\n    paymentType\r\n    config\r\n    status\r\n    linkUrl\r\n    imageUrl\r\n  }\r\n}\r\n`}\r\nexport {\r\n  getListServer,\r\n  getListItemsForEvent,\r\n  getListPromotionByType,\r\n  getListEventsByType,\r\n  getDetailPromotion,\r\n  getDetailEvent,\r\n  getListServerByPartner\r\n};\r\n","import React, { useState, useMemo, isValidElement } from \"react\";\r\nimport { Button, Input, Row, Col, Select, Modal, Radio, Icon } from \"antd\";\r\nimport moment from \"moment\";\r\nimport {\r\n  createPromotion,\r\n  createItemEvent,\r\n  createEvent\r\n} from \"../../../../../utils/mutation/promotion\";\r\nimport {\r\n  checkMainInfoPromoAndEvent,\r\n  checkRewardsIsEmtry,\r\n  checkPoint,\r\n  alertErrorNamePromo,\r\n  alertErrorItemPromo,\r\n  checkEndHour,\r\n  checkStartHour\r\n} from \"../../promoService\";\r\nimport { dispatchSaveIdCreateInUpdate } from \"../../../../../redux/actions/index\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { connect } from \"react-redux\";\r\nimport { getListItemsForEvent } from \"../../../../../utils/query/promotion\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nconst { Option } = Select;\r\nfunction InputrewardForShowByMoney(props) {\r\n  const { isUpdate } = props;\r\n  const [listItemForEvent, setListItemForEvent] = useState({\r\n    isShow: false,\r\n    itemsForEventTypeMoney: [{ productName: \"\", partnerProductId: \"\" }]\r\n  });\r\n  const [coinEvent, setCoinEvent] = useState([\r\n    { productId: \"\", productName: \"\" }\r\n  ]);\r\n  const {\r\n    name,\r\n    platformId,\r\n    server,\r\n    status,\r\n    promoType,\r\n    timeTotal,\r\n    dates,\r\n    daily,\r\n    startTime,\r\n    endTime,\r\n    linkUrl\r\n  } = props.indexPromoAndEvent;\r\n  const [rowItems, setRowItems] = useState(0);\r\n  const [itemNumb, setItemNumb] = useState(null);\r\n  const [indexShop, setIndexShop] = useState([\r\n    {\r\n      point: 1,\r\n      rewards: []\r\n    }\r\n  ]);\r\n  useQuery(getListItemsForEvent, {\r\n    onCompleted: data => {\r\n      setCoinEvent(data.listProducts);\r\n    }\r\n  });\r\n  const { isShow, itemsForEventTypeMoney } = listItemForEvent;\r\n  const resetInput = useMemo(() => {\r\n    setIndexShop([\r\n      {\r\n        point: 1,\r\n        rewards: []\r\n      }\r\n    ]);\r\n  }, [props.typeEventByMoney]);\r\n  useQuery(getListPartnerProducts(platformId), {\r\n    onCompleted: data => {\r\n      setListItemForEvent({\r\n        ...listItemForEvent,\r\n        itemsForEventTypeMoney: data.listPartnerProducts\r\n      });\r\n      setIndexShop([\r\n        {\r\n          point: 1,\r\n          rewards: []\r\n        }\r\n      ]);\r\n    }\r\n  });\r\n  const [createNewItemEvent] = useMutation(createItemEvent, {\r\n    variables: {\r\n      req: {\r\n        productName: `${itemNumb} coin`,\r\n        type: \"EVENT\",\r\n        status: \"COMPLETE\",\r\n        sort: 0,\r\n        price: itemNumb * 1000,\r\n        baseCoin: Number(itemNumb)\r\n      }\r\n    },\r\n    onCompleted: async data => {\r\n      console.log(data)\r\n      const newItem1 = {\r\n        productName: data.createProduct.productName,\r\n        productId: data.createProduct.productId\r\n      };\r\n      setCoinEvent([...coinEvent, newItem1]);\r\n      const newItem2 = [...indexShop];\r\n      newItem2[rowItems].rewards[0] = data.createProduct.productId;\r\n      setIndexShop(newItem2);\r\n    }\r\n  });\r\n  const [createEventByMoney] = useMutation(createEvent, {\r\n    variables: {\r\n      req: {\r\n        name: name,\r\n        status: status,\r\n        paymentType: props.nameEventByMoney,\r\n        eventTime: JSON.stringify({\r\n          startTime: timeTotal[0],\r\n          endTime: timeTotal[1],\r\n          dates: dates,\r\n          daily: daily,\r\n          hour: [startTime, endTime]\r\n        }),\r\n        config: JSON.stringify({\r\n          type: props.typeEventByMoney,\r\n          data: indexShop\r\n        }),\r\n        linkUrl: linkUrl,\r\n        imageUrl:props.imageUrl\r\n      }\r\n    },\r\n    onCompleted: data => {\r\n      isUpdate\r\n        ? dispatchSaveIdCreateInUpdate(data.createEvent.id)\r\n        : console.log(data);\r\n    }\r\n  });\r\n  const [createEventByMoneyForItem] = useMutation(createEvent, {\r\n    variables: {\r\n      req: {\r\n        name: name,\r\n        status: status,\r\n        paymentType: props.nameEventByMoney,\r\n        eventTime: JSON.stringify({\r\n          startTime: moment(timeTotal[0]).format(\"YYYY-MM-DD hh:mm\"),\r\n          endTime: moment(timeTotal[1]).format(\"YYYY-MM-DD hh:mm\"),\r\n          dates: dates,\r\n          daily: daily,\r\n          hour: [checkStartHour(startTime), checkEndHour(endTime)]\r\n        }),\r\n        config: JSON.stringify({\r\n          game: platformId,\r\n          server: server,\r\n          type: props.typeEventByMoney,\r\n          data: indexShop\r\n        }),\r\n        linkUrl: linkUrl,\r\n        imageUrl: props.imageUrl\r\n      }\r\n    },\r\n    onCompleted: data => {\r\n      isUpdate\r\n        ? dispatchSaveIdCreateInUpdate(data.createEvent.id)\r\n        : console.log(data);\r\n    }\r\n  });\r\n  const submitCreateEvent = async () => {\r\n    if (\r\n      checkMainInfoPromoAndEvent(\r\n        name,\r\n        props.nameEventByMoney,\r\n        timeTotal[0],\r\n        startTime,\r\n        endTime\r\n      )\r\n    ) {\r\n      if (props.nameEventByMoney === \"MONEY\") {\r\n        if (checkRewardsIsEmtry(indexShop) && checkPoint(indexShop)) {\r\n          await createEventByMoney();\r\n          props.successAlert(true);\r\n        } else {\r\n          alertErrorItemPromo();\r\n        }\r\n      } else if (props.nameEventByMoney === \"COIN\") {\r\n        if (\r\n          checkRewardsIsEmtry(indexShop) &&\r\n          checkPoint(indexShop) &&\r\n          platformId !== \"\" &&\r\n          server !== \"\"\r\n        ) {\r\n          await createEventByMoneyForItem();\r\n          props.successAlert(true);\r\n        } else {\r\n          alertErrorItemPromo();\r\n        }\r\n      }\r\n    } else {\r\n      alertErrorNamePromo();\r\n    }\r\n  };\r\n  const addItem = () => {\r\n    const newItem = {\r\n      point: indexShop[indexShop.length - 1].point,\r\n      rewards: []\r\n    };\r\n    setIndexShop([...indexShop, newItem]);\r\n  };\r\n  const reduceItem = async val => {\r\n    if (val !== 0) {\r\n      const newItem = await indexShop.filter((value, index) => index !== val);\r\n      setIndexShop(newItem);\r\n    }\r\n  };\r\n  const handleChooseItem = (positionItem, value) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].rewards = value;\r\n    setIndexShop(newItem);\r\n  };\r\n  const handleChooseNumbItem = (positionItem, e) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].point =\r\n      e.target.value !== \"\" ? Number(e.target.value) : \"\";\r\n    setIndexShop(newItem);\r\n  };\r\n  const handleChooseIsKind = (positionItem, e) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].rewards[0] = e.target.value;\r\n    setIndexShop(newItem);\r\n  };\r\n  const setCoinForEventTypeMoney = e => {\r\n    const newItem = [...indexShop];\r\n    newItem[rowItems].rewards = [e.target.value];\r\n    setIndexShop(newItem);\r\n    setItemNumb(null);\r\n  };\r\n  const submitCreateItem = async () => {\r\n    if (itemNumb !== null) {\r\n      createNewItemEvent();\r\n      setListItemForEvent({ ...listItemForEvent, isShow: false });\r\n    }\r\n  };\r\n  const showModal = async val => {\r\n    setListItemForEvent({ ...listItemForEvent, isShow: true });\r\n    setRowItems(val);\r\n    setItemNumb(null);\r\n  };\r\n  const printListItems = itemsForEventTypeMoney.map((val, index) => (\r\n    <Option value={val.partnerProductId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  const printListItemsEvent = coinEvent.map((val, index) => (\r\n    <Option value={val.productId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  const printItemsForEventTypeMoney = coinEvent.map((val, i) => (\r\n    <Col span={24} key={i}>\r\n      <Radio\r\n        style={{ display: \"block\", height: \"30px\", lineHeight: \"30px\" }}\r\n        value={val.productId}\r\n      >\r\n        {val.productName}\r\n      </Radio>\r\n    </Col>\r\n  ));\r\n  const printItem = indexShop.map(function (val, index1) {\r\n    return (\r\n      <div\r\n        key={index1}\r\n        style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"1rem\" }}\r\n      >\r\n        <div style={{ width: \"15%\", display: \"flex\", alignItems: \"center\" }}>\r\n          <span style={{ marginRight: \".2rem\" }}>From</span>\r\n          <Input\r\n            value={indexShop[index1].point}\r\n            min={index1 > 0 ? indexShop[index1 - 1].point : 0}\r\n            type=\"number\"\r\n            name=\"pucharseTimes\"\r\n            onChange={e => handleChooseNumbItem(index1, e)}\r\n          ></Input>\r\n          <span style={{ marginLeft: \".2rem\" }}>\r\n            {props.nameEventByMoney === \"MONEY\" ? \"VN\" : \"C.COIN\"}\r\n          </span>\r\n        </div>\r\n        <div className=\"promo-input-item-input\">\r\n          {props.typeEventByMoney === \"INKIND\" && (\r\n            <div className='promo-input-coin-event'>\r\n              <Input\r\n                value={indexShop[index1].rewards[0]}\r\n                placeholder=\"-Input name of gift out game-\"\r\n                name=\"pucharseTimes\"\r\n                onChange={e => handleChooseIsKind(index1, e)}\r\n                style={{ width: \"45%\" }}\r\n              ></Input>\r\n              <Icon\r\n                type=\"close\"\r\n                onClick={() => reduceItem(index1)}\r\n                style={{ fontSize: \"16px\", margin: \"0 .25rem\" }}\r\n              />\r\n            </div>\r\n          )}\r\n          {props.typeEventByMoney === \"COIN\" && (\r\n            <div className='promo-input-coin-event'>\r\n              <div style={{ width: \"35%\", display: \"flex\", alignItems: \"center\" }}>\r\n                <Select\r\n                  value={indexShop[index1].rewards[0]}\r\n                  dropdownClassName=\"dropdown-coin-event\"\r\n                  showArrow={false}\r\n                  style={{ width: \"90%\" }}\r\n                  className=\"select-coin-event\"\r\n                >\r\n                  {printListItemsEvent}\r\n                </Select>{\" \"}\r\n                <Icon type=\"menu\" onClick={() => showModal(index1)} style={{ fontSize: \"24px\", margin: \"0 .25rem\" }} />\r\n              </div>\r\n              <Icon\r\n                type=\"close\"\r\n                onClick={() => reduceItem(index1)}\r\n                style={{ fontSize: \"16px\", margin: \"0 .25rem\" }}\r\n              />\r\n            </div>\r\n          )}\r\n          {props.typeEventByMoney === \"ITEM\" && (\r\n            <div className='promo-input-coin-event'>\r\n              <Select\r\n                mode=\"multiple\"\r\n                value={indexShop[index1].rewards}\r\n                style={{ width: \"80%\" }}\r\n                onChange={value => handleChooseItem(index1, value)}\r\n              >\r\n                {printListItems}\r\n              </Select>{\" \"}\r\n              <Icon\r\n                type=\"close\"\r\n                onClick={() => reduceItem(index1)}\r\n                style={{ fontSize: \"16px\", margin: \"0 .25rem\" }}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <div className=\"section4-promotion\">\r\n      <div style={{ width: \"100%\" }} className=\"section4-promotion-title\">\r\n        <div className=\"promo-input-title-numb\">\r\n          <span>Total price of purchase from</span>\r\n        </div>\r\n        <div className=\"promo-input-title-item\">\r\n          <span>Gift's out game</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"btn-create-promo\">\r\n        <Button>Cancel</Button>\r\n        <Button onClick={submitCreateEvent}>Submit</Button>\r\n      </div>\r\n      <Row className=\"promo-input-item\">\r\n        {printItem}\r\n        <Button onClick={() => addItem()}>Add more conditions</Button>\r\n      </Row>\r\n      <Modal\r\n        title=\"Choose C.coin package\"\r\n        centered\r\n        visible={isShow}\r\n        onOk={() => setListItemForEvent({ ...listItemForEvent, isShow: false })}\r\n        onCancel={() =>\r\n          setListItemForEvent({ ...listItemForEvent, isShow: false })\r\n        }\r\n      >\r\n        <div className=\"input-coin-event-money\">\r\n          <Input\r\n            type=\"number\"\r\n            min=\"0\"\r\n            placeholder=\"Input volume c.coin package...\"\r\n            value={itemNumb}\r\n            onChange={e => setItemNumb(e.target.value)}\r\n          ></Input>\r\n          <Button onClick={submitCreateItem}>Submit</Button>\r\n        </div>\r\n        <Radio.Group onChange={e => setCoinForEventTypeMoney(e)}>\r\n          {printItemsForEventTypeMoney}\r\n        </Radio.Group>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    typeEventByMoney: state.typeEventByMoney,\r\n    nameEventByMoney: state.nameEventByMoney,\r\n    imageUrl: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(InputrewardForShowByMoney);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Pagination,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Radio,\r\n  DatePicker,\r\n  Select,\r\n  TimePicker\r\n} from \"antd\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../../../../static/style/promotion.css\";\r\nimport {\r\n  getPromotionType,\r\n  getEventPaymentType\r\n} from \"../../../../../utils/queryPaymentAndPromoType\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { getListServer } from \"../../../../../utils/query/promotion\";\r\nimport { indexAllServer } from \"../../promoService\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  dispatchTypeEventByMoney,\r\n  dispatchNameEventByMoney\r\n} from \"../../../../../redux/actions\";\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst eventMoneyType = [\r\n  {\r\n    value: \"COIN\",\r\n    description: \"C.Coin\"\r\n  },\r\n  {\r\n    value: \"INKIND\",\r\n    description: \"Gift's out game\"\r\n  }\r\n];\r\nconst eventCointype = [\r\n  {\r\n    value: \"ITEM\",\r\n    description: \"Gift's in game\"\r\n  }\r\n];\r\nconst MenuRewardEventByMoney = props => {\r\n  const { server } = props;\r\n  const { listGame } = props.listPartner;\r\n  const { platformId } = props.indexPromoAndEvent;\r\n  const [eventByMoneyIndex, setEventByMoneyIndex] = useState({\r\n    eventType: [],\r\n    eventPaymentType: [],\r\n    value: \"\"\r\n  });\r\n  const [listServer, setListServer] = useState([indexAllServer]);\r\n  const { eventType, eventPaymentType, value } = eventByMoneyIndex;\r\n  useQuery(getEventPaymentType, {\r\n    onCompleted: data =>{\r\n      console.log(data)\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventType: data.__type.enumValues\r\n      })\r\n    }\r\n  });\r\n  useQuery(getListServer(platformId), {\r\n    onCompleted: data => {\r\n      setListServer([...data.listPartnerServers, indexAllServer]);\r\n    }\r\n  });\r\n  useMemo(() => {\r\n    dispatchNameEventByMoney(\"MONEY\");\r\n    setEventByMoneyIndex({\r\n      ...eventByMoneyIndex,\r\n      eventPaymentType: eventMoneyType,\r\n      value: \"INKIND\"\r\n    });\r\n    dispatchTypeEventByMoney(\"INKIND\");\r\n    props.setIndexEventByMoney({\r\n      ...props.indexEventByMoney,\r\n      isPaymentTypeByCoin: false\r\n    });\r\n  }, [props.switchTypeEvent]);\r\n  const handleChangePaymentType = async val => {\r\n    if (val === \"MONEY\") {\r\n      dispatchNameEventByMoney(val);\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventPaymentType: eventMoneyType,\r\n        value: \"INKIND\"\r\n      });\r\n      dispatchTypeEventByMoney(\"INKIND\");\r\n      props.setIndexEventByMoney({\r\n        ...props.indexEventByMoney,\r\n        isPaymentTypeByCoin: false\r\n      });\r\n    } else if (val === \"COIN\") {\r\n      dispatchNameEventByMoney(val);\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventPaymentType: eventCointype,\r\n        value: \"ITEM\"\r\n      });\r\n      dispatchTypeEventByMoney(\"ITEM\");\r\n      props.setIndexEventByMoney({\r\n        ...props.indexEventByMoney,\r\n        isPaymentTypeByCoin: true\r\n      });\r\n    }\r\n  };\r\n  const handleChanePaymentTypeByMoney = async val => {\r\n    if (val === \"COIN\") {\r\n      // props.getItemsForEventTypeMoney();\r\n    }\r\n    await setEventByMoneyIndex({ ...eventByMoneyIndex, value: val });\r\n    dispatchTypeEventByMoney(val);\r\n  };\r\n  const printEventMoneyType = eventPaymentType.map((val, i) => (\r\n    <Option key={i} value={val.value}>\r\n      {val.description}\r\n    </Option>\r\n  ));\r\n  const printEventType = eventType.map((val, index) => (\r\n    <Option key={index} value={val.name}>\r\n      By {val.name} ( {val.name} exchange)\r\n    </Option>\r\n  ));\r\n  const printPlatform = props.listPartners.map((val, i) => (\r\n    <Option value={val.partnerId} key={i}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  const printListServer = listServer.map((val, index) => (\r\n    <Option value={val.server} key={index}>\r\n      {val.serverName}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"promo-section2\">\r\n      <div className=\"promo-choose-platform\">\r\n        <div>\r\n          <div className=\"promo-choose-platform-name\">\r\n            <p>Type of Purchase</p>\r\n            <Select\r\n              style={{ width: \"64%\" }}\r\n              onChange={handleChangePaymentType}\r\n              placeholder=\"-Chn game-\"\r\n              value={props.nameEventByMoney}\r\n            >\r\n              {printEventType}\r\n            </Select>{\" \"}\r\n          </div>\r\n          <div className=\"promo-choose-platform-server\">\r\n            <span>Type of present: </span>\r\n            <Select\r\n              value={value}\r\n              style={{ width: \"65%\" }}\r\n              onChange={handleChanePaymentTypeByMoney}\r\n            >\r\n              {printEventMoneyType}\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        {props.indexEventByMoney.isPaymentTypeByCoin && (\r\n          <div style={{ width: \"100%\" }}>\r\n            <div className=\"promo-choose-platform-name\">\r\n              <p className=\"promotion-title-field\">Platform</p>\r\n              <Select\r\n                style={{ width: \"65%\" }}\r\n                onChange={props.handleChangePlatform}\r\n                placeholder=\"-Choose Platform-\"\r\n              >\r\n                {printPlatform}\r\n              </Select>{\" \"}\r\n            </div>\r\n            <div className=\"promo-choose-platform-server\">\r\n              <span>Server</span>\r\n              <Select\r\n                placeholder=\"-Chn server-\"\r\n                style={{ width: \"65%\" }}\r\n                onChange={props.handleChangeServer}\r\n                name=\"server\"\r\n                value={server}\r\n              >\r\n                {printListServer}\r\n              </Select>{\" \"}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    typeEventByMoney: state.typeEventByMoney,\r\n    nameEventByMoney: state.nameEventByMoney,\r\n    listPartners: state.listPartner\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(MenuRewardEventByMoney);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Radio,\r\n  DatePicker,\r\n  Select,\r\n  TimePicker,\r\n  Button\r\n} from \"antd\";\r\nimport moment from \"moment\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../../../static/style/promotion.css\";\r\nimport EventByItems from \"./promotion/inputRewardItem\";\r\nimport InputRewardByMoney from \"./event/inputReward\";\r\nimport MenuRewardEventByMoney from \"./event/menuReward\";\r\nimport {\r\n  getPromotionType,\r\n  getEventPaymentType\r\n} from \"../../../../utils/queryPaymentAndPromoType\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryPlatform\";\r\nimport { getListPartnerProducts } from \"../../../../utils/queryPartnerProducts\";\r\nimport { getListServer } from \"../../../../utils/query/promotion\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { printAlertDailyPromo, daily0 } from \"../promoService\";\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nfunction InputNameAndTypeArea(props) {\r\n  const { switchTypeEvent } = props;\r\n  const { name, status } = props.indexPromoAndEvent;\r\n  return (\r\n    <div>\r\n      <h3 className=\"promotion-title-field\">Promotion Name</h3>\r\n      <Input\r\n        placeholder=\"Ex: Promotion for open new server...\"\r\n        onChange={props.setInfoPromo}\r\n        name=\"name\"\r\n        value={name}\r\n      ></Input>\r\n      <div className=\"promotion-title-status\">\r\n        <h3>Status</h3>\r\n        <Radio.Group onChange={props.setInfoPromo} value={status} name=\"status\">\r\n          <Radio value=\"COMPLETE\">Active</Radio>\r\n          <Radio value=\"INPUT\">Plan</Radio>\r\n        </Radio.Group>\r\n      </div>\r\n      <h3>Method</h3>\r\n      <Radio.Group\r\n        disabled={props.isTimeInPromo ? props.isTimeInPromo : false}\r\n        value={switchTypeEvent}\r\n        buttonStyle=\"solid\"\r\n        onChange={e => {\r\n          props.setSwitchTypeEvent(e.target.value);\r\n          props.resetGameAndServer();\r\n        }}\r\n        className=\"promotion-choose-typeEvent\"\r\n      >\r\n        <Radio.Button value={false}>Promotion for purchase</Radio.Button>\r\n        <Radio.Button value={true}>Promotion for Item</Radio.Button>\r\n      </Radio.Group>\r\n    </div>\r\n  );\r\n}\r\n// /////\r\nfunction InputTimeArea(props) {\r\n  const [isOpenTimePicker, setIsOpenTime] = useState(false);\r\n  const {\r\n    dates,\r\n    daily,\r\n    server,\r\n    startTime,\r\n    endTime,\r\n    timeTotal\r\n  } = props.indexPromoAndEvent;\r\n  const alertDaily = printAlertDailyPromo(daily);\r\n  const printAlertDates = dates.map((val, i) => <>{val}rd, </>);\r\n  // const printAlertTimeTotalPromo = timeTotalAlert.map((val, i) => <>{val}</>);\r\n  const childrenDates = [];\r\n  for (let i = 1; i <= 31; i++) {\r\n    childrenDates.push(\r\n      <Option key={i} value={i}>\r\n        {i < 10 ? \"0\" + i : i}\r\n      </Option>\r\n    );\r\n  }\r\n  const childrenDaily = daily0.map((val, index) => (\r\n    <Option key={index} value={index}>\r\n      {val}\r\n    </Option>\r\n  ));\r\n  const disabledEndDate = endValue => {\r\n    const startValue = moment(timeTotal[0]).format(\"x\");\r\n    return endValue.valueOf() <= Number(startValue);\r\n  };\r\n  const pickAllDay = () => {\r\n    setIsOpenTime(false);\r\n    props.pickAllDay();\r\n  };\r\n  const openPickTime = () => {\r\n    setIsOpenTime(true);\r\n  };\r\n  const closePickTime = () => {\r\n    setIsOpenTime(false);\r\n  };\r\n  return (\r\n    <Col md={12} className=\"section2-promotion\">\r\n      <div>\r\n        <h3 className=\"promotion-title-field\">Set timeline </h3>\r\n        <div className=\"section2-promotion-pickTime\">\r\n          <h3 style={{ width: \"25%\" }}>Time: </h3>\r\n          <div style={{ width: \"75%\" }}>\r\n            <DatePicker\r\n              showTime={{ format: \"HH:mm\" }}\r\n              format=\"YYYY-MM-DD HH:mm\"\r\n              defaultValue={moment(timeTotal[0], \"YYYY-MM-DD HH:mm\")}\r\n              placeholder=\"Start\"\r\n              style={{ width: \"49.5%\", marginRight: \".5%\", minWidth: \"0\" }}\r\n              allowClear={false}\r\n              onChange={props.handleStartTimeTotal}\r\n              disabled={props.isTimeInPromo}\r\n            />\r\n            <DatePicker\r\n              disabledDate={disabledEndDate}\r\n              style={{ width: \"49.5%\", marginLeft: \".5%\", minWidth: \"0\" }}\r\n              showTime={{ format: \"HH:mm\" }}\r\n              format=\"YYYY-MM-DD HH:mm\"\r\n              defaultValue={moment(timeTotal[1], \"YYYY-MM-DD HH:mm\")}\r\n              placeholder=\"End\"\r\n              allowClear={false}\r\n              onChange={props.handleEndTimeTotal}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"section2-promotion-pickTime\">\r\n          <h3 style={{ width: \"25%\" }}>By day of the month: </h3>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: \"75%\" }}\r\n            placeholder=\"- Choose what day of the month the promotion is...\"\r\n            onChange={props.handleChangeDates}\r\n            disabled={daily.length !== 0 ? true : false}\r\n            value={dates}\r\n          >\r\n            {childrenDates}\r\n          </Select>\r\n        </div>\r\n        <div className=\"section2-promotion-pickTime\">\r\n          <h3 style={{ width: \"25%\" }}>By day of the week:</h3>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: \"75%\" }}\r\n            placeholder=\"- Choose what day of the week the promotion is...\"\r\n            onChange={props.handleChangeDaily}\r\n            disabled={dates.length !== 0 ? true : false}\r\n            value={daily}\r\n          >\r\n            {childrenDaily}\r\n          </Select>\r\n        </div>\r\n        <div className=\"section2-promotion-pickTime\">\r\n          <h3 style={{ width: \"25%\" }}>By hours of the day:</h3>\r\n          <div style={{ width: \"75%\" }}>\r\n            <TimePicker\r\n              allowClear={false}\r\n              open={isOpenTimePicker}\r\n              minuteStep={10}\r\n              format=\"HH:mm\"\r\n              placeholder=\"- Gi bt u\"\r\n              onOpenChange={openPickTime}\r\n              onChange={(time, timeString) =>\r\n                props.setTimePromo(timeString, \"startTime\")\r\n              }\r\n              value={startTime === \"\" ? null : moment(startTime, \"HH:mm\")}\r\n              style={{ width: \"49.5%\", marginRight: \".5%\" }}\r\n              addon={() => (\r\n                <Button size=\"small\" type=\"primary\" onClick={pickAllDay}>\r\n                  24h\r\n                </Button>\r\n              )}\r\n            />\r\n            <TimePicker\r\n              open={isOpenTimePicker}\r\n              allowClear={false}\r\n              minuteStep={10}\r\n              value={endTime === \"\" ? null : moment(endTime, \"HH:mm\")}\r\n              style={{ width: \"49.5%\", marginLeft: \".5%\" }}\r\n              format={\"HH:mm\"}\r\n              placeholder=\"- Gi kt thc\"\r\n              onOpenChange={openPickTime}\r\n              onChange={(time, timeString) => {\r\n                props.setTimePromo(timeString, \"endTime\");\r\n              }}\r\n              addon={() => (\r\n                <div className=\"pickTime-footer\">\r\n                  <Button size=\"small\" type=\"primary\" onClick={pickAllDay}>\r\n                    24h\r\n                  </Button>\r\n                  <a onClick={closePickTime}>close</a>\r\n                </div>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"section2-promotion-footer\">\r\n       Promotion's timeline will be on {\" \"}\r\n        {endTime === \"00:00:00\" ? \"\" : `${startTime} to ${endTime}`} {alertDaily}\r\n        {printAlertDates} from {timeTotal[0]} to {timeTotal[1]}\r\n      </div>\r\n    </Col>\r\n  );\r\n}\r\nexport { InputTimeArea, InputNameAndTypeArea };\r\n","import React, { Component, useState } from \"react\";\r\nimport { Select } from \"antd\";\r\nimport { getPromotionType } from \"../../../../../utils/queryPaymentAndPromoType\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport { getListServer } from \"../../../../../utils/query/promotion\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { connect } from \"react-redux\";\r\nimport { indexAllServer } from \"../../promoService\";\r\nconst { Option } = Select;\r\n\r\nfunction MenuRewardByItem(props) {\r\n  const { platformId, server } = props.indexGameForPromo;\r\n  const { type } = props.indexPromoAndEvent;\r\n  const [listGame, setListGame] = useState([{}]);\r\n  const [listServer, setListServer] = useState([indexAllServer]);\r\n  const [listTypePromo, setListTypePromo] = useState([\r\n    { name: \"\", description: \"\" }\r\n  ]);\r\n  useQuery(getPromotionType, {\r\n    onCompleted: data => {\r\n      setListTypePromo(data.__type.enumValues);\r\n    }\r\n  });\r\n  useQuery(queryGetPlatform, {\r\n    onCompleted: data => {\r\n      setListGame(data.listPartners);\r\n    }\r\n  });\r\n  useQuery(getListServer(platformId), {\r\n    onCompleted: data => {\r\n      setListServer([...data.listPartnerServers, indexAllServer]);\r\n    }\r\n  });\r\n  const printPromoType = listTypePromo.map((val, index) => (\r\n    <Option value={val.name} key={index}>\r\n      {val.description}\r\n    </Option>\r\n  ));\r\n  const printPlatform = props.listPartners.map((val, i) => (\r\n    <Option value={val.partnerId} key={i}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  const printListServer = listServer.map((val, index) => (\r\n    <Option value={val.server} key={index}>\r\n      {val.serverName}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"promo-section2\">\r\n      <div className=\"promo-choose-platform\">\r\n        <div>\r\n          <div className=\"promo-choose-platform-name\">\r\n            <p>Platform:</p>\r\n            <Select\r\n              style={{ width: \"65%\" }}\r\n              onChange={props.handleChangePlatformPromo}\r\n              placeholder=\"-Chn game-\"\r\n              value={platformId}\r\n            >\r\n              {printPlatform}\r\n            </Select>{\" \"}\r\n          </div>\r\n          <div className=\"promo-choose-platform-server\">\r\n            <p>Server:</p>\r\n            <Select\r\n              placeholder=\"-Chn server-\"\r\n              style={{ width: \"65%\" }}\r\n              onChange={props.handleChangeServerPromo}\r\n              name=\"server\"\r\n              value={server}\r\n            >\r\n              {printListServer}\r\n            </Select>{\" \"}\r\n          </div>\r\n        </div>\r\n        <div className=\"promo-choose-platform-name\">\r\n          <p>Type of present :</p>\r\n          <Select\r\n            style={{ width: \"65%\" }}\r\n            onChange={props.handleChangeTypePromo}\r\n            placeholder=\"-Tng qu-\"\r\n            value={type}\r\n          >\r\n            {printPromoType}\r\n          </Select>{\" \"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    listPartners: state.listPartner\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(MenuRewardByItem);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Row, Col, Modal, Icon, Input } from \"antd\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../../../static/style/promotion.css\";\r\nimport EventByItems from \"./promotion/inputRewardItem\";\r\nimport InputRewardByMoney from \"./event/inputReward\";\r\nimport MenuRewardEventByMoney from \"./event/menuReward\";\r\nimport ListImagesForNews from \"../../../news/modalImageUrl/imgsUrl\";\r\nimport {\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../redux/actions/index\";\r\nimport { InputNameAndTypeArea, InputTimeArea } from \"./nameAndTimePromo\";\r\nimport { dispatchSwitchCreatePromo } from \"../../../../redux/actions/index\";\r\nimport MenuRewardByItem from \"./promotion/menuRewardItem\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryPlatform\";\r\nimport { getListPartnerProducts } from \"../../../../utils/queryPartnerProducts\";\r\nimport { connect } from 'react-redux'\r\nimport moment from \"moment\";\r\nimport {\r\n  initialIndexEventByMoney,\r\n  initialIndexPromo,\r\n  initiallistPartner\r\n} from \"../promoService\";\r\nimport {\r\n  getListServer,\r\n  getListItemsForEvent\r\n} from \"../../../../utils/query/promotion\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nconst initialIndexShop = [\r\n  {\r\n    purchaseTimes: 1,\r\n    purchaseItemId: [],\r\n    rewards: [\r\n      {\r\n        numb: 1,\r\n        itemId: []\r\n      }\r\n    ]\r\n  }\r\n];\r\nfunction CreatePromotion(props) {\r\n  const [switchTypeEvent, setSwitchTypeEvent] = useState(true);\r\n  const [indexPromoAndEvent, setIndexPromoAndEvent] = useState({\r\n    name: \"\",\r\n    platformId: \"\",\r\n    server: \"\",\r\n    status: \"INPUT\",\r\n    type: \"\",\r\n    typeEvent: \"\",\r\n    timeTotal: [\r\n      moment()\r\n        .format(\"YYYY-MM-DD HH:mm:ss\"),\r\n      moment()\r\n        .format(\"YYYY-MM-DD HH:mm:ss\")\r\n    ],\r\n    dates: [],\r\n    daily: [],\r\n    startTime: \"00:00:00\",\r\n    endTime: \"00:00:00\",\r\n    linkUrl: null\r\n  });\r\n  const [indexGameForPromo, setIndexGameForPromo] = useState({\r\n    platformId: \"\",\r\n    server: \"\"\r\n  });\r\n  const [listPartner, setListPartner] = useState({\r\n    listGame: [{}],\r\n    listServer: [\r\n      {\r\n        server: 0,\r\n        serverName: \"All server\"\r\n      }\r\n    ],\r\n    listItems: [\r\n      {\r\n        productId: \"\",\r\n        partnerProductId: \"\"\r\n      }\r\n    ]\r\n  });\r\n  const [indexEventByMoney, setIndexEventByMoney] = useState({\r\n    paymentTypeByMoney: \"\",\r\n    isPaymentTypeByCoin: false,\r\n    itemsForEventByMoney: [{ productName: \"\", productId: \"\" }]\r\n  });\r\n  const [indexShop, setIndexShop] = useState(initialIndexShop);\r\n  useEffect(() => {\r\n    dispatchSetUrlImageThumbnail(null);\r\n  }, []);\r\n  const isTimeInPromo = null;\r\n  const { platformId, status, server, linkUrl } = indexPromoAndEvent;\r\n  const { listGame, listItems, listServer } = listPartner;\r\n  const { data } = useQuery(getListPartnerProducts(platformId), {\r\n    onCompleted: data => {\r\n      setListPartner({ ...listPartner, listItems: data.listPartnerProducts });\r\n    }\r\n  });\r\n  useQuery(queryGetPlatform, {\r\n    onCompleted: data => {\r\n      setListPartner({ ...listPartner, listGame: data.listPartners });\r\n    }\r\n  });\r\n  const { data2 } = useQuery(getListServer(platformId), {\r\n    onCompleted: data => {\r\n      setListPartner({\r\n        ...listPartner,\r\n        listServer: [\r\n          {\r\n            server: 0,\r\n            serverName: \"All server\"\r\n          },\r\n          ...data.listPartnerServers\r\n        ]\r\n      });\r\n    }\r\n  });\r\n  const [getItemsForEventTypeMoney] = useLazyQuery(getListItemsForEvent, {\r\n    onCompleted: data => {\r\n      setIndexEventByMoney({\r\n        ...indexEventByMoney,\r\n        itemsForEventByMoney: data.listProducts\r\n      });\r\n    }\r\n  });\r\n  const handleChangePlatform = e => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      platformId: e,\r\n      server: \"\"\r\n    });\r\n  };\r\n  const handleChangePlatformPromo = e => {\r\n    setIndexShop([\r\n      {\r\n        purchaseTimes: 1,\r\n        purchaseItemId: [],\r\n        rewards: [\r\n          {\r\n            numb: 1,\r\n            itemId: []\r\n          }\r\n        ]\r\n      }\r\n    ]);\r\n    setIndexGameForPromo({\r\n      ...indexGameForPromo,\r\n      platformId: e,\r\n      server: \"\"\r\n    });\r\n  };\r\n  const resetGameAndServer = () => {\r\n    setListPartner({\r\n      ...listPartner,\r\n      listServer: [\r\n        {\r\n          server: 0,\r\n          serverName: \"All server\"\r\n        }\r\n      ]\r\n    });\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      platformPromoId: \"\",\r\n      server: \"\"\r\n    });\r\n  };\r\n  const setInfoPromo = e => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  const handleChangeServer = e => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, server: e });\r\n  };\r\n  const handleChangeServerPromo = e => {\r\n    setIndexGameForPromo({ ...indexGameForPromo, server: e });\r\n  };\r\n  const handleStartTimeTotal = value => {\r\n    const newTimetotal = indexPromoAndEvent.timeTotal;\r\n    newTimetotal[0] = moment(value).format(\"YYYY-MM-DD HH:mm\") + \":00\";\r\n    const numbEndTime = Number(moment(newTimetotal[1]).format(\"x\"));\r\n    if (value.valueOf() - numbEndTime > 0) {\r\n      newTimetotal[1] = moment(value)\r\n        .add(10, \"days\")\r\n        .format(\"YYYY-MM-DD hh:mm\");\r\n    }\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      timeTotal: newTimetotal\r\n    });\r\n  };\r\n  const handleEndTimeTotal = value => {\r\n    const newTimetotal = indexPromoAndEvent.timeTotal;\r\n    newTimetotal[1] = moment(value).format(\"YYYY-MM-DD hh:mm\") + \":59\";\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      timeTotal: newTimetotal\r\n    });\r\n  };\r\n  const pickAllDay = () => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      startTime: \"00:00:00\",\r\n      endTime: \"23:59:59\"\r\n    });\r\n  };\r\n  const handleChangeTypePromo = val => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, type: val });\r\n  };\r\n  const setTimePromo = (timeString, val) => {\r\n    if (val === \"startTime\") {\r\n      setIndexPromoAndEvent({\r\n        ...indexPromoAndEvent,\r\n        startTime: timeString !== \"\" ? timeString + \":00\" : \"\"\r\n      });\r\n    } else {\r\n      setIndexPromoAndEvent({\r\n        ...indexPromoAndEvent,\r\n        endTime: timeString !== \"\" ? timeString + \":59\" : \"\"\r\n      });\r\n    }\r\n  };\r\n  const handleChangeDaily = value => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      daily: value.sort((a, b) => a - b)\r\n    });\r\n  };\r\n  const handleChangeDates = value => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      dates: value.sort((a, b) => a - b)\r\n    });\r\n  };\r\n  const handleChangelistPartner = val => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, listPartner: val });\r\n  };\r\n  const successAlert = val => {\r\n    Modal.confirm({\r\n      title: \"To khuyn mi thnh cng\",\r\n      okText: \"Xem danh sch\",\r\n      cancelText: \"Tip tc\",\r\n      onOk() {\r\n        dispatchSwitchCreatePromo(true);\r\n      },\r\n      onCancel() {\r\n        setSwitchTypeEvent(!switchTypeEvent);\r\n      }\r\n    });\r\n  };\r\n  const getLinkUrl = e => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, linkUrl: e.target.value })\r\n  }\r\n  return (\r\n    <Router>\r\n      <Row className=\"container-promotion\">\r\n        <div>\r\n          <div>\r\n            <Link\r\n              to=\"/payment/promotion\"\r\n              onClick={() => dispatchSwitchCreatePromo(true)}\r\n            >\r\n              <span>\r\n                <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n                Quay li\r\n              </span>\r\n            </Link>\r\n            <h2>Thm mi khuyn mi</h2>\r\n          </div>\r\n        </div>\r\n        <Col md={12} className=\"section1-promotion\">\r\n          <div>\r\n            <InputNameAndTypeArea\r\n              listPartner={listPartner}\r\n              indexPromoAndEvent={indexPromoAndEvent}\r\n              setListPartner={setListPartner}\r\n              status={status}\r\n              setInfoPromo={setInfoPromo}\r\n              resetGameAndServer={resetGameAndServer}\r\n              switchTypeEvent={switchTypeEvent}\r\n              setSwitchTypeEvent={setSwitchTypeEvent}\r\n            />\r\n            {/*router chn game,server */}\r\n            {switchTypeEvent ? (\r\n              <MenuRewardByItem\r\n                indexGameForPromo={indexGameForPromo}\r\n                listPartner={listPartner}\r\n                handleChangeTypePromo={handleChangeTypePromo}\r\n                indexPromoAndEvent={indexPromoAndEvent}\r\n                handleChangePlatformPromo={handleChangePlatformPromo}\r\n                handleChangelistPartner={handleChangelistPartner}\r\n                handleChangeServerPromo={handleChangeServerPromo}\r\n              />\r\n            ) : (\r\n                <MenuRewardEventByMoney\r\n                  switchTypeEvent={switchTypeEvent}\r\n                  indexPromoAndEvent={indexPromoAndEvent}\r\n                  indexEventByMoney={indexEventByMoney}\r\n                  setIndexEventByMoney={setIndexEventByMoney}\r\n                  getItemsForEventTypeMoney={getItemsForEventTypeMoney}\r\n                  server={server}\r\n                  listPartner={listPartner}\r\n                  handleChangePlatform={handleChangePlatform}\r\n                  handleChangeServer={handleChangeServer}\r\n                />\r\n              )}\r\n          </div>\r\n        </Col>\r\n        <InputTimeArea\r\n          indexPromoAndEvent={indexPromoAndEvent}\r\n          handleStartTimeTotal={handleStartTimeTotal}\r\n          handleEndTimeTotal={handleEndTimeTotal}\r\n          pickAllDay={pickAllDay}\r\n          handleChangeDaily={handleChangeDaily}\r\n          handleChangeDates={handleChangeDates}\r\n          setTimePromo={setTimePromo}\r\n          isTimeInPromo={isTimeInPromo}\r\n        />\r\n        <Col md={18}>\r\n          {switchTypeEvent ? (\r\n            <EventByItems\r\n              successAlert={successAlert}\r\n              listItems={listItems}\r\n              indexPromoAndEvent={indexPromoAndEvent}\r\n              indexGameForPromo={indexGameForPromo}\r\n              indexShop={indexShop}\r\n              setIndexShop={setIndexShop}\r\n            />\r\n          ) : (\r\n              <InputRewardByMoney\r\n                listItems={listItems}\r\n                successAlert={successAlert}\r\n                indexShop={indexShop}\r\n                setIndexShop={setIndexShop}\r\n                indexPromoAndEvent={indexPromoAndEvent}\r\n                listPartner={listPartner}\r\n                setIndexPromoAndEvent={setIndexPromoAndEvent}\r\n                indexEventByMoney={indexEventByMoney}\r\n                setIndexEventByMoney={setIndexEventByMoney}\r\n                getItemsForEventTypeMoney={getItemsForEventTypeMoney}\r\n              />\r\n            )}\r\n        </Col>\r\n        <Col md={6} style={{ margin: \".5rem 0\" }}>\r\n          <h3>Link post</h3>\r\n          <Input placeholder=\"Get link post...\" style={{ width: \"100%\" }} value={linkUrl} onChange={getLinkUrl} />\r\n          <div>\r\n            <p className='select-image-promotion'>Select thumbnail promotion</p>\r\n            <div style={{ width: \"100%\" }}>\r\n              {props.urlImgThumbnail === null ? <i>Thumbnail image is emtry</i> : <img src={props.urlImgThumbnail} style={{ maxHeight: \"100%\", maxWidth: \"100%\" }} />}\r\n            </div>\r\n            <a onClick={() => dispatchShowImagesNews(true)}>Select</a>\r\n          </div>\r\n          <ListImagesForNews isThumbnail={true} />\r\n        </Col>\r\n      </Row>\r\n    </Router>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(CreatePromotion);","import React from 'react'\r\n\r\nconst dataListStats = {\r\n    listNameStats: ['DAU', 'MAU', 'NRU', 'DPU', 'NPU', 'PR', 'ARPDAU', 'ARPPDAU']\r\n}\r\nconst convertContent = (val) => {\r\n    switch (val) {\r\n        case 'DPU':\r\n            return \"Daily paid user\"\r\n        case 'NPU':\r\n            return \"New pay user\"\r\n        case 'PR':\r\n            return \"Pay/Rate\"\r\n        case 'ARPDAU':\r\n            return \"REV/DAU\"\r\n        case 'ARPPDAU':\r\n            return \"REV/DPU\"\r\n        default:\r\n            break;\r\n    }\r\n}\r\nexport { dataListStats, convertContent };","import { gql } from \"apollo-boost\";\r\nconst getDataDAU = gql`\r\n  query chartDau(\r\n    $fromDate: String!\r\n    $toDate: String!\r\n    $game: String!\r\n  ) {\r\n    chartDau(\r\n      fromDate: $fromDate\r\n      toDate: $toDate\r\n      game: $game\r\n    ) {\r\n      xAxis\r\n      yAxis\r\n    }\r\n  }\r\n`;\r\nconst getDataNRU = gql`\r\nquery chartNruByOs(\r\n  $fromDate: String!\r\n  $toDate: String!\r\n  $game: String!\r\n){\r\n  chartNruByOs(\r\n    fromDate: $fromDate\r\n    toDate: $toDate\r\n    game: $game\r\n  ){\r\n    xAxis\r\n    yAxis\r\n  }\r\n}\r\n`\r\nconst getDataPaidUsers = gql`\r\nquery chartPaidUserByDate(\r\n  $fromDate: String!\r\n  $toDate: String!\r\n  $game: String!\r\n){\r\n  chartPaidUserByDate(\r\n    fromDate: $fromDate\r\n    toDate: $toDate\r\n    game: $game\r\n  ){\r\n    xAxis\r\n    yAxis\r\n  }\r\n}\r\n`\r\nconst getDataMAU = gql`\r\n  query chartMau(\r\n    $fromMonth: String!\r\n    $toMonth: String!\r\n    $game: String!\r\n  ) {\r\n    chartMau(\r\n      fromMonth: $fromMonth\r\n      toMonth: $toMonth\r\n      game: $game\r\n    ) {\r\n      xAxis\r\n      yAxis\r\n    }\r\n  }\r\n`;\r\nconst getListPartnerByGame = gql`\r\n  query {\r\n    listPartnersByGame {\r\n      partnerId\r\n      partnerName\r\n      fullName\r\n    }\r\n  }\r\n`;\r\n\r\nexport { getListPartnerByGame, getDataDAU, getDataMAU, getDataNRU, getDataPaidUsers };\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { getDataDAU, getDataMAU, getDataNRU } from \"../../utils/query/stats\";\r\nimport { optionLineForStats } from \"../../utils/configCharts\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon, DatePicker, Input, Select } from \"antd\";\r\nimport { dates } from \"../../utils/dateInfo\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\nconst listSelectDates = [\r\n    { days: \"3 days ago\", variables: \"THREE_DAY_AGO\" },\r\n    { days: \"7 days ago\", variables: \"SEVENT_DAY_AGO\" },\r\n    { days: \"14 days ago\", variables: \"FOURTEEN_DAY_AGO\" },\r\n    { days: \"30 days ago\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nconst ChartStats = props => {\r\n    const [timeValue, setTimeValue] = useState({\r\n        fromDate: dates.SEVENT_DAY_AGO,\r\n        toDate: dates.TODAY,\r\n        fromDateCustom: null,\r\n        toDateCustom: null\r\n    });\r\n    const [isSelectDates, setIsSelectDates] = useState(false);\r\n    const [valueDate, setValueDate] = useState(\"SEVENT_DAY_AGO\")\r\n    const { nameStats, partnerId } = props;\r\n    // console.log(nameStats,partnerId)\r\n    const { fromDate, toDate, fromDateCustom, toDateCustom } = timeValue;\r\n    const [dataCharts, setDataCharts] = useState({\r\n        xAxis: [],\r\n        yAxis: []\r\n    });\r\n    const { TODAY } = dates;\r\n    const [getData] = useLazyQuery(getDataDAU, {\r\n        fetchPolicy: \"cache-and-network\",\r\n        onCompleted: data => {\r\n            setDataCharts({\r\n                xAxis: JSON.parse(data.chartDau.xAxis),\r\n                yAxis: JSON.parse(data.chartDau.yAxis)\r\n            });\r\n        }\r\n    });\r\n    const [getDataNru] = useLazyQuery(getDataNRU, {\r\n        fetchPolicy: \"cache-and-network\",\r\n        onCompleted: data => {\r\n            console.log(data)\r\n            setDataCharts({\r\n                xAxis: JSON.parse(data.chartNruByOs.xAxis),\r\n                yAxis: JSON.parse(data.chartNruByOs.yAxis)\r\n            });\r\n        }\r\n    })\r\n    useMemo(\r\n        () => {\r\n            setValueDate(\"SEVENT_DAY_AGO\")\r\n            switch (nameStats) {\r\n                case 'DAU':\r\n                    getData({\r\n                        variables: {\r\n                            fromDate: dates.SEVENT_DAY_AGO,\r\n                            toDate: TODAY,\r\n                            game: partnerId\r\n                        }\r\n                    })\r\n                    break;\r\n                case 'NRU':\r\n                    getDataNru({\r\n                        variables: {\r\n                            fromDate: dates.SEVENT_DAY_AGO,\r\n                            toDate: TODAY,\r\n                            game: partnerId\r\n                        }\r\n                    })\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        },\r\n        [partnerId, nameStats]\r\n    );\r\n    const disabledDate = current => {\r\n        if (fromDateCustom != null) {\r\n            return (\r\n                (current &&\r\n                    current <\r\n                    moment(fromDateCustom)\r\n                        .subtract(1, \"days\")\r\n                        .endOf(\"day\")) ||\r\n                current > moment().endOf(\"day\")\r\n            );\r\n        }\r\n    };\r\n\r\n    const changeDates = val => {\r\n        setTimeValue({ fromDate: dates[val], toDate: TODAY });\r\n        switch (nameStats) {\r\n            case 'DAU':\r\n                getData({\r\n                    variables: {\r\n                        fromDate: dates[val],\r\n                        toDate: TODAY,\r\n                        game: partnerId\r\n                    }\r\n                })\r\n                break;\r\n            case 'NRU':\r\n                getDataNru({\r\n                    variables: {\r\n                        fromDate: dates[val],\r\n                        toDate: TODAY,\r\n                        game: partnerId\r\n                    }\r\n                })\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    const handleChangeRangeDates = value => {\r\n        changeDates(value);\r\n        setValueDate(value)\r\n    };\r\n    const showDateSelect = () => {\r\n        setIsSelectDates(!isSelectDates);\r\n    };\r\n    const convertData = typeOs => {\r\n        if (nameStats === 'NRU') {\r\n            const demo = [];\r\n            const dataAll = dataCharts.yAxis.map((val, i) =>\r\n                val.map((val2, i) => {\r\n                    if (val2.os === typeOs) {\r\n                        demo.push(val2.count);\r\n                    }\r\n                })\r\n            );\r\n            return demo;\r\n        } else {\r\n            const demo = [];\r\n            const dataAll = dataCharts.yAxis.map((val, i) =>\r\n                val.map((val2, i) => {\r\n                    if (val2.os === typeOs) {\r\n                        demo.push(val2.dau);\r\n                    }\r\n                })\r\n            );\r\n            return demo;\r\n        }\r\n    };\r\n    const changeRangeDates = value => {\r\n        if (fromDateCustom == null) {\r\n            setTimeValue({ ...timeValue, fromDateCustom: value });\r\n        } else {\r\n            setTimeValue({\r\n                ...timeValue,\r\n                toDateCustom: moment(value).format(\"YYYY-MM-DD\")\r\n            });\r\n        }\r\n    };\r\n    const submitDateCustom = () => {\r\n        switch (nameStats) {\r\n            case 'DAU':\r\n                getData({\r\n                    variables: {\r\n                        fromDate: fromDateCustom,\r\n                        toDate: toDateCustom,\r\n                        game: partnerId\r\n                    }\r\n                })\r\n                break;\r\n            case 'NRU':\r\n                getDataNru({\r\n                    variables: {\r\n                        fromDate: fromDateCustom,\r\n                        toDate: toDateCustom,\r\n                        game: partnerId\r\n                    }\r\n                })\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        setIsSelectDates(!isSelectDates);\r\n    };\r\n    const dataChart = {\r\n        labels: dataCharts.xAxis,\r\n        datasets: [\r\n            {\r\n                label: \"ALL\",\r\n                fill: false,\r\n                backgroundColor: \"rgba(75,192,192,0.4)\",\r\n                borderColor: \"rgba(75,192,192,0.4)\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"ALL\")\r\n            },\r\n            {\r\n                label: \"WEB\",\r\n                fill: false,\r\n                backgroundColor: \"#ffd54f\",\r\n                borderColor: \"#ffd54f\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"web\")\r\n            },\r\n            {\r\n                label: \"ANDROID\",\r\n                fill: false,\r\n                backgroundColor: \"#fcaf18\",\r\n                borderColor: \"#fcaf18\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"android\")\r\n            },\r\n            {\r\n                label: \"IOS\",\r\n                fill: false,\r\n                backgroundColor: \"#4280ad\",\r\n                borderColor: \"#4280ad\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"ios\")\r\n            }\r\n        ]\r\n    };\r\n    const printOptionDates = listSelectDates.map((val, i) => (\r\n        <Option value={val.variables} key={i}>\r\n            {val.days}\r\n        </Option>\r\n    ));\r\n    return (\r\n        <div style={{ width: \"85%\" }} className=\"chart-stats\">\r\n            <div className=\"title-stats\">\r\n                <h2 style={{ margin: '0' }}>{nameStats}</h2>\r\n                <span>Daily active users</span>\r\n            </div>\r\n            <div className=\"chart-select-dates\">\r\n                <Select\r\n                    value={valueDate}\r\n                    style={{ width: 120, marginTop: '1.5rem' }}\r\n                    onChange={handleChangeRangeDates}\r\n                    className='select_dates-stats'\r\n                >\r\n                    {printOptionDates}\r\n                    <Option value=\"5\" onClick={showDateSelect}>\r\n                        Custom...\r\n          </Option>\r\n                </Select>\r\n                {isSelectDates && (\r\n                    <div className=\"modal_datepicker\">\r\n                        <DatePicker\r\n                            allowClear={false}\r\n                            disabledDate={disabledDate}\r\n                            format=\"YYYY-MM-DD\"\r\n                            value={\r\n                                fromDateCustom == null\r\n                                    ? null\r\n                                    : moment(fromDateCustom, \"YYYY-MM-DD\")\r\n                            }\r\n                            placeholder=\"StartDate\"\r\n                            onChange={e => changeRangeDates(e)}\r\n                            className=\"input_date_chart\"\r\n                            open={true}\r\n                            dropdownClassName=\"calendar-select-stats\"\r\n                            renderExtraFooter={() => (\r\n                                <div className=\"datepicker_footer\">\r\n                                    <span\r\n                                        onClick={() =>\r\n                                            setTimeValue({\r\n                                                ...timeValue,\r\n                                                fromDateCustom: null,\r\n                                                toDateCustom: null\r\n                                            })\r\n                                        }\r\n                                    >\r\n                                        CLEAR\r\n                  </span>\r\n                                    <span onClick={showDateSelect}>CANCEL</span>\r\n                                    <span style={{ color: \"#0085ff\" }} onClick={submitDateCustom}>\r\n                                        APPLY\r\n                  </span>\r\n                                </div>\r\n                            )}\r\n                        />\r\n                        <Input\r\n                            open={true}\r\n                            value={toDateCustom}\r\n                            placeholder=\"EndDate\"\r\n                            suffix={<Icon type=\"calendar\" style={{ color: \"#9e9e9e\" }} />}\r\n                            className=\"input_date_chart\"\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <Line\r\n                data={dataChart}\r\n                width={100}\r\n                height={50}\r\n                options={optionLineForStats}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChartStats;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { getDataDAU, getDataMAU } from \"../../utils/query/stats\";\r\nimport { optionLineForStats } from \"../../utils/configCharts\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon, DatePicker, Input, Select } from \"antd\";\r\nimport { months } from \"../../utils/dateInfo\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\nconst { MonthPicker } = DatePicker\r\nconst listSelectmonths = [\r\n    { days: \"3 months ago\", variables: \"THREE_MONTHS_AGO\" },\r\n    { days: \"6 months ago\", variables: \"SIX_MONTHS_AGO\" },\r\n    { days: \"1 years ago\", variables: \"ONE_YEAR_AGO\" },\r\n];\r\nconst ChartStatsMau = props => {\r\n    const [timeValue, setTimeValue] = useState({\r\n        fromMonth: months.THREE_MONTHS_AGO,\r\n        toMonth: months.THISMONTH,\r\n        fromMonthCustom: null,\r\n        toMonthCustom: null,\r\n        defaulSelectMonth: 'THREE_MONTHS_AGO'\r\n    });\r\n    const [isSelectMonths, setIsSelectMonths] = useState(false);\r\n    const { nameStats, partnerId } = props;\r\n    const { fromMonth, toMonth, fromMonthCustom, toMonthCustom, defaulSelectMonth } = timeValue;\r\n    const [dataCharts, setDataCharts] = useState({\r\n        xAxis: [],\r\n        yAxis: []\r\n    });\r\n    const { THISMONTH } = months;\r\n    const [getDataMau] = useLazyQuery(getDataMAU, {\r\n        onCompleted: data => {\r\n            setDataCharts({\r\n                xAxis: JSON.parse(data.chartMau.xAxis),\r\n                yAxis: JSON.parse(data.chartMau.yAxis)\r\n            });\r\n        }\r\n    });\r\n    useMemo(() => {\r\n        getDataMau({\r\n            variables: {\r\n                fromMonth: months.THREE_MONTHS_AGO,\r\n                toMonth: THISMONTH,\r\n                game: partnerId\r\n            }\r\n        });\r\n        setTimeValue({ ...timeValue, defaulSelectMonth: \"THREE_MONTHS_AGO\" })\r\n    }, [partnerId]);\r\n    const disabledDate = current => {\r\n        if (fromMonthCustom != null) {\r\n            return (\r\n                (current &&\r\n                    current <\r\n                    moment(fromMonthCustom)\r\n                        .subtract(1, \"months\")\r\n                        .endOf(\"months\")) ||\r\n                current > moment().endOf(\"month\")\r\n            );\r\n        }\r\n    };\r\n\r\n    const changemonths = val => {\r\n        console.log(val)\r\n        setTimeValue({ ...timeValue, fromMonth: months[val], toMonth: THISMONTH, defaulSelectMonth: val });\r\n        getDataMau({\r\n            variables: {\r\n                fromMonth: months[val],\r\n                toMonth: THISMONTH,\r\n                game: partnerId\r\n            }\r\n        });\r\n    };\r\n    const handleChangeRangemonths = value => {\r\n        changemonths(value);\r\n    };\r\n    const showmonthselect = () => {\r\n        setIsSelectMonths(!isSelectMonths);\r\n    };\r\n    const convertData = typeOs => {\r\n        const demo = [];\r\n        const dataAll = dataCharts.yAxis.map((val, i) =>\r\n            val.map((val2, i) => {\r\n                if (val2.os === typeOs) {\r\n                    demo.push(val2.mau);\r\n                }\r\n            })\r\n        );\r\n        return demo;\r\n    };\r\n    const changeRangemonths = value => {\r\n        if (fromMonthCustom == null) {\r\n            setTimeValue({ ...timeValue, fromMonthCustom: value });\r\n        } else {\r\n            setTimeValue({\r\n                ...timeValue,\r\n                toMonthCustom: moment(value).format(\"YYYY-MM-DD\")\r\n            });\r\n        }\r\n    };\r\n    const submitDateCustom = () => {\r\n        getDataMau({\r\n            variables: {\r\n                fromMonth: fromMonthCustom,\r\n                toMonth: toMonthCustom,\r\n                game: partnerId\r\n            }\r\n        });\r\n        setIsSelectMonths(!isSelectMonths);\r\n    };\r\n    const dataChart = {\r\n        labels: dataCharts.xAxis,\r\n        datasets: [\r\n            {\r\n                label: \"ALL\",\r\n                fill: false,\r\n                backgroundColor: \"rgba(75,192,192,0.4)\",\r\n                borderColor: \"rgba(75,192,192,0.4)\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"ALL\")\r\n            },\r\n            {\r\n                label: \"WEB\",\r\n                fill: false,\r\n                backgroundColor: \"#ffd54f\",\r\n                borderColor: \"#ffd54f\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"web\")\r\n            },\r\n            {\r\n                label: \"ANDROID\",\r\n                fill: false,\r\n                backgroundColor: \"#fcaf18\",\r\n                borderColor: \"#fcaf18\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"android\")\r\n            },\r\n            {\r\n                label: \"IOS\",\r\n                fill: false,\r\n                backgroundColor: \"#4280ad\",\r\n                borderColor: \"#4280ad\",\r\n                borderWidth: 2,\r\n                hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n                hoverBorderColor: \"rgba(255,99,132,1)\",\r\n                data: convertData(\"ios\")\r\n            }\r\n        ]\r\n    };\r\n    const printOptionmonths = listSelectmonths.map((val, i) => (\r\n        <Option value={val.variables} key={i}>\r\n            {val.days}\r\n        </Option>\r\n    ));\r\n    return (\r\n        <div style={{ width: \"85%\" }} className=\"chart-stats\">\r\n            <div className=\"title-stats\">\r\n                <h2 style={{ margin: \"0\" }}>{nameStats}</h2>\r\n                <span>Daily active users</span>\r\n            </div>\r\n            <div className=\"chart-select-months\">\r\n                <Select\r\n                    value={defaulSelectMonth}\r\n                    style={{ width: 120, marginTop: \"1.5rem\" }}\r\n                    onChange={handleChangeRangemonths}\r\n                    className=\"select_months-stats\"\r\n                >\r\n                    {printOptionmonths}\r\n                    <Option value=\"5\" onClick={showmonthselect}>\r\n                        Custom...\r\n          </Option>\r\n                </Select>\r\n                {isSelectMonths && (\r\n                    <div className=\"modal_datepicker\">\r\n                        <MonthPicker\r\n                            allowClear={false}\r\n                            disabledDate={disabledDate}\r\n                            format=\"YYYY-MM-DD\"\r\n                            value={\r\n                                fromMonthCustom == null\r\n                                    ? null\r\n                                    : moment(fromMonthCustom, \"YYYY-MM-DD\")\r\n                            }\r\n                            placeholder=\"StartMonth\"\r\n                            onChange={e => changeRangemonths(e)}\r\n                            className=\"input_month_chart\"\r\n                            open={true}\r\n                            dropdownClassName=\"calendar-selectmonth-stats\"\r\n                            renderExtraFooter={() => (\r\n                                <div className=\"datepicker_footer\">\r\n                                    <span\r\n                                        onClick={() =>\r\n                                            setTimeValue({\r\n                                                ...timeValue,\r\n                                                fromMonthCustom: null,\r\n                                                toMonthCustom: null\r\n                                            })\r\n                                        }\r\n                                    >\r\n                                        CLEAR\r\n                  </span>\r\n                                    <span onClick={showmonthselect}>CANCEL</span>\r\n                                    <span style={{ color: \"#0085ff\" }} onClick={submitDateCustom}>\r\n                                        APPLY\r\n                  </span>\r\n                                </div>\r\n                            )}\r\n                        />\r\n                        <Input\r\n                            open={true}\r\n                            value={toMonthCustom}\r\n                            placeholder=\"EndMonth\"\r\n                            suffix={<Icon type=\"calendar\" style={{ color: \"#9e9e9e\" }} />}\r\n                            className=\"input_month_chart\"\r\n                        />\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <Line\r\n                data={dataChart}\r\n                width={100}\r\n                height={50}\r\n                options={optionLineForStats}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChartStatsMau;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\n\r\nimport { Line } from \"react-chartjs-2\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { getDataPaidUsers } from \"../../utils/query/stats\";\r\nimport { optionLineForStats } from \"../../utils/configCharts\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon, DatePicker, Input, Select } from \"antd\";\r\nimport { dates } from \"../../utils/dateInfo\";\r\nimport { convertContent } from \"./statsService\";\r\nimport moment from \"moment\";\r\nconst { Option } = Select;\r\nconst listSelectDates = [\r\n  { days: \"3 days ago\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"7 days ago\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"14 days ago\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"30 days ago\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nconst ChartPaidUsersStats = props => {\r\n  const [timeValue, setTimeValue] = useState({\r\n    fromDate: dates.SEVENT_DAY_AGO,\r\n    toDate: dates.TODAY,\r\n    fromDateCustom: null,\r\n    toDateCustom: null\r\n  });\r\n  const [isSelectDates, setIsSelectDates] = useState(false);\r\n  const [valueDate,setValueDate]=useState(\"SEVENT_DAY_AGO\")\r\n  const { nameStats, partnerId } = props;\r\n  // console.log(nameStats,partnerId)\r\n  const { fromDate, toDate, fromDateCustom, toDateCustom } = timeValue;\r\n  const [dataCharts, setDataCharts] = useState({\r\n    xAxis: [],\r\n    yAxis: []\r\n  });\r\n  const { TODAY } = dates;\r\n  const [getData] = useLazyQuery(getDataPaidUsers, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      console.log(JSON.parse(data.chartPaidUserByDate.yAxis));\r\n      setDataCharts({\r\n        xAxis: JSON.parse(data.chartPaidUserByDate.xAxis),\r\n        yAxis: JSON.parse(data.chartPaidUserByDate.yAxis)\r\n      });\r\n    }\r\n  });\r\n  useMemo(() => {\r\n    setValueDate(\"SEVENT_DAY_AGO\")\r\n    getData({\r\n      variables: {\r\n        fromDate: dates.SEVENT_DAY_AGO,\r\n        toDate: TODAY,\r\n        game: partnerId\r\n      }\r\n    });\r\n  }, [partnerId, nameStats]);\r\n  const disabledDate = current => {\r\n    if (fromDateCustom != null) {\r\n      return (\r\n        (current &&\r\n          current <\r\n            moment(fromDateCustom)\r\n              .subtract(1, \"days\")\r\n              .endOf(\"day\")) ||\r\n        current > moment().endOf(\"day\")\r\n      );\r\n    }\r\n  };\r\n\r\n  const changeDates = val => {\r\n    setTimeValue({ fromDate: dates[val], toDate: TODAY });\r\n    getData({\r\n      variables: {\r\n        fromDate: dates[val],\r\n        toDate: TODAY,\r\n        game: partnerId\r\n      }\r\n    });\r\n  };\r\n  const handleChangeRangeDates = value => {\r\n    changeDates(value);\r\n    setValueDate(value)\r\n  };\r\n  const showDateSelect = () => {\r\n    setIsSelectDates(!isSelectDates);\r\n  };\r\n  const convertData = typeOs => {\r\n    switch (typeOs) {\r\n      case \"npu\":\r\n        return dataCharts.yAxis.map((val, i) => val[0].dfpu);\r\n      case \"dpu\":\r\n        return dataCharts.yAxis.map((val, i) => val[0].dpu);\r\n    //   case \"mpu\":\r\n    //     return dataCharts.yAxis.map((val, i) => val[0].mpu);\r\n      case \"pr\":\r\n        return dataCharts.yAxis.map((val, i) => val[0].pr);\r\n      case \"arpdau\":\r\n        return dataCharts.yAxis.map((val, i) => val[0].arpdau);\r\n      case \"arppdau\":\r\n        return dataCharts.yAxis.map((val, i) => val[0].arppdau);\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n  const changeRangeDates = value => {\r\n    if (fromDateCustom == null) {\r\n      setTimeValue({ ...timeValue, fromDateCustom: value });\r\n    } else {\r\n      setTimeValue({\r\n        ...timeValue,\r\n        toDateCustom: moment(value).format(\"YYYY-MM-DD\")\r\n      });\r\n    }\r\n  };\r\n  const submitDateCustom = () => {\r\n    getData({\r\n      variables: {\r\n        fromDate: fromDateCustom,\r\n        toDate: toDateCustom,\r\n        game: partnerId\r\n      }\r\n    });\r\n    setIsSelectDates(!isSelectDates);\r\n  };\r\n  const dataChart = {\r\n    labels: dataCharts.xAxis,\r\n    datasets: [\r\n      {\r\n        label: nameStats,\r\n        fill: false,\r\n        backgroundColor: \"rgba(75,192,192,0.4)\",\r\n        borderColor: \"rgba(75,192,192,0.4)\",\r\n        borderWidth: 2,\r\n        hoverBackgroundColor: \"rgba(255,99,132,0.4)\",\r\n        hoverBorderColor: \"rgba(255,99,132,1)\",\r\n        data: convertData(nameStats.toLowerCase())\r\n      }\r\n    ]\r\n  };\r\n  const printOptionDates = listSelectDates.map((val, i) => (\r\n    <Option value={val.variables} key={i}>\r\n      {val.days}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div style={{ width: \"85%\" }} className=\"chart-stats\">\r\n      <div className=\"title-stats\">\r\n        <h2 style={{ margin: \"0\" }}>{nameStats}</h2>\r\n        <span>{convertContent(nameStats)}</span>\r\n      </div>\r\n      <div className=\"chart-select-dates\">\r\n        <Select\r\n          value={valueDate}\r\n          style={{ width: 120, marginTop: \"1.5rem\" }}\r\n          onChange={handleChangeRangeDates}\r\n          className=\"select_dates-stats\"\r\n        >\r\n          {printOptionDates}\r\n          <Option value=\"5\" onClick={showDateSelect}>\r\n            Custom...\r\n          </Option>\r\n        </Select>\r\n        {isSelectDates && (\r\n          <div className=\"modal_datepicker\">\r\n            <DatePicker\r\n              allowClear={false}\r\n              disabledDate={disabledDate}\r\n              format=\"YYYY-MM-DD\"\r\n              value={\r\n                fromDateCustom == null\r\n                  ? null\r\n                  : moment(fromDateCustom, \"YYYY-MM-DD\")\r\n              }\r\n              placeholder=\"StartDate\"\r\n              onChange={e => changeRangeDates(e)}\r\n              className=\"input_date_chart\"\r\n              open={true}\r\n              dropdownClassName=\"calendar-select-stats\"\r\n              renderExtraFooter={() => (\r\n                <div className=\"datepicker_footer\">\r\n                  <span\r\n                    onClick={() =>\r\n                      setTimeValue({\r\n                        ...timeValue,\r\n                        fromDateCustom: null,\r\n                        toDateCustom: null\r\n                      })\r\n                    }\r\n                  >\r\n                    CLEAR\r\n                  </span>\r\n                  <span onClick={showDateSelect}>CANCEL</span>\r\n                  <span style={{ color: \"#0085ff\" }} onClick={submitDateCustom}>\r\n                    APPLY\r\n                  </span>\r\n                </div>\r\n              )}\r\n            />\r\n            <Input\r\n              open={true}\r\n              value={toDateCustom}\r\n              placeholder=\"EndDate\"\r\n              suffix={<Icon type=\"calendar\" style={{ color: \"#9e9e9e\" }} />}\r\n              className=\"input_date_chart\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Line\r\n        data={dataChart}\r\n        width={100}\r\n        height={50}\r\n        options={optionLineForStats}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChartPaidUsersStats;\r\n","import React, { useEffect } from \"react\";\r\nimport { Menu, Icon, Button } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { dataListStats } from \"./statsService\";\r\nimport { getListPartnerByGame } from \"../../utils/query/stats\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../static/style/stats.css\";\r\nimport ChartStats from \"./chartStats\";\r\nimport ChartStatsMau from \"./chartStatsMau\";\r\nimport ChartPaidUsersStats from './chartPaidUser'\r\nconst { SubMenu } = Menu;\r\n\r\nfunction Stats() {\r\n  const { listNameStats } = dataListStats;\r\n  const [listPartnersByGame, setListPartnerbyGame] = useState([\r\n    { partnerId: \"\", partnerName: \"\", fullName: \"\" }\r\n  ]);\r\n  const [indexStats, setIndexStats] = useState({\r\n    partnerId: \"\",\r\n    nameStats: \"\"\r\n  });\r\n  const { partnerId, nameStats } = indexStats;\r\n  useQuery(getListPartnerByGame, {\r\n    onCompleted: data => setListPartnerbyGame(data.listPartnersByGame)\r\n  });\r\n  const handleClick = e => {\r\n    setIndexStats(JSON.parse(e.key));\r\n  };\r\n  useEffect(() => {\r\n    setIndexStats({\r\n      partnerId: \"1BA3F861-D4F2-4D97-9F78-38633155EC27\",\r\n      nameStats: \"DAU\"\r\n    });\r\n  }, []);\r\n  const printMenuStats = listPartnersByGame.map(function (value1, i) {\r\n    const printListStats = listNameStats.map((value2, i) => (\r\n      <Menu.Item\r\n        key={`{\"partnerId\":\"${value1.partnerId}\",\"nameStats\":\"${value2}\"}`}\r\n      >\r\n        {value2}\r\n      </Menu.Item>\r\n    ));\r\n    return (\r\n      <SubMenu\r\n        key={value1.partnerName}\r\n        title={\r\n          <span>\r\n            <span>{value1.fullName}</span>\r\n          </span>\r\n        }\r\n      >\r\n        {printListStats}\r\n      </SubMenu>\r\n    );\r\n  });\r\n  const menuStats = (\r\n    <Menu\r\n      onClick={handleClick}\r\n      style={{ width: \"15%\" }}\r\n      mode=\"inline\"\r\n      defaultSelectedKeys={[\r\n        `{\"partnerId\":\"1BA3F861-D4F2-4D97-9F78-38633155EC27\",\"nameStats\":\"DAU\"}`\r\n      ]}\r\n      defaultOpenKeys={[\"3qzombie\"]}\r\n    >\r\n      {printMenuStats}\r\n    </Menu>\r\n  )\r\n  switch (nameStats) {\r\n    case 'MAU':\r\n      return (\r\n        <div className=\"stats\">\r\n          {menuStats}\r\n          <ChartStatsMau nameStats={nameStats} partnerId={partnerId} />\r\n        </div>\r\n      )\r\n    case \"DPU\":\r\n    case 'NPU':\r\n    case 'PR':\r\n    case 'ARPDAU':\r\n    case 'ARPPDAU':\r\n    case 'MPU':\r\n      return (\r\n        <div className=\"stats\">\r\n          {menuStats}\r\n          <ChartPaidUsersStats nameStats={nameStats} partnerId={partnerId} />\r\n        </div>\r\n      )\r\n    default:\r\n      return (\r\n        <div className=\"stats\">\r\n          {menuStats}\r\n          <ChartStats nameStats={nameStats} partnerId={partnerId} />\r\n        </div>\r\n      )\r\n  }\r\n}\r\nexport default Stats;\r\n","import React from 'react'\r\n\r\nconst dataListStats = {\r\n    listNameStats: ['Servers']\r\n}\r\n\r\nexport { dataListStats };","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { getListServerByPartner } from '../../utils/query/promotion'\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { connect } from \"react-redux\";\r\nimport { Icon, DatePicker, Input, Select, Table } from \"antd\";\r\nimport { dates } from \"../../utils/dateInfo\";\r\nimport moment from \"moment\";\r\n\r\nconst ListServers = props => {\r\n    const [listServers, setListServers] = useState([])\r\n    const [getData] = useLazyQuery(getListServerByPartner, {\r\n        onCompleted: data => {\r\n            setListServers(data.listPartnerServersByPartner)\r\n        }\r\n    })\r\n    const { nameStats, partnerId } = props\r\n    useMemo(\r\n        () => {\r\n            switch (nameStats) {\r\n                case 'Servers':\r\n                    getData({\r\n                        variables: {\r\n                            partnerId: partnerId\r\n                        }\r\n                    })\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        },\r\n        [partnerId]\r\n    );\r\n    const columns = [\r\n        {\r\n            title: \"Server name\",\r\n            dataIndex: \"serverName\"\r\n        },\r\n        {\r\n            title: \"Id\",\r\n            dataIndex: \"server\"\r\n        },\r\n        {\r\n            title: \"Thi gian to\",\r\n            dataIndex: \"createdDate\",\r\n            render: index => <span>{moment.utc(Number(index)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n        },\r\n        {\r\n            title: \"Status\",\r\n            dataIndex: \"status\"\r\n        }\r\n    ];\r\n    return (\r\n        <div style={{ width: \"85%\" }} className=\"chart-stats\">\r\n            <div className=\"title-stats\" style={{ marginBottom: \"1rem\" }}>\r\n                <h2 style={{ margin: '0' }}>Clappigames</h2>\r\n                <span>{nameStats}</span>\r\n            </div>\r\n            <Table columns={columns} dataSource={listServers} pagination={false} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ListServers;\r\n","import React, { useEffect } from \"react\";\r\nimport { Menu, Icon, Button } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { dataListStats } from \"./statsService\";\r\nimport { getListPartnerByGame } from \"../../utils/query/stats\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../static/style/stats.css\";\r\nimport ListServers from \"./listServers\";\r\nconst { SubMenu } = Menu;\r\n\r\nfunction Partner() {\r\n  const { listNameStats } = dataListStats;\r\n  const [listPartnersByGame, setListPartnerbyGame] = useState([\r\n    { partnerId: \"\", partnerName: \"\", fullName: \"\" }\r\n  ]);\r\n  const [indexStats, setIndexStats] = useState({\r\n    partnerId: \"\",\r\n    nameStats: \"\"\r\n  });\r\n  const { partnerId, nameStats } = indexStats;\r\n  useQuery(getListPartnerByGame, {\r\n    onCompleted: data => setListPartnerbyGame(data.listPartnersByGame)\r\n  });\r\n  const handleClick = e => {\r\n    setIndexStats(JSON.parse(e.key));\r\n  };\r\n  useEffect(() => {\r\n    setIndexStats({\r\n      partnerId: \"1BA3F861-D4F2-4D97-9F78-38633155EC27\",\r\n      nameStats: \"Servers\"\r\n    });\r\n  }, []);\r\n  const printMenuStats = listPartnersByGame.map(function (value1, i) {\r\n    const printListStats = listNameStats.map((value2, i) => (\r\n      <Menu.Item\r\n        key={`{\"partnerId\":\"${value1.partnerId}\",\"nameStats\":\"${value2}\"}`}\r\n      >\r\n        {value2}\r\n      </Menu.Item>\r\n    ));\r\n    return (\r\n      <SubMenu\r\n        key={value1.partnerName}\r\n        title={\r\n          <span>\r\n            <span>{value1.fullName}</span>\r\n          </span>\r\n        }\r\n      >\r\n        {printListStats}\r\n      </SubMenu>\r\n    );\r\n  });\r\n  return (\r\n    <div className=\"stats\">\r\n      <Menu\r\n        onClick={handleClick}\r\n        style={{ width: \"15%\",height:\"80vh\" }}\r\n        mode=\"inline\"\r\n        defaultSelectedKeys={[\r\n          `{\"partnerId\":\"1BA3F861-D4F2-4D97-9F78-38633155EC27\",\"nameStats\":\"Servers\"}`\r\n        ]}\r\n        defaultOpenKeys={[\"3qzombie\"]}\r\n      >\r\n        {printMenuStats}\r\n      </Menu>\r\n      <ListServers nameStats={nameStats} partnerId={partnerId} />\r\n    </div>\r\n  );\r\n}\r\nexport default Partner;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Table, Button, Pagination, Input, Tabs, Modal } from \"antd\";\r\nimport {\r\n  getListEventByType,\r\n  getListPromotionByType\r\n} from \"../../../../utils/query/promotion\";\r\nimport { useLazyQuery, useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  deletePromotion\r\n} from \"../../../../utils/mutation/promotion\";\r\n\r\nconst { TabPane } = Tabs;\r\nfunction ListPromo() {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    status: \"\",\r\n    type: \"\",\r\n    game: \"\",\r\n    server: 0,\r\n    name: \"\"\r\n  });\r\n  const [dataListPromo, setData] = useState(null);\r\n  const [listDelete, setListDelete] = useState([])\r\n  const { currentPage, pageSize, status, type, game, server, name } = pageIndex;\r\n  const [getData, { loading, data }] = useLazyQuery(getListPromotionByType, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setData(data.listPromotionsByType);\r\n    }\r\n  });\r\n  const [deletePromo] = useMutation(deletePromotion, {\r\n    variables: {\r\n      ids: listDelete\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  useMemo(() => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        type: type,\r\n        game: game,\r\n        server: server,\r\n        name: name\r\n      },\r\n    });\r\n  }, []);\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      render: (text, record) => (\r\n        <span>\r\n          <Link to={`/payment/promotion/detail/promotion?id=${record.id}`}>\r\n            {text}\r\n          </Link>\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Method\",\r\n      dataIndex: \"type\",\r\n      key: \"type\"\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\",\r\n      render: index => (\r\n        <span>{index === \"INPUT\" ? \"Ngng hot ng\" : \"Hot ng\"}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Total\",\r\n      dataIndex: \"\",\r\n      key: \"demo\"\r\n    },\r\n    {\r\n      title: \"Start Time\",\r\n      dataIndex: \"eventTime\",\r\n      key: \"startTime\",\r\n      render: index => <span>{JSON.parse(index).startTime}</span>\r\n    },\r\n    {\r\n      title: \"End Time\",\r\n      dataIndex: \"eventTime\",\r\n      key: \"endTime\",\r\n      render: index => <span>{JSON.parse(index).endTime}</span>\r\n    }\r\n  ];\r\n  const handleChangeTypePromo = statusValue => {\r\n    setPageIndex({ ...pageIndex, status: statusValue });\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: statusValue,\r\n        type: type,\r\n        game: game,\r\n        server: server,\r\n        name: name\r\n      }\r\n    });\r\n  };\r\n  const goPage = pageNumber => {\r\n    setPageIndex({ ...pageIndex, currentPage: pageNumber });\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        type: type,\r\n        game: game,\r\n        server: server,\r\n        name: name\r\n      }\r\n    });\r\n  };\r\n  const getValueSearch = e => {\r\n    setPageIndex({ ...pageIndex, name: e.target.value });\r\n  };\r\n  const onSearchPromo = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        type: type,\r\n        game: game,\r\n        server: server,\r\n        name: name\r\n      }\r\n    });\r\n  };\r\n  const submitDelete = async () => {\r\n    await deletePromo();\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        type: type,\r\n        game: game,\r\n        server: server,\r\n        name: name\r\n      }\r\n    });\r\n    setListDelete([])\r\n  }\r\n  const onSelectListDelete = (selectedRowKeys, selectedRows) => {\r\n    setListDelete(selectedRows.map((val, i) => val.id));\r\n  };\r\n  const rowSelection = {\r\n    onChange: onSelectListDelete,\r\n  };\r\n  if (loading) return \"Loading...\";\r\n  return (\r\n    <div>\r\n      <div className=\"btn-search-promo\">\r\n        <Input onChange={getValueSearch} style={{marginRight:'.25rem'}}/>\r\n        <Button onClick={onSearchPromo} style={{marginRight:'.25rem'}}>Search</Button>\r\n        <Button onClick={submitDelete} disabled={listDelete.length > 0 ? false : true}>Delete</Button>\r\n      </div>\r\n      <Tabs activeKey={status} onChange={handleChangeTypePromo}>\r\n        <TabPane tab=\"Total Purchase\" key=\"\"></TabPane>\r\n        <TabPane tab=\"Active\" key=\"COMPLETE\"></TabPane>\r\n        <TabPane tab=\"Plan\" key=\"INPUT\"></TabPane>\r\n      </Tabs>\r\n      {dataListPromo && (\r\n        <>\r\n          <Table\r\n            columns={columns}\r\n            dataSource={dataListPromo.rows}\r\n            pagination={false}\r\n            rowSelection={rowSelection}\r\n          />\r\n          <Pagination\r\n            current={currentPage}\r\n            total={dataListPromo.count}\r\n            pageSize={10}\r\n            onChange={goPage}\r\n            className=\"pagination-listUser\"\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default ListPromo\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Table, Button, Pagination, Input, Tabs } from \"antd\";\r\nimport {\r\n  getListEventsByType,\r\n} from \"../../../../utils/query/promotion\";\r\nimport { useLazyQuery, useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux'\r\nimport { deleteEvents } from \"../../../../utils/mutation/promotion\";\r\n\r\nconst { TabPane } = Tabs;\r\nfunction ListEvents(props) {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    pageSize: 10,\r\n    status: \"\",\r\n    paymentType: \"\",\r\n    name: \"\"\r\n  });\r\n  const [dataListEvents, setData] = useState(null);\r\n  const [listDelete, setListDelete] = useState([])\r\n  const { currentPage, pageSize, status, paymentType, name } = pageIndex;\r\n  const [getData, { loading, data }] = useLazyQuery(getListEventsByType, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setData(data.listEventsByType);\r\n    }\r\n  });\r\n  const [deleteEvent] = useMutation(deleteEvents, {\r\n    variables: {\r\n      ids: listDelete\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  useEffect(() => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        paymentType: paymentType,\r\n        name: name\r\n      }\r\n    });\r\n  }, []);\r\n  const columns = [\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      render: (text, record) => (\r\n        <span>\r\n          <Link to={`/payment/promotion/detail/event?id=${record.id}`}>\r\n            {text}\r\n          </Link>\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Method\",\r\n      dataIndex: \"config\",\r\n      key: \"type\",\r\n      render: index => {\r\n        if (JSON.parse(index).type === 'INKIND') {\r\n          return <span>Tng qu out Game</span>\r\n        } else if (JSON.parse(index).type === 'COIN') {\r\n          return <span>Tng C.COIN</span>\r\n        } else {\r\n          return <span>Tng Item in Game</span>\r\n        }\r\n      }\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\",\r\n      render: index => (\r\n        <span>{index === \"INPUT\" ? \"Plan\" : \"Active\"}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Total\",\r\n      dataIndex: \"\",\r\n      key: \"demo\"\r\n    },\r\n    {\r\n      title: \"Start Time\",\r\n      dataIndex: \"eventTime\",\r\n      key: \"startTime\",\r\n      render: index => <span>{JSON.parse(index).startTime}</span>\r\n    },\r\n    {\r\n      title: \"End Time\",\r\n      dataIndex: \"eventTime\",\r\n      key: \"endTime\",\r\n      render: index => <span>{JSON.parse(index).endTime}</span>\r\n    }\r\n  ];\r\n  const onSelectListDelete = (selectedRowKeys, selectedRows) => {\r\n    setListDelete(selectedRows.map((val, i) => val.id));\r\n  };\r\n  const rowSelection = {\r\n    onChange: onSelectListDelete,\r\n  };\r\n  const handleChangeTypePromo = statusValue => {\r\n    setPageIndex({ ...pageIndex, status: statusValue });\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: statusValue,\r\n        paymentType: paymentType,\r\n        name: name\r\n      }\r\n    });\r\n  };\r\n  const goPage = pageNumber => {\r\n    setPageIndex({ ...pageIndex, currentPage: pageNumber });\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        paymentType: paymentType,\r\n        name: name\r\n      }\r\n    });\r\n  };\r\n  const getValueSearch = e => {\r\n    setPageIndex({ ...pageIndex, name: e.target.value });\r\n  };\r\n  const onSearchPromo = () => {\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        paymentType: paymentType,\r\n        name: name\r\n      }\r\n    });\r\n  };\r\n  const submitDelete = async () => {\r\n    await deleteEvent();\r\n    getData({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        pageSize: pageSize,\r\n        status: status,\r\n        paymentType: paymentType,\r\n        name: name\r\n      }\r\n    });\r\n    setListDelete([])\r\n  }\r\n  if (loading) return \"Loading...\";\r\n  return (\r\n    <div>\r\n      <div className=\"btn-search-promo\">\r\n        <Input onChange={getValueSearch} style={{marginRight:'.25rem'}}/>\r\n        <Button onClick={onSearchPromo} style={{marginRight:'.25rem'}}>Search</Button>\r\n      \r\n        <Button onClick={submitDelete} disabled={listDelete.length > 0 ? false : true}>Delete</Button>\r\n        </div>\r\n      <Tabs activeKey={status} onChange={handleChangeTypePromo}>\r\n        <TabPane tab=\"Total Purchase\" key=\"\"></TabPane>\r\n        <TabPane tab=\"Active\" key=\"COMPLETE\"></TabPane>\r\n        <TabPane tab=\"Plan\" key=\"INPUT\"></TabPane>\r\n      </Tabs>\r\n      {dataListEvents && (\r\n        <>\r\n          <Table\r\n            columns={columns}\r\n            dataSource={dataListEvents.rows}\r\n            pagination={false}\r\n            rowSelection={rowSelection}\r\n          />\r\n          <Pagination\r\n            current={currentPage}\r\n            total={dataListEvents.count}\r\n            pageSize={10}\r\n            onChange={goPage}\r\n            className=\"pagination-listUser\"\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isCreatePromo: state.isCreatePromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(ListEvents);\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Button, Pagination, Input, Radio } from \"antd\";\r\nimport { useLazyQuery, useQuery } from \"@apollo/react-hooks\";\r\nimport ListPromo from \"./listPromo\";\r\nimport ListEvents from \"./listEvents\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport CreatePromotion from \"../create/index\";\r\nimport { queryGetPlatform } from \"../../../../utils/queryPlatform\";\r\nimport {\r\n  dispatchSwitchCreatePromo,\r\n  dispatchListPartner\r\n} from \"../../../../redux/actions/index\";\r\nimport \"../../../../static/style/listUsers.css\";\r\nimport moment from \"moment\";\r\nfunction ListPromoAndEvent(props) {\r\n  const [isTypePromo, setIsTypePromo] = useState(\"promo\");\r\n  // const [isCreatePromo, setIsCreatePromo] = useState(false);\r\n  const switchPromoAndEvent = e => {\r\n    setIsTypePromo(e.target.value);\r\n  };\r\n  useQuery(queryGetPlatform, {\r\n    onCompleted: data => {\r\n      dispatchListPartner(data.listPartners);\r\n    }\r\n  });\r\n  return (\r\n    <>\r\n      {props.isCreatePromo ? (\r\n        <div className=\"container-listPromo\">\r\n          <div className=\"title\">\r\n            <h2>\r\n              Promotion managerment{\" \"}\r\n              <Button\r\n                size=\"small\"\r\n                onClick={() => dispatchSwitchCreatePromo(false)}\r\n              >\r\n                Creat new promotion\r\n              </Button>\r\n            </h2>\r\n          </div>\r\n          <div>\r\n            <Radio.Group\r\n              value={isTypePromo}\r\n              buttonStyle=\"solid\"\r\n              onChange={switchPromoAndEvent}\r\n            >\r\n              <Radio.Button\r\n                value=\"promo\"\r\n                className=\"btn-switch-listPromo\"\r\n                style={{ marginRight: \".5rem\" }}\r\n              >\r\n                Promotion for Item\r\n              </Radio.Button>\r\n              <Radio.Button value=\"event\" className=\"btn-switch-listPromo\">\r\n                Promotion for purchase\r\n              </Radio.Button>\r\n            </Radio.Group>\r\n          </div>\r\n          {isTypePromo === \"promo\" ? (\r\n            <ListPromo isCreatePromo={props.isCreatePromo} />\r\n          ) : (\r\n            <ListEvents isPromo={isTypePromo} />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <CreatePromotion />\r\n      )}\r\n    </>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isCreatePromo: state.isCreatePromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(ListPromoAndEvent);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Button, Row, Col, Icon, Radio, Tabs, Select, Input } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport { getDetailPromotion } from \"../../../../../utils/query/promotion\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nimport { getListServer } from \"../../../../../utils/query/promotion\";\r\nimport { useQuery, useLazyQuery } from \"react-apollo\";\r\nconst { Option } = Select;\r\nfunction TypePromotion(props) {\r\n  const [itemsForEventTypeItem, setItemForEventTypeItem] = useState([\r\n    { productName: \"\", partnerProductId: \"\" }\r\n  ]);\r\n  const [listGame, setListGame] = useState([\r\n    { partnerId: \"\", partnerName: \"\" }\r\n  ]);\r\n  const [listServer, setListServer] = useState([\r\n    { server: 0, serverName: \"All server\" }\r\n  ]);\r\n  const {\r\n    name,\r\n    status,\r\n    eventTime,\r\n    type,\r\n    shop,\r\n    game,\r\n    server\r\n  } = props.detailPromo;\r\n  const [getListGame] = useLazyQuery(queryGetPlatform, {\r\n    onCompleted: data => setListGame(data.listPartners)\r\n  });\r\n  const [getServers] = useLazyQuery(getListServer(game), {\r\n    onCompleted: data => {\r\n      setListServer([\r\n        {\r\n          server: 0,\r\n          serverName: \"All server\"\r\n        },\r\n        ...data.listPartnerServers\r\n      ]);\r\n    }\r\n  });\r\n  const [getPartnerProducts] = useLazyQuery(getListPartnerProducts(game), {\r\n    onCompleted: data => {\r\n      setItemForEventTypeItem(data.listPartnerProducts);\r\n    }\r\n  });\r\n  useMemo(() => getListGame(), [game]);\r\n  useMemo(() => getServers(), [game]);\r\n  useMemo(() => getPartnerProducts(), [game]);\r\n  const printListItems = itemsForEventTypeItem.map((val, index) => (\r\n    <Option value={val.partnerProductId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n\r\n  if (shop) {\r\n    const indexShop = JSON.parse(shop);\r\n    const printItem = indexShop.map(function(val, index1) {\r\n      const printReward = val.rewards.map((valReward, index2) => (\r\n        <div key={index2} className=\"more-reward-detail\">\r\n          <Input\r\n            value={indexShop[index1].rewards[index2].numb}\r\n            type=\"number\"\r\n            max=\"10\"\r\n            name=\"pucharseTimes\"\r\n            style={{ width: \"19%\", marginRight: \"2%\" }}\r\n          ></Input>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: \"79%\" }}\r\n            dropdownClassName=\"dropdown-coin-event\"\r\n            showArrow={false}\r\n            value={indexShop[index1].rewards[index2].itemId}\r\n          >\r\n            {printListItems}\r\n          </Select>{\" \"}\r\n        </div>\r\n      ));\r\n      return (\r\n        <div key={index1}>\r\n          <Col md={12} className=\"more-items-detail\">\r\n            <Input\r\n              value={indexShop[index1].purchaseTimes}\r\n              type=\"number\"\r\n              max=\"10\"\r\n              name=\"pucharseTimes\"\r\n              style={{ width: \"20%\", marginRight: \"2%\" }}\r\n            ></Input>\r\n            <Select\r\n              value={indexShop[index1].purchaseItemId}\r\n              style={{ width: \"78%\" }}\r\n              dropdownClassName=\"dropdown-coin-event\"\r\n              showArrow={false}\r\n            >\r\n              {printListItems}\r\n            </Select>{\" \"}\r\n          </Col>\r\n          <Col md={12}>{printReward}</Col>\r\n        </div>\r\n      );\r\n    });\r\n    const printListGame = listGame.map((val, i) => (\r\n      <Option value={val.partnerId} key={i}>\r\n        {val.partnerName}\r\n      </Option>\r\n    ));\r\n    const printListServer = listServer.map((val, i) => (\r\n      <Option value={val.server} key={i}>\r\n        {val.serverName}\r\n      </Option>\r\n    ));\r\n    return (\r\n      <Row>\r\n        <h3>Promotion for Item</h3>\r\n        <p>Type of present : {type}</p>\r\n        <div className=\"detail-game\">\r\n          <span style={{ marginRight: \"1rem\" }}>\r\n            Platform:{\" \"}\r\n            <Select\r\n              value={game}\r\n              dropdownClassName=\"dropdown-coin-event\"\r\n              showArrow={false}\r\n              size=\"large\"\r\n              className=\"select-disable-detail\"\r\n            >\r\n              {printListGame}\r\n            </Select>\r\n          </span>\r\n          <span>\r\n            Server:{\" \"}\r\n            <Select\r\n              value={server}\r\n              dropdownClassName=\"dropdown-coin-event\"\r\n              showArrow={false}\r\n              size=\"large\"\r\n              className=\"select-disable-detail\"\r\n            >\r\n              {printListServer}\r\n            </Select>\r\n            \r\n          </span>\r\n        </div>\r\n        <div style={{ width: \"100%\" }} className=\"section4-promotion-title\">\r\n          <div style={{ width: \"50%\", display: \"flex\" }}>\r\n            <div style={{ width: \"22%\" }}>The mount of item</div>\r\n            <div style={{ width: \"78%\" }}>Item</div>\r\n          </div>\r\n          <div style={{ width: \"50%\", display: \"flex\", paddingLeft: \"1.5rem\" }}>\r\n            <div style={{ width: \"22%\" }}>Amount</div>\r\n            <div style={{ width: \"78%\" }}>Present</div>\r\n          </div>\r\n        </div>\r\n        {printItem}\r\n      </Row>\r\n    );\r\n  } else {\r\n    return <p>loadding...</p>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(TypePromotion);\r\n","import React, { useState, useEffect, useMemo, Fragment } from \"react\";\r\nimport { Button, Row, Col, TimePicker, Select, Input, DatePicker } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport { printAlertDailyPromo, daily0 } from \"../promoService\";\r\nimport { getDetailPromotion } from \"../../../../utils/query/promotion\";\r\nimport { getListPartnerProducts } from \"../../../../utils/queryPartnerProducts\";\r\nimport {\r\n  dispatchDeatilPromo,\r\n  dispatchDetailPromo\r\n} from \"../../../../redux/actions/index\";\r\nimport { useQuery, useLazyQuery } from \"react-apollo\";\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nfunction TimePromo(props) {\r\n  const { name, status, eventTime, type, shop, game } = props.detailPromo;\r\n  if (eventTime) {\r\n    const { startTime, endTime, hour, dates, daily } = JSON.parse(eventTime);\r\n    const printAlertDatesPromo = dates.map((val, i) => (\r\n      <Fragment key={i}> {val}rd,</Fragment>\r\n    ));\r\n    const alertDailyPromo = printAlertDailyPromo(daily);\r\n    console.log(eventTime);\r\n    // const printAlertTimeTotalPromo = timeTotalAlert.map((val, i) => <>{val}</>);\r\n    const childrenDates = [];\r\n    for (let i = 1; i <= 31; i++) {\r\n      childrenDates.push(<Option key={i}>{i < 10 ? \"0\" + i : i}</Option>);\r\n    }\r\n    const childrenDaily = daily0.map((val, index) => (\r\n      <Option key={index} value={index}>\r\n        {val}\r\n      </Option>\r\n    ));\r\n    console.log(endTime);\r\n    return (\r\n      <Col md={12} className=\"section2-promotion\">\r\n        <div>\r\n          <p className=\"promotion-title-field\">Timeline </p>\r\n          <div className=\"section2-promotion-pickTime\">\r\n            <h3>Date:</h3>\r\n            <RangePicker\r\n              showTime={{ format: \"HH:mm\" }}\r\n              format=\"DD-MM-YYYY HH:mm\"\r\n              value={[\r\n                moment(startTime, \"DD-MM-YYYY HH:mm\"),\r\n                moment(endTime, \"DD-MM-YYYY HH:mm\")\r\n              ]}\r\n            />\r\n          </div>\r\n          <div className=\"section2-promotion-pickTime\">\r\n            <h3>By day of the month:</h3>\r\n            <Select\r\n              mode=\"multiple\"\r\n              style={{ width: \"80%\" }}\r\n              placeholder=\"- Choose what day of the month the promotion is...\"\r\n              value={dates}\r\n              dropdownClassName=\"dropdown-coin-event\"\r\n              disabled={daily.length !== 0 ? true : false}\r\n            >\r\n              {childrenDates}\r\n            </Select>\r\n          </div>\r\n          <div className=\"section2-promotion-pickTime\">\r\n            <h3>By day of the week:</h3>\r\n            <Select\r\n              mode=\"multiple\"\r\n              style={{ width: \"80%\" }}\r\n              placeholder=\"- Choose what day of the week the promotion is...\"\r\n              value={daily}\r\n              dropdownClassName=\"dropdown-coin-event\"\r\n              disabled={dates.length !== 0 ? true : false}\r\n            >\r\n              {childrenDaily}\r\n            </Select>\r\n          </div>\r\n          <div className=\"section2-promotion-pickTime\">\r\n            <h3>Time:</h3>\r\n            <div style={{width:\"80%\"}}>\r\n            <TimePicker\r\n              format={\"HH:mm\"}\r\n              style={{width:\"50%\"}}\r\n              defaultValue={moment(hour[0], \"HH:mm\")}\r\n              showClear={false}\r\n              placeholder=\"- Gi bt u\"\r\n            />\r\n            <TimePicker\r\n              format={\"HH:mm\"}\r\n              style={{width:\"50%\"}}\r\n              defaultValue={moment(hour[1], \"HH:mm\")}\r\n              placeholder=\"- Gi kt thc\"\r\n              showClear={false}\r\n            />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div style={{ background: \"whitesmoke\", color: \"red\" }}>\r\n         Promotion's timeline will be on {hour[0]==='00:00:00'?\"\":`${hour[0]} 'to' ${hour[1]}`} {alertDailyPromo}\r\n          {printAlertDatesPromo} from {startTime} to {endTime}\r\n        </div>\r\n      </Col>\r\n    );\r\n  } else {\r\n    return <p>Loadding...</p>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(TimePromo);\r\n","import React, { useState, useCallback } from \"react\";\r\nimport { Button, Input, Row, Col, Select,Icon } from \"antd\";\r\nimport { updatePromotion } from \"../../../../../utils/mutation/promotion\";\r\nimport moment from \"moment\";\r\nimport {\r\n  checkNumb,\r\n  checkMainInfoPromoAndEvent,\r\n  checkPurchaseItemIsEmtry,\r\n  alertErrorNamePromo,\r\n  alertErrorItemPromo,\r\n  checkItemIsEmtry,\r\n  checkEndHour,\r\n  checkStartHour\r\n} from \"../../promoService\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nimport { connect } from \"react-redux\";\r\nconst { Option } = Select;\r\nfunction EventByItems(props) {\r\n  const { shop, id } = props.detailPromo;\r\n  const [itemsForEventTypeItem, setItemForEventTypeItem] = useState([\r\n    { productName: \"\", partnerProductId: \"\" }\r\n  ]);\r\n  const {\r\n    name,\r\n    status,\r\n    type,\r\n    timeTotal,\r\n    dates,\r\n    daily,\r\n    startTime,\r\n    endTime\r\n  } = props.indexPromoAndEvent;\r\n  const { indexShop } = props;\r\n  const { platformId, server } = props.indexGameForPromo;\r\n  const { data } = useQuery(getListPartnerProducts(platformId), {\r\n    onCompleted: data => {\r\n      setItemForEventTypeItem(data.listPartnerProducts);\r\n    }\r\n  });\r\n  const [updatePromo] = useMutation(updatePromotion, {\r\n    variables: {\r\n      id: id,\r\n      req: {\r\n        name: name,\r\n        type: type,\r\n        status: status,\r\n        game: platformId,\r\n        server: server,\r\n        shop: JSON.stringify(indexShop),\r\n        eventTime: JSON.stringify({\r\n          startTime: timeTotal[0],\r\n          endTime: timeTotal[1],\r\n          dates: dates,\r\n          daily: daily,\r\n          hour: [checkStartHour(startTime), checkEndHour(endTime)]\r\n        })\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const submitUpdatePromo = async () => {\r\n    if (\r\n      checkMainInfoPromoAndEvent(\r\n        name,\r\n        type,\r\n        timeTotal[0],\r\n        startTime,\r\n        endTime,\r\n      )\r\n    ) {\r\n      if (checkNumb(indexShop) &&\r\n        checkItemIsEmtry(indexShop) &&\r\n        checkPurchaseItemIsEmtry(indexShop)) {\r\n          await updatePromo();\r\n        props.successAlert(false);\r\n      } else {\r\n        alertErrorItemPromo();\r\n      }\r\n    } else {\r\n      alertErrorNamePromo();\r\n    }\r\n  };\r\n  const addItem = () => {\r\n    const newItem = {\r\n      purchaseTimes: indexShop[indexShop.length - 1].purchaseTimes,\r\n      purchaseItemId: [],\r\n      rewards: [\r\n        {\r\n          numb: 1,\r\n          itemId: []\r\n        }\r\n      ]\r\n    };\r\n    props.setIndexShop([...indexShop, newItem]);\r\n  };\r\n  const reduceItem = async val => {\r\n    if (val !== 0) {\r\n      const newItem = await indexShop.filter((value, index) => index !== val);\r\n      props.setIndexShop(newItem);\r\n    }\r\n  };\r\n  const addReward = async i => {\r\n    const newReward = {\r\n      numb: 1,\r\n      itemId: []\r\n    };\r\n    const newShop = [...indexShop];\r\n    newShop[i].rewards = [...newShop[i].rewards, newReward];\r\n    props.setIndexShop(newShop);\r\n  };\r\n  const reduceReward = async (numberItem, indexReward) => {\r\n    if(!props.isTimeInPromo){\r\n      const newShop = [...indexShop];\r\n      if (newShop.length > 0) {\r\n        const newReward = await indexShop[numberItem].rewards.filter(\r\n          (value, i) => indexReward !== i\r\n        );\r\n        newShop[numberItem].rewards = newReward;\r\n        props.setIndexShop(newShop);\r\n      }\r\n    }\r\n  };\r\n  const handleChooseReward = (positionItem, positionReward, val) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].rewards[positionReward].itemId = val;\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const handleChooseNumbReward = (positionItem, positionReward, e) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].rewards[positionReward].numb =\r\n      e.target.value !== \"\" ? Number(e.target.value) : \"\";\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const handleChooseItem = (positionItem, value) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].purchaseItemId = value;\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const handleChooseNumbItem = (positionItem, e) => {\r\n    const newItem = [...indexShop];\r\n    newItem[positionItem].purchaseTimes =\r\n      e.target.value !== \"\" ? Number(e.target.value) : \"\";\r\n    console.log(newItem);\r\n    props.setIndexShop(newItem);\r\n  };\r\n  const printListItems = itemsForEventTypeItem.map((val, index) => (\r\n    <Option value={val.partnerProductId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  const printItem = indexShop.map(function (val, index1) {\r\n    const printReward = val.rewards.map((valReward, index2) => (\r\n      <div key={index2} className=\"more-reward\">\r\n      <Icon type=\"minus\" onClick={() => reduceReward(index1, index2)} style={{fontSize:\"16px\",margin:'0 .25rem'}}/>\r\n        <Input\r\n          value={indexShop[index1].rewards[index2].numb}\r\n          type=\"number\"\r\n          name=\"pucharseTimes\"\r\n          onChange={e => handleChooseNumbReward(index1, index2, e)}\r\n          style={{ width: \"20%\" }}\r\n          disabled={props.isTimeInPromo}\r\n        ></Input>\r\n        <Select\r\n          mode=\"multiple\"\r\n          value={indexShop[index1].rewards[index2].itemId}\r\n          style={{ width: \"80%\" }}\r\n          onChange={value => handleChooseReward(index1, index2, value)}\r\n          disabled={props.isTimeInPromo}\r\n        >\r\n          {printListItems}\r\n        </Select>{\" \"}\r\n      </div>\r\n    ));\r\n    return (\r\n      <div key={index1}>\r\n        <Col md={12} className='more-items'>\r\n        <Icon type=\"close\" onClick={() => reduceItem(index1)} style={{fontSize:\"16px\",margin:'0 .25rem'}} disabled={props.isTimeInPromo} />\r\n          <Input\r\n            value={indexShop[index1].purchaseTimes}\r\n            type=\"number\"\r\n            step=\"100\"\r\n            min={index1 > 0 ? indexShop[index1 - 1].purchaseTimes : 0}\r\n            name=\"pucharseTimes\"\r\n            onChange={e => handleChooseNumbItem(index1, e)}\r\n            style={{ width: \"20%\" }}\r\n            disabled={props.isTimeInPromo}\r\n          ></Input>\r\n          <Select\r\n            value={indexShop[index1].purchaseItemId}\r\n            style={{ width: \"80%\" }}\r\n            onChange={value => handleChooseItem(index1, value)}\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printListItems}\r\n          </Select>{\" \"}\r\n        </Col>\r\n        <Col md={12} style={{ padding: \"1rem 1rem 1rem .25rem\" }}>\r\n          {printReward}\r\n          <Button onClick={() => addReward(index1)} disabled={props.isTimeInPromo} style={{marginLeft:'1.5rem'}}>Add more present</Button>\r\n        </Col>\r\n      </div>\r\n    );\r\n  });\r\n  return (\r\n    <div className=\"section4-promotion\">\r\n      <div style={{ width: \"100%\" }} className=\"section4-promotion-title\">\r\n        <div style={{ width: \"50%\", display: \"flex\" }}>\r\n          <div style={{ width: \"20%\" }}>The mount of item</div>\r\n          <div style={{ width: \"80%\" }}>Item</div>\r\n        </div>\r\n        <div style={{ width: \"50%\", display: \"flex\" }}>\r\n          <div style={{ width: \"20%\" }}>Amount</div>\r\n          <div style={{ width: \"80%\" }}>Present</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"btn-create-promo\">\r\n        <Button onClick={submitUpdatePromo}>Submit</Button>\r\n      </div>\r\n      <Row>\r\n        {printItem}\r\n        <Button onClick={() => addItem()} disabled={props.isTimeInPromo} style={{margin:\"1rem 1.5rem\"}}>Add more conditions</Button>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(EventByItems);\r\n","import React, { Component, useState } from \"react\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../../../../static/style/promotion.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport { getPromotionType } from \"../../../../../utils/queryPaymentAndPromoType\";\r\nimport { Select } from \"antd\";\r\nconst { Option } = Select;\r\n\r\nfunction MenuRewardByItem(props) {\r\n  const { type } = props.indexPromoAndEvent;\r\n  const { server, platformId } = props.indexGameForPromo;\r\n  const { listServer } = props.listPartner;\r\n  const [listType, setListType] = useState([{ name: \"\", description: \"\" }]);\r\n  const [listGame, setListGame] = useState([{}]);\r\n  const { data } = useQuery(queryGetPlatform, {\r\n    onCompleted: data => {\r\n      setListGame(data.listPartners);\r\n    }\r\n  });\r\n  useQuery(getPromotionType, {\r\n    onCompleted: data => {\r\n      setListType(data.__type.enumValues);\r\n    }\r\n  });\r\n  const printPromoType = listType.map((val, index) => (\r\n    <Option value={val.name} key={index}>\r\n      {val.description}\r\n    </Option>\r\n  ));\r\n  const printPlatform = props.listPartners.map((val, i) => (\r\n    <Option value={val.partnerId} key={i}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  const printListServer = listServer.map((val, index) => (\r\n    <Option value={val.server} key={index}>\r\n      {val.serverName}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"promo-section2\">\r\n      <div className=\"promo-choose-platform\">\r\n        <div>\r\n          <div className=\"promo-choose-platform-name\">\r\n            <p>Chn game:</p>\r\n            <Select\r\n              style={{ width: \"65%\" }}\r\n              onChange={props.handleChangePlatformPromo}\r\n              placeholder=\"-Chn game-\"\r\n              value={platformId}\r\n              disabled={props.isTimeInPromo}\r\n            >\r\n              {printPlatform}\r\n            </Select>{\" \"}\r\n          </div>\r\n          <div className=\"promo-choose-platform-server\">\r\n            <p>Server:</p>\r\n            <Select\r\n              placeholder=\"-Chn server-\"\r\n              style={{ width: \"65%\" }}\r\n              onChange={props.handleChangeServerPromo}\r\n              name=\"server\"\r\n              value={server}\r\n              disabled={props.isTimeInPromo}\r\n            >\r\n              {printListServer}\r\n            </Select>{\" \"}\r\n          </div>\r\n        </div>\r\n        <div className=\"promo-choose-platform-name\">\r\n          <p>Type of present:</p>\r\n          <Select\r\n            style={{ width: \"65%\" }}\r\n            onChange={props.handleChangeTypePromo}\r\n            value={type}\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printPromoType}\r\n          </Select>{\" \"}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo,\r\n    listPartners: state.listPartner\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(MenuRewardByItem);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Row, Col, Input, Icon, Modal } from \"antd\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport {\r\n  deleteEvents,\r\n  deletePromotion\r\n} from \"../../../../../utils/mutation/promotion\";\r\nimport \"../../../../../static/style/promotion.css\";\r\nimport ListImagesForNews from \"../../../../news/modalImageUrl/imgsUrl\";\r\nimport EventByItems from \"./inputRewardItem\";\r\nimport MenuRewardByItem from \"./menuRewardItem\";\r\nimport InputRewardForShowByMoney from \"../../create/event/inputReward\";\r\nimport MenuRewardEventByMoney from \"../../create/event/menuReward\";\r\nimport {\r\n  InputNameAndTypeArea,\r\n  InputTimeArea\r\n} from \"../../create/nameAndTimePromo\";\r\nimport {\r\n  dispatchResetItemRewards,\r\n  dispatchInititalIndexConfig,\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../../redux/actions/index\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport { getListPartnerProducts2 } from \"../../../../../utils/queryPartnerProducts\";\r\nimport {\r\n  getListServer,\r\n  getListItemsForEvent\r\n} from \"../../../../../utils/query/promotion\";\r\nimport { alertErrorServer } from '../../../../../utils/alertErrorAll'\r\nimport { checkTime, indexAllServer } from \"../../promoService\";\r\nimport moment from \"moment\";\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nfunction UpdatePromotion(props) {\r\n  const {\r\n    name,\r\n    id,\r\n    game,\r\n    status,\r\n    eventTime,\r\n    shop,\r\n    type,\r\n    config,\r\n    paymentType,\r\n    imageUrl\r\n  } = props.detailPromo;\r\n  const { startTime, endTime, dates, daily, hour } = JSON.parse(eventTime);\r\n  const isTimeInPromo = checkTime(startTime);\r\n  const [alertUpdateSuccess, setAlertUpdateSuccess] = useState(false);\r\n  const [switchTypeEvent, setSwitchTypeEvent] = useState(shop ? true : false);\r\n  const [isCreateEvent, setIsCreateEvent] = useState(false);\r\n  const [indexShop, setIndexShop] = useState(shop ? JSON.parse(shop) : \"\");\r\n  const [indexPromoAndEvent, setIndexPromoAndEvent] = useState({\r\n    name: name,\r\n    platformId: \"\",\r\n    server: \"\",\r\n    status: status,\r\n    type: type,\r\n    timeTotal: [startTime, endTime],\r\n    dates: dates,\r\n    daily: daily,\r\n    startTime: hour[0],\r\n    endTime: hour[1],\r\n    linkUrl: props.detailPromo.linkUrl\r\n  });\r\n  const [listPartner, setListPartner] = useState({\r\n    listGame: [{}],\r\n    listServer: [indexAllServer],\r\n    listItems: [\r\n      {\r\n        productId: \"\",\r\n        partnerProductId: \"\"\r\n      }\r\n    ]\r\n  });\r\n  const [indexGameForPromo, setIndexGameForPromo] = useState({\r\n    platformId: game,\r\n    server: props.detailPromo.server\r\n  });\r\n  const [alertInfoPromo, setAlertInfoPromo] = useState({\r\n    dailyAlert: [],\r\n    datesAlert: [],\r\n    timeTotalAlert: []\r\n  });\r\n  const [indexEventByMoney, setIndexEventByMoney] = useState({\r\n    paymentTypeByMoney: \"\",\r\n    isPaymentTypeByCoin: paymentType === \"COIN\" ? true : false,\r\n    itemsForEventByMoney: [{ productName: \"\", productId: \"\" }]\r\n  });\r\n  const { platformId, server } = indexGameForPromo;\r\n  const { listItems } = listPartner;\r\n  const [getListPartnerByPlatform] = useLazyQuery(getListPartnerProducts2, {\r\n    onCompleted: data => {\r\n      setListPartner({ ...listPartner, listItems: data.listPartnerProducts });\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [getListPlatForm] = useLazyQuery(queryGetPlatform, {\r\n    onCompleted: data => {\r\n      setListPartner({ ...listPartner, listGame: data.listPartners });\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [deleteEvent] = useMutation(deleteEvents, {\r\n    variables: {\r\n      ids: props.idCreatePromoAndEvent\r\n    },\r\n    onCompleted: data => {\r\n      console.log(data);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [deletePromo] = useMutation(deletePromotion, {\r\n    variables: {\r\n      ids: [id]\r\n    },\r\n    onCompleted: data => console.log(data),\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  console.log(isCreateEvent);\r\n  const [getServers] = useLazyQuery(getListServer(platformId), {\r\n    onCompleted: data => {\r\n      setListPartner({\r\n        ...listPartner,\r\n        listServer: [indexAllServer, ...data.listPartnerServers]\r\n      });\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [getListItemsEvent] = useLazyQuery(getListItemsForEvent, {\r\n    onCompleted: data => {\r\n      setIndexEventByMoney({\r\n        ...indexEventByMoney,\r\n        itemsForEventByMoney: data.listProducts\r\n      });\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  useEffect(() => {\r\n    dispatchSetUrlImageThumbnail(imageUrl)\r\n    getListItemsEvent();\r\n    getListPlatForm();\r\n    getServers();\r\n  }, [])\r\n  useMemo(\r\n    () =>\r\n      getListPartnerByPlatform({\r\n        variables: {\r\n          partnerId: config ? JSON.parse(config).game : \"\"\r\n        }\r\n      }),\r\n    [switchTypeEvent]\r\n  );\r\n  const resetGameAndServer = () => { };\r\n\r\n  const handleChangePlatform = async e => {\r\n    dispatchResetItemRewards();\r\n    await setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      platformId: e,\r\n      server: 0\r\n    });\r\n    setListPartner({\r\n      ...listPartner,\r\n      listServer: [\r\n        {\r\n          server: 0,\r\n          serverName: \"All server\"\r\n        }\r\n      ]\r\n    });\r\n    await getListPartnerByPlatform({\r\n      variables: {\r\n        partnerId: e\r\n      }\r\n    });\r\n  };\r\n  const handleChangePlatformPromo = async e => {\r\n    dispatchResetItemRewards();\r\n    setIndexShop([\r\n      {\r\n        purchaseTimes: 1,\r\n        purchaseItemId: [],\r\n        rewards: [\r\n          {\r\n            numb: 1,\r\n            itemId: []\r\n          }\r\n        ]\r\n      }\r\n    ]);\r\n    await setIndexGameForPromo({\r\n      platformId: e,\r\n      server: 0\r\n    });\r\n    await getListPartnerByPlatform({\r\n      variables: {\r\n        partnerId: e\r\n      }\r\n    });\r\n  };\r\n  const setInfoPromo = e => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  const handleChangeServerPromo = e => {\r\n    setIndexGameForPromo({ ...indexGameForPromo, server: e });\r\n  };\r\n  const handleChangeServer = e => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, server: e });\r\n  };\r\n  const handleStartTimeTotal = value => {\r\n    const newTimetotal = indexPromoAndEvent.timeTotal;\r\n    newTimetotal[0] = moment(value).format(\"YYYY-MM-DD HH:mm\") + \":00\";\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      timeTotal: newTimetotal\r\n    });\r\n  };\r\n  const handleEndTimeTotal = value => {\r\n    const newTimetotal = indexPromoAndEvent.timeTotal;\r\n    newTimetotal[1] = moment(value).format(\"YYYY-MM-DD HH:mm\") + \":59\";\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      timeTotal: newTimetotal\r\n    });\r\n  };\r\n  const pickAllDay = () => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      startTime: \"00:00:00\",\r\n      endTime: \"23:59:59\"\r\n    });\r\n  };\r\n  const setTimePromo = (timeString, val) => {\r\n    if (val === \"startTime\") {\r\n      setIndexPromoAndEvent({\r\n        ...indexPromoAndEvent,\r\n        startTime: timeString !== \"\" ? timeString + \":00\" : \"\"\r\n      });\r\n    } else {\r\n      setIndexPromoAndEvent({\r\n        ...indexPromoAndEvent,\r\n        endTime: timeString !== \"\" ? timeString + \":59\" : \"\"\r\n      });\r\n    }\r\n  };\r\n  const handleChangeDaily = value => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      daily: value.sort((a, b) => a - b)\r\n    });\r\n  };\r\n  const handleChangeDates = value => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      dates: value.sort((a, b) => a - b)\r\n    });\r\n  };\r\n  const handleChangeTypePromo = val => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, type: val });\r\n  };\r\n  const getLinkUrl = e => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, linkUrl: e.target.value })\r\n  }\r\n  const successAlert = val => {\r\n    setIsCreateEvent(val);\r\n    setAlertUpdateSuccess(true);\r\n  };\r\n  const backToList = () => {\r\n    dispatchInititalIndexConfig();\r\n    isCreateEvent ? deletePromo() : viewDetail();\r\n  };\r\n  const viewDetail = () => {\r\n    deleteEvent();\r\n    props.backToDetail();\r\n  };\r\n  return (\r\n    <Row className=\"container-promotion\">\r\n      <div>\r\n        <div>\r\n          {isCreateEvent ? (\r\n            <Link\r\n              to={`/payment/promotion/detail/event?id=${props.idCreatePromoAndEvent}`}\r\n              onClick={backToList}\r\n            >\r\n              Back\r\n            </Link>\r\n          ) : (\r\n              <a onClick={backToList}><Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />Back</a>\r\n            )}\r\n          <h2>Update promotion</h2>\r\n        </div>\r\n      </div>\r\n      <Col md={12} className=\"section1-promotion\">\r\n        <div>\r\n          <InputNameAndTypeArea\r\n            alertUpdateSuccess={alertUpdateSuccess}\r\n            resetGameAndServer={resetGameAndServer}\r\n            indexPromoAndEvent={indexPromoAndEvent}\r\n            listPartner={listPartner}\r\n            setListPartner={setListPartner}\r\n            setInfoPromo={setInfoPromo}\r\n            switchTypeEvent={switchTypeEvent}\r\n            setSwitchTypeEvent={setSwitchTypeEvent}\r\n            isTimeInPromo={isTimeInPromo}\r\n          />\r\n          {switchTypeEvent ? (\r\n            <MenuRewardByItem\r\n              indexShop={indexShop}\r\n              setIndexShop={setIndexShop}\r\n              indexPromoAndEvent={indexPromoAndEvent}\r\n              indexGameForPromo={indexGameForPromo}\r\n              listPartner={listPartner}\r\n              handleChangePlatformPromo={handleChangePlatformPromo}\r\n              handleChangelistPartner={handleChangeTypePromo}\r\n              handleChangeServerPromo={handleChangeServerPromo}\r\n              isTimeInPromo={isTimeInPromo}\r\n            />\r\n          ) : (\r\n              <MenuRewardEventByMoney\r\n                indexPromoAndEvent={indexPromoAndEvent}\r\n                setIndexPromoAndEvent={setIndexPromoAndEvent}\r\n                indexEventByMoney={indexEventByMoney}\r\n                setIndexEventByMoney={setIndexEventByMoney}\r\n                server={indexPromoAndEvent.server}\r\n                listPartner={listPartner}\r\n                handleChangePlatform={handleChangePlatform}\r\n                handleChangeServer={handleChangeServer}\r\n              />\r\n            )}\r\n        </div>\r\n      </Col>\r\n      <InputTimeArea\r\n        indexPromoAndEvent={indexPromoAndEvent}\r\n        alertInfoPromo={alertInfoPromo}\r\n        handleStartTimeTotal={handleStartTimeTotal}\r\n        handleEndTimeTotal={handleEndTimeTotal}\r\n        pickAllDay={pickAllDay}\r\n        handleChangeDaily={handleChangeDaily}\r\n        handleChangeDates={handleChangeDates}\r\n        setTimePromo={setTimePromo}\r\n        isTimeInPromo={isTimeInPromo}\r\n      />\r\n      <Col md={18}>\r\n        {switchTypeEvent ? (\r\n          <EventByItems\r\n            listItems={listItems}\r\n            indexPromoAndEvent={indexPromoAndEvent}\r\n            indexShop={indexShop}\r\n            setIndexShop={setIndexShop}\r\n            indexGameForPromo={indexGameForPromo}\r\n            successAlert={successAlert}\r\n            isTimeInPromo={isTimeInPromo}\r\n          />\r\n        ) : (\r\n            <InputRewardForShowByMoney\r\n              successAlert={successAlert}\r\n              listPartner={listPartner}\r\n              listItems={listItems}\r\n              indexPromoAndEvent={indexPromoAndEvent}\r\n              setIndexPromoAndEvent={setIndexPromoAndEvent}\r\n              indexEventByMoney={indexEventByMoney}\r\n              setIndexEventByMoney={setIndexEventByMoney}\r\n              isUpdate={props.isUpdate}\r\n            />\r\n          )}\r\n      </Col>\r\n      <Col md={6} style={{ margin: \".5rem 0\" }}>\r\n        <h3>Link post</h3>\r\n        <Input placeholder=\"Get link post...\" style={{ width: \"100%\" }} value={indexPromoAndEvent.linkUrl} onChange={getLinkUrl} />\r\n        <div>\r\n          <p className='select-image-promotion'>Select thumbnail promotion</p>\r\n          <div style={{ width: \"100%\" }}>\r\n            {props.urlImgThumbnail === null ? <i>Thumbnail image is emtry</i> : <img src={props.urlImgThumbnail} style={{ maxHeight: \"100%\", maxWidth: \"100%\" }} />}\r\n          </div>\r\n          <a onClick={() => dispatchShowImagesNews(true)}>Select</a>\r\n        </div>\r\n        <ListImagesForNews isThumbnail={true} />\r\n      </Col>\r\n      <Modal\r\n        title={<Icon type=\"check-circle\" />}\r\n        visible={alertUpdateSuccess}\r\n        onCancel={() => setAlertUpdateSuccess(false)}\r\n        onOk={() => {\r\n          isCreateEvent ? deletePromo() : viewDetail();\r\n        }}\r\n        okText={\r\n          isCreateEvent ? (\r\n            <Link\r\n              to={`/payment/promotion/detail/event?id=${props.idCreatePromoAndEvent}`}\r\n            >\r\n              Back\r\n            </Link>\r\n          ) : (\r\n              <span>Back</span>\r\n            )\r\n        }\r\n        cancelText=\"Next\"\r\n      ></Modal>\r\n    </Row>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo,\r\n    idCreatePromoAndEvent: state.idPromoAndEventCreateInUpdate,\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(UpdatePromotion);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Row, Col, Icon, Radio, Tabs, Modal } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getDetailPromotion } from \"../../../../../utils/query/promotion\";\r\nimport TypePromo from \"./typePromo\";\r\nimport TimePromo from \"../timePromo\";\r\nimport UpdatePromotion from \"../../update/promotion/index\";\r\nimport { dispatchDetailPromoAndEvent } from \"../../../../../redux/actions/index\";\r\nimport { useQuery } from \"react-apollo\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nfunction DetailPromotion(props) {\r\n  const query = new URLSearchParams(window.location.search);\r\n  const [isShowPromo, setIsShowPromo] = useState(\"1\");\r\n  const [isUpdate, setIsUpdate] = useState(false);\r\n  const promoId = query.get(\"id\");\r\n  const showConfirm = () => {\r\n    confirm({\r\n      title: \"Promotion edit?\",\r\n      content: (\r\n        <div>\r\n          <p>\r\n          - System allow to update information of promotion when promotion don't have any purchase \r\n          </p>\r\n          <p>\r\n          - If in promotion actived and doesn't have any purchase, you can update conditions, name of promotion and timeline, status\r\n          </p>\r\n          <p>\r\n          - Other way, if Promotion have purchase, just update name of promotion, status, timeline\r\n          </p>\r\n        </div>\r\n      ),\r\n      onOk() {\r\n        setIsUpdate(true);\r\n      },\r\n      onCancel() {\r\n        console.log(\"Cancel\");\r\n      }\r\n    });\r\n  };\r\n  const { refetch } = useQuery(getDetailPromotion(promoId), {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      dispatchDetailPromoAndEvent(data.listPromotions[0]);\r\n    }\r\n  });\r\n  const backToDetail = () => {\r\n    setIsUpdate(false);\r\n    refetch();\r\n  }\r\n  const { name, status, eventTime, type, shop } = props.detailPromo;\r\n  return (\r\n    <>\r\n      {isUpdate ? (\r\n        <UpdatePromotion isUpdate={isUpdate} backToDetail={backToDetail} />\r\n      ) : (\r\n          <Row>\r\n            <Link to=\"/payment/promotion\">\r\n              <span>\r\n                <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n              Back\r\n            </span>\r\n            </Link>\r\n            <div className=\"promo-title\">\r\n              <div className=\"promo-title-name\">\r\n                <h2>{name}</h2>\r\n                <Button onClick={showConfirm}>Edit</Button>\r\n              </div>\r\n              <div>\r\n                <h3 style={{ margin: \"0 1rem 0 0\" }}>Status</h3>\r\n                <Radio.Group value={status}>\r\n                  <Radio value=\"COMPLETE\">Active</Radio>\r\n                  <Radio value=\"INPUT\">Plan</Radio>\r\n                </Radio.Group>\r\n              </div>\r\n            </div>\r\n            <Tabs activeKey={isShowPromo} onChange={key => setIsShowPromo(key)}>\r\n              <TabPane tab=\"Method\" key=\"1\">\r\n                <TypePromo />\r\n              </TabPane>\r\n              <TabPane tab=\"Timeline\" key=\"2\">\r\n                <TimePromo />\r\n              </TabPane>\r\n              <TabPane tab=\"History of purchase in Promotion\" key=\"3\"></TabPane>\r\n            </Tabs>\r\n          </Row>\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(DetailPromotion);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Button, Row, Col, Icon, Radio, Tabs, Select, Input } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport { getDetailPromotion } from \"../../../../../utils/query/promotion\";\r\nimport { getListServer } from \"../../../../../utils/query/promotion\";\r\nimport { getListItemsForEvent } from \"../../../../../utils/query/promotion\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nimport { isTypeEvent } from \"../../promoService\";\r\nimport {\r\n  dispatchDeatilPromo,\r\n  dispatchDetailPromo\r\n} from \"../../../../../redux/actions/index\";\r\nimport { useQuery, useLazyQuery } from \"react-apollo\";\r\nconst { Option } = Select;\r\nfunction TypeEvent(props) {\r\n  const [productsEventTypeItem, setProductsEventTypeItem] = useState([\r\n    { productName: \"\", partnerProductId: \"\" }\r\n  ]);\r\n  const [itemsEvent, setItemsEvent] = useState([\r\n    { productName: \"\", productId: \"\" }\r\n  ]);\r\n  const [listGame, setListGame] = useState([\r\n    { partnerId: \"\", partnerName: \"\" }\r\n  ]);\r\n  const [listServer, setListServer] = useState([\r\n    { server: 0, serverName: \"All server\" }\r\n  ]);\r\n  const { name, status, eventTime, config, paymentType } = props.detailPromo;\r\n  const [getListGame] = useLazyQuery(queryGetPlatform, {\r\n    onCompleted: data => setListGame(data.listPartners)\r\n  });\r\n  const [getServers] = useLazyQuery(getListServer(props.dataDetail.game), {\r\n    onCompleted: data => {\r\n      setListServer([\r\n        {\r\n          server: 0,\r\n          serverName: \"All server\"\r\n        },\r\n        ...data.listPartnerServers\r\n      ]);\r\n    }\r\n  });\r\n\r\n  const [getPartnerProducts] = useLazyQuery(\r\n    getListPartnerProducts(props.dataDetail.game),\r\n    {\r\n      onCompleted: data => {\r\n        setProductsEventTypeItem(data.listPartnerProducts);\r\n      }\r\n    }\r\n  );\r\n  useQuery(getListItemsForEvent, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setItemsEvent(data.listProducts);\r\n    }\r\n  });\r\n  useMemo(() => getListGame(), [props.dataDetail.game]);\r\n  useMemo(() => getServers(), [props.dataDetail.game]);\r\n  useMemo(() => getPartnerProducts(), [props.dataDetail.game]);\r\n  const printListItems = productsEventTypeItem.map((val, index) => (\r\n    <Option value={val.partnerProductId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  const printItemsEvent = itemsEvent.map((val, i) => (\r\n    <Option value={val.productId} key={i}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  if (config) {\r\n    const indexShop = JSON.parse(config);\r\n    const printPlatform = listGame.map((val, i) => (\r\n      <Option value={val.partnerId} key={i}>\r\n        {val.partnerName}\r\n      </Option>\r\n    ));\r\n    const printListServer = listServer.map((val, i) => (\r\n      <Option value={val.server} key={i}>\r\n        {val.serverName}\r\n      </Option>\r\n    ));\r\n    const printItem = indexShop.data.map(function(val, index1) {\r\n      return (\r\n        <div key={index1}>\r\n          <Col\r\n            md={24}\r\n            style={{\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              alignItems: \"center\",\r\n              padding: \"1rem\",\r\n              border: \"1px solid #eeeeee\"\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: \"28%\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                marginRight: \"2%\"\r\n              }}\r\n            >\r\n              <span style={{ marginRight: \"1%\" }}>From</span>\r\n              <Input\r\n                value={val.point}\r\n                type=\"number\"\r\n                name=\"pucharseTimes\"\r\n              ></Input>\r\n              <span style={{ marginLeft: \".2rem\" }}>\r\n                {paymentType === \"MONEY\" ? \"VN\" : \"C.COIN\"}\r\n              </span>\r\n            </div>\r\n            {indexShop.type === \"INKIND\" && (\r\n              <Input\r\n                value={val.rewards[0]}\r\n                placeholder=\"-in qu out game-\"\r\n                name=\"pucharseTimes\"\r\n                style={{ width: \"70%\" }}\r\n              ></Input>\r\n            )}\r\n            {indexShop.type === \"COIN\" && (\r\n              <>\r\n                <Select\r\n                  mode=\"multiple\"\r\n                  value={val.rewards}\r\n                  style={{ width: \"70%\" }}\r\n                  dropdownClassName=\"dropdown-coin-event\"\r\n                >\r\n                  {printItemsEvent}\r\n                </Select>{\" \"}\r\n              </>\r\n            )}\r\n            {indexShop.type === \"ITEM\" && (\r\n              <>\r\n                <Select\r\n                  mode=\"multiple\"\r\n                  value={val.rewards}\r\n                  style={{ width: \"70%\" }}\r\n                  dropdownClassName=\"dropdown-coin-event\"\r\n                >\r\n                  {printListItems}\r\n                </Select>\r\n              </>\r\n            )}\r\n          </Col>\r\n        </div>\r\n      );\r\n    });\r\n    return (\r\n      <Row>\r\n        <h3>Promotion for purchase</h3>\r\n        {/* <p>Hnh thc : {type}</p> */}\r\n        <div className=\"detail-game\">\r\n          <span style={{ marginRight: \"1rem\" }}>\r\n          Type of purchase: By {paymentType} ( {paymentType} exchange)\r\n          </span>\r\n          <span style={{ marginRight: \"1rem\" }}>\r\n          Type of present : {isTypeEvent(indexShop.type)}\r\n          </span>\r\n        </div>\r\n        <div>\r\n          {indexShop.game && (\r\n            <div>\r\n              <span style={{ marginRight: \"1rem\" }}>\r\n                Game:{\" \"}\r\n                <Select\r\n                  defaultValue={indexShop.game}\r\n                  dropdownClassName=\"dropdown-coin-event\"\r\n                  showArrow={false}\r\n                  size=\"large\"\r\n                  className=\"select-disable-detail\"\r\n                >\r\n                  {printPlatform}\r\n                </Select>\r\n              </span>\r\n              <span>\r\n                Server:{\" \"}\r\n                <Select\r\n                  value={indexShop.server}\r\n                  dropdownClassName=\"dropdown-coin-event\"\r\n                  showArrow={false}\r\n                  size=\"large\"\r\n                  className=\"select-disable-detail\"\r\n                >\r\n                  {printListServer}\r\n                </Select>\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div\r\n          style={{ width: \"100%\", marginTop: \"1rem\" }}\r\n          className=\"section4-promotion-title\"\r\n        >\r\n          <h3 style={{ width: \"30%\" }}>The mount of item</h3>\r\n          <h3 style={{ width: \"70%\" }}>Present</h3>\r\n        </div>\r\n        <div>{printItem}</div>\r\n      </Row>\r\n    );\r\n  } else {\r\n    return <p>loadding...</p>;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(TypeEvent);\r\n","import React, { useState, useMemo, useEffect, useCallback } from \"react\";\r\nimport { Button, Input, Row, Col, Select, Modal, Radio,Icon } from \"antd\";\r\nimport {\r\n  createItemEvent,\r\n  updateEvent\r\n} from \"../../../../../utils/mutation/promotion\";\r\nimport moment from \"moment\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  checkPoint,\r\n  checkMainInfoPromoAndEvent,\r\n  checkRewardsIsEmtry,\r\n  alertErrorNamePromo,\r\n  alertErrorItemPromo,\r\n  checkStartHour,\r\n  checkEndHour\r\n} from \"../../promoService\";\r\nimport { getListPartnerProducts } from \"../../../../../utils/queryPartnerProducts\";\r\nimport {\r\n  dispatchTypeEventByMoney,\r\n  dispatchSetDataTypePromo,\r\n  dispatchAddItemPromo,\r\n  dispatchAddInkindPromo,\r\n  dispatchReduceItemPromo,\r\n  dispatchSeclectItemPartnerPromo,\r\n  dispatchSeclectNumbItem,\r\n  dispatchSelectItemInkind,\r\n  dispatchSelectCoinEvent\r\n} from \"../../../../../redux/actions\";\r\nconst { Option } = Select;\r\nfunction InputRewardForShowByMoney(props) {\r\n  const { indexEventByMoney } = props;\r\n  const { type } = JSON.parse(props.detailPromo.config);\r\n  const [listItemForEvent, setListItemForEvent] = useState({\r\n    isShow: false,\r\n    itemsForEventTypeMoney: [{ productName: \"\", partnerProductId: \"\" }]\r\n  });\r\n  const [rowItems, setRowItems] = useState(0);\r\n  const [itemNumb, setItemNumb] = useState(null);\r\n  const { inkind, item, coin } = props.indexConfig;\r\n  const { isShow, itemsForEventTypeMoney } = listItemForEvent;\r\n  const {\r\n    id,\r\n    name,\r\n    platformId,\r\n    server,\r\n    status,\r\n    timeTotal,\r\n    dates,\r\n    daily,\r\n    startTime,\r\n    endTime,\r\n    linkUrl\r\n  } = props.indexPromoAndEvent;\r\n  useEffect(() => {\r\n    dispatchTypeEventByMoney(type);\r\n    props.setIsCreatePromo(false);\r\n  }, []);\r\n  useQuery(getListPartnerProducts(platformId), {\r\n    onCompleted: data => {\r\n      setListItemForEvent({\r\n        ...listItemForEvent,\r\n        itemsForEventTypeMoney: data.listPartnerProducts\r\n      });\r\n    }\r\n  });\r\n  const [createNewItemEvent] = useMutation(createItemEvent, {\r\n    variables: {\r\n      req: {\r\n        productName: `${itemNumb} coin`,\r\n        type: \"EVENT\",\r\n        status: \"COMPLETE\",\r\n        sort: 0,\r\n        price: itemNumb * 1000,\r\n        basecoin: itemNumb\r\n      }\r\n    },\r\n    onCompleted: async data => {\r\n      console.log(data)\r\n      const newIndexEvent = { ...props.indexEventByMoney };\r\n      newIndexEvent.itemsForEventByMoney = [\r\n        ...props.indexEventByMoney.itemsForEventByMoney,\r\n        data.createProduct\r\n      ];\r\n      props.setIndexEventByMoney(newIndexEvent);\r\n      dispatchSelectCoinEvent({\r\n        positionItem: rowItems,\r\n        value: data.createProduct.productId\r\n      });\r\n    }\r\n  });\r\n  const mainInfo = {\r\n    name: name,\r\n    status: status,\r\n    paymentType: props.nameEventByMoney,\r\n    eventTime: JSON.stringify({\r\n      startTime: timeTotal[0],\r\n      endTime: timeTotal[1],\r\n      dates: dates,\r\n      daily: daily,\r\n      hour: [checkStartHour(startTime), checkEndHour(endTime)]\r\n    })\r\n  };\r\n  const [updateEventByInkind] = useMutation(updateEvent, {\r\n    variables: {\r\n      id: id,\r\n      req: {\r\n        ...mainInfo,\r\n        config: JSON.stringify({\r\n          type: props.typeEventByMoney,\r\n          data: inkind\r\n        })\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const [updateEventByCoin] = useMutation(updateEvent, {\r\n    variables: {\r\n      id: id,\r\n      req: {\r\n        ...mainInfo,\r\n        config: JSON.stringify({\r\n          type: props.typeEventByMoney,\r\n          data: coin\r\n        })\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const [updateEventByItem] = useMutation(updateEvent, {\r\n    variables: {\r\n      id: id,\r\n      req: {\r\n        ...mainInfo,\r\n        config: JSON.stringify({\r\n          game: platformId,\r\n          server: server,\r\n          type: props.typeEventByMoney,\r\n          data: item\r\n        })\r\n      }\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const submitUpdateEvent = async () => {\r\n    if (\r\n      checkMainInfoPromoAndEvent(\r\n        name,\r\n        props.nameEventByMoney,\r\n        timeTotal[0],\r\n        startTime,\r\n        endTime\r\n      )\r\n    ) {\r\n      if (props.nameEventByMoney === \"MONEY\") {\r\n        if (\r\n          props.typeEventByMoney === \"INKIND\" &&\r\n          checkPoint(inkind) &&\r\n          checkRewardsIsEmtry(inkind)\r\n        ) {\r\n          await updateEventByInkind();\r\n          props.successAlert(false);\r\n        } else if (checkPoint(coin) && checkRewardsIsEmtry(coin)) {\r\n          await updateEventByCoin();\r\n          props.successAlert(false);\r\n        }\r\n      } else if (\r\n        props.nameEventByMoney === \"COIN\" &&\r\n        checkPoint(item) &&\r\n        checkRewardsIsEmtry(item) &&\r\n        platformId !== \"\" &&\r\n        server !== \"\"\r\n      ) {\r\n        await updateEventByItem();\r\n        props.successAlert(false);\r\n      } else {\r\n        alertErrorItemPromo();\r\n      }\r\n    } else {\r\n      alertErrorNamePromo();\r\n    }\r\n  };\r\n  const addItem = val => {\r\n    dispatchAddItemPromo(val);\r\n  };\r\n  const reduceItem = async (isType, val) => {\r\n    if (val !== 0) {\r\n      dispatchReduceItemPromo({ isType: isType, val: val });\r\n    }\r\n  };\r\n  const handleChooseItemPartner = (positionItem, value) => {\r\n    dispatchSeclectItemPartnerPromo({\r\n      positionItem: positionItem,\r\n      value: value\r\n    });\r\n  };\r\n  const handleChooseNumbItem = (isType, positionItem, e) => {\r\n    dispatchSeclectNumbItem({\r\n      isType: isType,\r\n      positionItem: positionItem,\r\n      value: e.target.value !== \"\" ? Number(e.target.value) : \"\"\r\n    });\r\n  };\r\n  const handleChooseInKind = (positionItem, e) => {\r\n    dispatchSelectItemInkind({\r\n      positionItem: positionItem,\r\n      value: e.target.value\r\n    });\r\n  };\r\n  const handleSelectCoinEvent = e => {\r\n    dispatchSelectCoinEvent({\r\n      positionItem: rowItems,\r\n      value: e.target.value\r\n    });\r\n    setItemNumb(null);\r\n  };\r\n  const submitCreateItem = () => {\r\n    if (itemNumb !== null) {\r\n      createNewItemEvent();\r\n      props.refetch();\r\n      setListItemForEvent({ ...listItemForEvent, isShow: false });\r\n    }\r\n  };\r\n  const showModal = async val => {\r\n    setListItemForEvent({ ...listItemForEvent, isShow: true });\r\n    setRowItems(val);\r\n    setItemNumb(null);\r\n  };\r\n  // console.log(props.typeEventByMoney, type,'ffg');\r\n  const printListItems = props.listItems.map((val, index) => (\r\n    <Option value={val.partnerProductId} key={index}>\r\n      {val.productName}\r\n    </Option>\r\n  ));\r\n  const printItemsEvent = indexEventByMoney.itemsForEventByMoney.map(\r\n    (val, i) => (\r\n      <Option value={val.productId} key={i}>\r\n        {val.productName}\r\n      </Option>\r\n    )\r\n  );\r\n  const printItemsForEventTypeMoney = indexEventByMoney.itemsForEventByMoney.map(\r\n    (val, i) => (\r\n      <Col span={24} key={i}>\r\n        <Radio\r\n          style={{ display: \"block\", height: \"30px\", lineHeight: \"30px\" }}\r\n          value={val.productId}\r\n        >\r\n          {val.productName}\r\n        </Radio>\r\n      </Col>\r\n    )\r\n  );\r\n  const printItemInkind = inkind.map(function(val, index1) {\r\n    return (\r\n      <div\r\n        style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"1rem\" }}\r\n        key={index1}\r\n      >\r\n        <div style={{ width: \"15%\", display: \"flex\", alignItems: \"center\" }}>\r\n          <span style={{ marginRight: \".2rem\" }}>From</span>\r\n          <Input\r\n            value={val.point}\r\n            min={index1 > 0 ? inkind[index1 - 1].point : 0}\r\n            type=\"number\"\r\n            name=\"pucharseTimes\"\r\n            style={{ width: \"45%\" }}\r\n            onChange={e => handleChooseNumbItem(\"inkind\", index1, e)}\r\n            disabled={props.isTimeInPromo}\r\n          ></Input>\r\n          VN\r\n        </div>\r\n        <div className=\"promo-input-coin-event\">\r\n          <Input\r\n            value={val.rewards[0]}\r\n            placeholder=\"-Input name of gift out game-\"\r\n            name=\"pucharseTimes\"\r\n            onChange={e => handleChooseInKind(index1, e)}\r\n            style={{ width: \"45%\" }}\r\n            disabled={props.isTimeInPromo}\r\n          ></Input>\r\n          <Icon\r\n            type=\"close\"\r\n            onClick={() => reduceItem(\"inkind\", index1)}\r\n            style={{ fontSize: \"16px\", margin: \"0 .25rem\" }}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n  const printItemCoin = coin.map((val, index1) => (\r\n    <div\r\n      style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"1rem\",padding:'1rem' }}\r\n      key={index1}\r\n    >\r\n      <div style={{ width: \"15%\", display: \"flex\", alignItems: \"center\" }}>\r\n        <span style={{ marginRight: \".2rem\" }}>From</span>\r\n        <Input\r\n          value={val.point}\r\n          min={index1 > 0 ? coin[index1 - 1].point : 0}\r\n          type=\"number\"\r\n          name=\"pucharseTimes\"\r\n          onChange={e => handleChooseNumbItem(\"coin\", index1, e)}\r\n          disabled={props.isTimeInPromo}\r\n        ></Input>\r\n        <span style={{ marginLeft: \".2rem\" }}>\r\n          {props.nameEventByMoney === \"MONEY\" ? \"VN\" : \"C.COIN\"}\r\n        </span>\r\n      </div>\r\n      <div className=\"promo-input-coin-event\" style={{width:\"85%\",paddingLeft:\"1rem\"}}>\r\n        <div style={{ width: \"35%\", display: \"flex\", alignItems: \"center\" }}>\r\n          <Select\r\n            value={val.rewards}\r\n            dropdownClassName=\"dropdown-coin-event\"\r\n            showArrow={false}\r\n            style={{ width: \"90%\" }}\r\n            className=\"select-coin-event\"\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printItemsEvent}\r\n          </Select>{\" \"}\r\n          <Icon\r\n            type=\"menu\"\r\n            onClick={() => showModal(index1)}\r\n            \r\n            style={{ fontSize: \"24px\", margin: \"0 .25rem\" }}\r\n          />\r\n        </div>\r\n        <Icon\r\n          type=\"close\"\r\n          onClick={() => reduceItem(\"coin\", index1)}\r\n          disabled={props.isTimeInPromo}\r\n          style={{ fontSize: \"16px\", margin: \"0 .25rem\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  ));\r\n  const defaultEventInput = () => {\r\n    if (\r\n      props.typeEventByMoney === \"INKIND\" &&\r\n      props.nameEventByMoney === \"MONEY\"\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n  const printItemPartner = item.map((val, index1) => (\r\n    <div\r\n      style={{ display: \"flex\", alignItems: \"center\", marginBottom: \"1rem\" }}\r\n      key={index1}\r\n    >\r\n      <div style={{ width: \"15%\", display: \"flex\", alignItems: \"center\" }}>\r\n        <span style={{ marginRight: \".2rem\" }}>From</span>\r\n        <Input\r\n          value={val.point}\r\n          min={index1 > 0 ? item[index1 - 1].point : 0}\r\n          type=\"number\"\r\n          name=\"pucharseTimes\"\r\n          onChange={e => handleChooseNumbItem(\"item\", index1, e)}\r\n          disabled={props.isTimeInPromo}\r\n        ></Input>\r\n        <span style={{ marginLeft: \".2rem\" }}>\r\n          {props.nameEventByMoney === \"MONEY\" ? \"VN\" : \"C.COIN\"}\r\n        </span>\r\n      </div>\r\n      <div className=\"promo-input-item-input\">\r\n        <Select\r\n          mode=\"multiple\"\r\n          value={val.rewards}\r\n          style={{ width: \"90%\" }}\r\n          onChange={value => handleChooseItemPartner(index1, value)}\r\n          disabled={props.isTimeInPromo}\r\n        >\r\n          {printListItems}\r\n        </Select>{\" \"}\r\n        <Icon\r\n          type=\"close\"\r\n          onClick={() => reduceItem(\"item\", index1)}\r\n          disabled={props.isTimeInPromo}\r\n          style={{ fontSize: \"16px\", margin: \"0 .25rem\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  ));\r\n  return (\r\n    <div className=\"section4-promotion\">\r\n      <div style={{ width: \"100%\" }} className=\"section4-promotion-title\">\r\n        <div className=\"promo-input-title-numb\">\r\n          <span>Total price of purchase from</span>\r\n        </div>\r\n        <div className=\"promo-input-title-item\">\r\n          <span>Present</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"btn-create-promo\">\r\n        <Button onClick={() => submitUpdateEvent()}>Submit</Button>\r\n      </div>\r\n      <Row>\r\n        {props.typeEventByMoney === \"COIN\" && (\r\n          <>\r\n            {printItemCoin}\r\n            <Button\r\n              onClick={() => addItem(\"coin\")}\r\n              disabled={props.isTimeInPromo}\r\n              className='btn-more-item'\r\n            >\r\n              Add more conditions\r\n            </Button>\r\n          </>\r\n        )}\r\n        {defaultEventInput() && (\r\n          <>\r\n            {printItemInkind}\r\n            <Button\r\n              onClick={() => addItem(\"inkind\")}\r\n              disabled={props.isTimeInPromo}\r\n              className='btn-more-item'\r\n            >\r\n              Add more conditions\r\n            </Button>\r\n          </>\r\n        )}\r\n        {props.typeEventByMoney === \"ITEM\" && (\r\n          <div className=\"promo-input-item\">\r\n            {printItemPartner}\r\n            <Button\r\n              onClick={() => addItem(\"item\")}\r\n              disabled={props.isTimeInPromo}\r\n              className='btn-more-item'\r\n            >\r\n              Add more conditions\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </Row>\r\n      <Modal\r\n        title=\"Choose C.coin package\"\r\n        centered\r\n        visible={isShow}\r\n        onOk={() => setListItemForEvent({ ...listItemForEvent, isShow: false })}\r\n        onCancel={() =>\r\n          setListItemForEvent({ ...listItemForEvent, isShow: false })\r\n        }\r\n      >\r\n        <div className=\"input-coin-event-money\">\r\n          <Input\r\n            type=\"number\"\r\n            min=\"0\"\r\n            placeholder=\"Input volume c.coin package...\"\r\n            value={itemNumb}\r\n            onChange={e => setItemNumb(e.target.value)}\r\n          ></Input>\r\n          <Button onClick={submitCreateItem}>Submit</Button>\r\n        </div>\r\n        <Radio.Group onChange={e => handleSelectCoinEvent(e)}>\r\n          {printItemsForEventTypeMoney}\r\n        </Radio.Group>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    typeEventByMoney: state.typeEventByMoney,\r\n    nameEventByMoney: state.nameEventByMoney,\r\n    detailPromo: state.detailPromo,\r\n    indexConfig: state.indexConfig,\r\n    imageUrl:state.imgUrlThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(InputRewardForShowByMoney);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { DatePicker, Select, TimePicker } from \"antd\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport \"../../../../../static/style/promotion.css\";\r\nimport { queryGetPlatform } from \"../../../../../utils/queryPlatform\";\r\nimport {\r\n  getPromotionType,\r\n  getEventPaymentType\r\n} from \"../../../../../utils/queryPaymentAndPromoType\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  dispatchTypeEventByMoney,\r\n  dispatchNameEventByMoney,\r\n  dispatchResetItemRewards\r\n} from \"../../../../../redux/actions\";\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst eventMoneyType = [\r\n  {\r\n    value: \"COIN\",\r\n    description: \"Tng C.Coin\"\r\n  },\r\n  {\r\n    value: \"INKIND\",\r\n    description: \"Tng qu out game\"\r\n  }\r\n];\r\nconst eventCointype = [\r\n  {\r\n    value: \"ITEM\",\r\n    description: \"Tng bng vt phm trong game\"\r\n  }\r\n];\r\nconst MenuRewardEventByMoney = props => {\r\n  const { paymentType, config } = props.detailPromo;\r\n  const { listServer } = props.listPartner;\r\n  const { platformId, server, type } = props.indexPromoAndEvent;\r\n  const [eventByMoneyIndex, setEventByMoneyIndex] = useState({\r\n    eventType: [],\r\n    eventPaymentType: [],\r\n    value: JSON.parse(config).type\r\n  });\r\n  const [listGame, setListGame] = useState([{}]);\r\n  useQuery(queryGetPlatform, {\r\n    onCompleted: data => {\r\n      setListGame(data.listPartners);\r\n    }\r\n  });\r\n  useMemo(() => {\r\n    // props.setIndexPromoAndEvent({ ...props.indexPromoAndEvent, platformId: platformId, server: server })\r\n    if (paymentType === \"COIN\") {\r\n      dispatchNameEventByMoney(paymentType);\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventPaymentType: eventCointype,\r\n        value: \"ITEM\"\r\n      });\r\n      dispatchTypeEventByMoney(\"ITEM\");\r\n    } else if (paymentType === \"MONEY\") {\r\n      dispatchNameEventByMoney(paymentType);\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventPaymentType: eventMoneyType\r\n      });\r\n      dispatchTypeEventByMoney(type);\r\n    }\r\n  }, []);\r\n  const { eventType, eventPaymentType, value } = eventByMoneyIndex;\r\n  useQuery(getEventPaymentType, {\r\n    onCompleted: data =>\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventType: data.__type.enumValues\r\n      })\r\n  });\r\n  const handleChangePaymentType = async val => {\r\n    if (val === \"MONEY\") {\r\n      dispatchNameEventByMoney(val);\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventPaymentType: eventMoneyType,\r\n        value: \"INKIND\"\r\n      });\r\n      dispatchTypeEventByMoney(\"INKIND\");\r\n      props.setIndexEventByMoney({\r\n        ...props.indexEventByMoney,\r\n        isPaymentTypeByCoin: false\r\n      });\r\n    } else if (val === \"COIN\") {\r\n      dispatchNameEventByMoney(val);\r\n      props.setIndexEventByMoney({\r\n        ...props.indexEventByMoney,\r\n        isPaymentTypeByCoin: true\r\n      });\r\n      setEventByMoneyIndex({\r\n        ...eventByMoneyIndex,\r\n        eventPaymentType: eventCointype,\r\n        value: \"ITEM\"\r\n      });\r\n      dispatchTypeEventByMoney(\"ITEM\");\r\n    }\r\n  };\r\n  const handleChanePaymentTypeByMoney = async val => {\r\n    if (val === \"COIN\") {\r\n      //   props.getItemsForEventTypeMoney();\r\n    }\r\n    await setEventByMoneyIndex({ ...eventByMoneyIndex, value: val });\r\n    dispatchTypeEventByMoney(val);\r\n  };\r\n  const printEventMoneyType = eventPaymentType.map((val, i) => (\r\n    <Option key={i} value={val.value}>\r\n      {val.description}\r\n    </Option>\r\n  ));\r\n  const printEventType = eventType.map((val, index) => (\r\n    <Option key={index} value={val.name}>\r\n      {val.name}\r\n    </Option>\r\n  ));\r\n  const printPlatform = props.listPartners.map((val, index) => (\r\n    <Option value={val.partnerId} key={index}>\r\n      {val.partnerName}\r\n    </Option>\r\n  ));\r\n  const printListServer = listServer.map((val, index) => (\r\n    <Option value={val.server} key={index}>\r\n      {val.serverName}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <div className=\"promo-section2\">\r\n      <div className=\"promo-choose-platform\">\r\n      <div>\r\n        <div className=\"promo-choose-platform-name\">\r\n          <p>Type of Purchase</p>\r\n          <Select\r\n            value={props.nameEventByMoney}\r\n            style={{ width: 120 }}\r\n            onChange={handleChangePaymentType}\r\n            placeholder=\"-Chn game-\"\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printEventType}\r\n          </Select>\r\n        </div>\r\n        <div className=\"promo-choose-platform-server\">\r\n          <span>Type of present: </span>\r\n          <Select\r\n            value={value}\r\n            style={{ width: 120 }}\r\n            onChange={handleChanePaymentTypeByMoney}\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printEventMoneyType}\r\n          </Select>\r\n        </div>\r\n      </div>\r\n      {props.nameEventByMoney === \"COIN\" && (\r\n        <div>\r\n          <p className=\"promotion-title-field\">Platform</p>\r\n          <Select\r\n            style={{ width: 120 }}\r\n            onChange={props.handleChangePlatform}\r\n            value={platformId}\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printPlatform}\r\n          </Select>{\" \"}\r\n          <span>Server</span>\r\n          <Select\r\n            placeholder=\"-Chn server-\"\r\n            style={{ width: 120 }}\r\n            onChange={props.handleChangeServer}\r\n            name=\"server\"\r\n            value={server}\r\n            disabled={props.isTimeInPromo}\r\n          >\r\n            {printListServer}\r\n          </Select>{\" \"}\r\n        </div>\r\n      )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    typeEventByMoney: state.typeEventByMoney,\r\n    nameEventByMoney: state.nameEventByMoney,\r\n    detailPromo: state.detailPromo,\r\n    listPartners: state.listPartner\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(MenuRewardEventByMoney);\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { Row, Col, Input, Icon, Modal } from \"antd\";\r\nimport { useLazyQuery, useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport {\r\n  deleteEvents,\r\n  deletePromotion\r\n} from \"../../../../../utils/mutation/promotion\";\r\nimport \"../../../../../static/style/promotion.css\";\r\nimport EventByItems from \"../../create/promotion/inputRewardItem\";\r\nimport MenuRewardByItem from \"../../create/promotion/menuRewardItem\";\r\nimport InputRewardForShowByMoney from \"./inputReward\";\r\nimport MenuRewardEventByMoney from \"./menuReward\";\r\nimport {\r\n  InputNameAndTypeArea,\r\n  InputTimeArea\r\n} from \"../../create/nameAndTimePromo\";\r\nimport ListImagesForNews from \"../../../../news/modalImageUrl/imgsUrl\";\r\nimport {\r\n  dispatchResetItemRewards,\r\n  dispatchInititalIndexConfig,\r\n  dispatchTypeEventByMoney,\r\n  dispatchSetDataTypePromo,\r\n  dispatchShowImagesNews,\r\n  dispatchSetUrlImageThumbnail\r\n} from \"../../../../../redux/actions/index\";\r\nimport { initialIndexShop } from \"../../promoService\";\r\nimport { getListPartnerProducts2 } from \"../../../../../utils/queryPartnerProducts\";\r\nimport {\r\n  getListServer,\r\n  getListItemsForEvent\r\n} from \"../../../../../utils/query/promotion\";\r\nimport { checkTime, indexAllServer } from \"../../promoService\";\r\nimport moment from \"moment\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\n\r\nfunction UpdateEvent(props) {\r\n  const {\r\n    id,\r\n    name,\r\n    status,\r\n    eventTime,\r\n    config,\r\n    paymentType,\r\n    imageUrl\r\n  } = props.detailPromo;\r\n  const { startTime, endTime, dates, daily, hour } = JSON.parse(eventTime);\r\n  const isTimeInPromo = checkTime(startTime);\r\n  const [alertUpdateSuccess, setAlertUpdateSuccess] = useState(false);\r\n  const [switchTypeEvent, setSwitchTypeEvent] = useState(config ? false : true);\r\n  const [indexShop, setIndexShop] = useState(initialIndexShop);\r\n  const [isCreatePromo, setIsCreatePromo] = useState(false);\r\n  const { game, server, data, type } = JSON.parse(config);\r\n  console.log(props.detailPromo)\r\n  const [indexPromoAndEvent, setIndexPromoAndEvent] = useState({\r\n    id: id,\r\n    name: name,\r\n    platformId: game,\r\n    server: server,\r\n    status: status,\r\n    type: \"\",\r\n    timeTotal: [startTime, endTime],\r\n    dates: dates,\r\n    daily: daily,\r\n    startTime: hour[0],\r\n    endTime: hour[1],\r\n    linkUrl: props.detailPromo.linkUrl\r\n  });\r\n  const [listPartner, setListPartner] = useState({\r\n    listGame: [{}],\r\n    listServer: [indexAllServer],\r\n    listItems: [\r\n      {\r\n        productId: \"\",\r\n        partnerProductId: \"\"\r\n      }\r\n    ]\r\n  });\r\n  const [alertInfoPromo, setAlertInfoPromo] = useState({\r\n    dailyAlert: [],\r\n    datesAlert: [],\r\n    timeTotalAlert: []\r\n  });\r\n  const [indexEventByMoney, setIndexEventByMoney] = useState({\r\n    paymentTypeByMoney: \"\",\r\n    isPaymentTypeByCoin: paymentType === \"COIN\" ? true : false,\r\n    itemsForEventByMoney: [{ productName: \"\", productId: \"\" }]\r\n  });\r\n  const [indexGameForPromo, setIndexGameForPromo] = useState({\r\n    platformId: \"\",\r\n    server: \"\"\r\n  });\r\n  const [getListPartnerByPlatform] = useLazyQuery(getListPartnerProducts2, {\r\n    onCompleted: data => {\r\n      setListPartner({ ...listPartner, listItems: data.listPartnerProducts });\r\n    }\r\n  });\r\n  const { platformId, linkUrl } = indexPromoAndEvent;\r\n  const { listGame, listItems, listServer } = listPartner;\r\n  const [deleteEvent] = useMutation(deleteEvents, {\r\n    variables: {\r\n      ids: [id]\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const [deletePromo] = useMutation(deletePromotion, {\r\n    variables: {\r\n      ids: props.idCreatePromoAndEvent\r\n    },\r\n    onCompleted: data => console.log(data)\r\n  });\r\n  const [getServers]=useLazyQuery(getListServer(platformId), {\r\n    onCompleted: data => {\r\n      setListPartner({\r\n        ...listPartner,\r\n        listServer: [indexAllServer, ...data.listPartnerServers]\r\n      });\r\n    }\r\n  });\r\n  const [getListItemEvent]=useLazyQuery(getListItemsForEvent, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setIndexEventByMoney({\r\n        ...indexEventByMoney,\r\n        itemsForEventByMoney: data.listProducts\r\n      });\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getServers();\r\n    getListItemEvent();\r\n    dispatchSetUrlImageThumbnail(imageUrl)\r\n    dispatchTypeEventByMoney(type);\r\n    dispatchSetDataTypePromo({ isType: type.toLowerCase(), data: data });\r\n    getListPartnerByPlatform({\r\n      variables: {\r\n        partnerId: game\r\n      }\r\n    });\r\n  }, []);\r\n  const handleChangePlatform = async e => {\r\n    dispatchResetItemRewards();\r\n    await setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      platformId: e,\r\n      server: 0\r\n    });\r\n    await getListPartnerByPlatform({\r\n      variables: {\r\n        partnerId: e\r\n      }\r\n    });\r\n  };\r\n  const resetGameAndServer = () => { };\r\n  const handleChangePlatformPromo = async e => {\r\n    dispatchResetItemRewards();\r\n    setIndexShop([\r\n      {\r\n        purchaseTimes: 1,\r\n        purchaseItemId: [],\r\n        rewards: [\r\n          {\r\n            numb: 1,\r\n            itemId: []\r\n          }\r\n        ]\r\n      }\r\n    ]);\r\n    await setIndexGameForPromo({\r\n      platformId: e,\r\n      server: 0\r\n    });\r\n    await getListPartnerByPlatform({\r\n      variables: {\r\n        partnerId: e\r\n      }\r\n    });\r\n  };\r\n  const handleChangeServerPromo = e => {\r\n    setIndexGameForPromo({ ...indexGameForPromo, server: e });\r\n  };\r\n  const setInfoPromo = e => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n  const handleChangeServer = e => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, server: e });\r\n  };\r\n  const handleStartTimeTotal = value => {\r\n    const newTimetotal = indexPromoAndEvent.timeTotal;\r\n    newTimetotal[0] = moment(value).format(\"YYYY-MM-DD HH:mm\") + \":00\";\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      timeTotal: newTimetotal\r\n    });\r\n  };\r\n  const handleEndTimeTotal = value => {\r\n    const newTimetotal = indexPromoAndEvent.timeTotal;\r\n    newTimetotal[1] = moment(value).format(\"YYYY-MM-DD HH:mm\") + \":59\";\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      timeTotal: newTimetotal\r\n    });\r\n  };\r\n  const pickAllDay = () => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      startTime: \"00:00:00\",\r\n      endTime: \"23:59:59\"\r\n    });\r\n  };\r\n  const setTimePromo = (timeString, val) => {\r\n    if (val === \"startTime\") {\r\n      setIndexPromoAndEvent({\r\n        ...indexPromoAndEvent,\r\n        startTime: timeString !== \"\" ? timeString + \":00\" : \"\"\r\n      });\r\n    } else {\r\n      setIndexPromoAndEvent({\r\n        ...indexPromoAndEvent,\r\n        endTime: timeString !== \"\" ? timeString + \":59\" : \"\"\r\n      });\r\n    }\r\n  };\r\n  const handleChangeDaily = value => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      daily: value.sort((a, b) => a - b)\r\n    });\r\n  };\r\n  const handleChangeDates = value => {\r\n    setIndexPromoAndEvent({\r\n      ...indexPromoAndEvent,\r\n      dates: value.sort((a, b) => a - b)\r\n    });\r\n  };\r\n  const handleChangeTypePromo = val => {\r\n    setIndexPromoAndEvent({ ...indexPromoAndEvent, type: val });\r\n  };\r\n  const getlinkUrl=e=>{\r\n    setIndexPromoAndEvent({...indexPromoAndEvent,linkUrl:e.target.value})\r\n  }\r\n  const successAlert = value => {\r\n    setIsCreatePromo(value);\r\n    setAlertUpdateSuccess(true);\r\n  };\r\n  const backToList = () => {\r\n    dispatchInititalIndexConfig();\r\n    isCreatePromo ? deleteEvent() : viewDetail();\r\n  };\r\n  const viewDetail = () => {\r\n    deletePromo();\r\n    props.backToDetail();\r\n  }; \r\n  return (\r\n    <Row className=\"container-promotion\">\r\n      <div>\r\n        <div>\r\n          {isCreatePromo ? (\r\n            <Link\r\n              to={`/payment/promotion/detail/promotion?id=${props.idCreatePromoAndEvent}`}\r\n              onClick={backToList}\r\n            >\r\n              Back\r\n            </Link>\r\n          ) : (\r\n              <a onClick={backToList}>\r\n                <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n              Back\r\n              </a>\r\n            )}\r\n          <h2>Update promotion</h2>\r\n        </div>\r\n      </div>\r\n      <Col md={12} className=\"section1-promotion\">\r\n        <div>\r\n          <InputNameAndTypeArea\r\n            alertUpdateSuccess={alertUpdateSuccess}\r\n            indexPromoAndEvent={indexPromoAndEvent}\r\n            resetGameAndServer={resetGameAndServer}\r\n            setInfoPromo={setInfoPromo}\r\n            switchTypeEvent={switchTypeEvent}\r\n            setSwitchTypeEvent={setSwitchTypeEvent}\r\n            isTimeInPromo={isTimeInPromo}\r\n          />\r\n          {switchTypeEvent ? (\r\n            <MenuRewardByItem\r\n              indexShop={indexShop}\r\n              setIndexShop={setIndexShop}\r\n              indexPromoAndEvent={indexPromoAndEvent}\r\n              indexGameForPromo={indexGameForPromo}\r\n              listPartner={listPartner}\r\n              handleChangePlatformPromo={handleChangePlatformPromo}\r\n              handleChangeTypePromo={handleChangeTypePromo}\r\n              handleChangeServerPromo={handleChangeServerPromo}\r\n            />\r\n          ) : (\r\n              <MenuRewardEventByMoney\r\n                indexPromoAndEvent={indexPromoAndEvent}\r\n                setIndexPromoAndEvent={setIndexPromoAndEvent}\r\n                indexEventByMoney={indexEventByMoney}\r\n                setIndexEventByMoney={setIndexEventByMoney}\r\n                server={server}\r\n                listPartner={listPartner}\r\n                handleChangePlatform={handleChangePlatform}\r\n                handleChangeServer={handleChangeServer}\r\n                isTimeInPromo={isTimeInPromo}\r\n              />\r\n            )}\r\n        </div>\r\n      </Col>\r\n      <InputTimeArea\r\n        indexPromoAndEvent={indexPromoAndEvent}\r\n        alertInfoPromo={alertInfoPromo}\r\n        handleStartTimeTotal={handleStartTimeTotal}\r\n        handleEndTimeTotal={handleEndTimeTotal}\r\n        pickAllDay={pickAllDay}\r\n        handleChangeDaily={handleChangeDaily}\r\n        handleChangeDates={handleChangeDates}\r\n        setTimePromo={setTimePromo}\r\n        isTimeInPromo={isTimeInPromo}\r\n      />\r\n      <Col md={18}>\r\n        {switchTypeEvent ? (\r\n          <EventByItems\r\n            listItems={listItems}\r\n            indexPromoAndEvent={indexPromoAndEvent}\r\n            indexGameForPromo={indexGameForPromo}\r\n            indexShop={indexShop}\r\n            setIndexShop={setIndexShop}\r\n            isUpdate={props.isUpdate}\r\n            successAlert={successAlert}\r\n          />\r\n        ) : (\r\n            <InputRewardForShowByMoney\r\n              successAlert={successAlert}\r\n              listPartner={listPartner}\r\n              listItems={listItems}\r\n              switchTypeEvent={switchTypeEvent}\r\n              indexPromoAndEvent={indexPromoAndEvent}\r\n              setIndexPromoAndEvent={setIndexPromoAndEvent}\r\n              indexEventByMoney={indexEventByMoney}\r\n              setIndexEventByMoney={setIndexEventByMoney}\r\n              setIsCreatePromo={setIsCreatePromo}\r\n              isTimeInPromo={isTimeInPromo}\r\n            />\r\n          )}\r\n      </Col>\r\n      <Col md={6} style={{ margin: \".5rem 0\" }}>\r\n        <h3>Link post</h3>\r\n        <Input placeholder=\"Get link post...\" style={{ width: \"100%\" }} value={linkUrl} onChange={getlinkUrl}/>\r\n        <div>\r\n          <p className='select-image-promotion'>Select thumbnail promotion</p>\r\n          <div style={{ width: \"100%\" }}>\r\n            {props.urlImgThumbnail === null ? <i>Thumbnail image is emtry</i> : <img src={props.urlImgThumbnail} style={{ maxHeight: \"100%\", maxWidth: \"100%\" }} />}\r\n          </div>\r\n          <a onClick={() => dispatchShowImagesNews(true)}>Select</a>\r\n        </div>\r\n        <ListImagesForNews isThumbnail={true} />\r\n      </Col>\r\n      <Modal\r\n        title={<Icon type=\"check-circle\" />}\r\n        visible={alertUpdateSuccess}\r\n        onCancel={() => setAlertUpdateSuccess(false)}\r\n        onOk={() => {\r\n          isCreatePromo ? deleteEvent() : viewDetail();\r\n        }}\r\n        okText={\r\n          isCreatePromo ? (\r\n            <Link\r\n              to={`/payment/promotion/detail/promotion?id=${props.idCreatePromoAndEvent}`}\r\n            >\r\n              Back\r\n            </Link>\r\n          ) : (\r\n              <span>Back</span>\r\n            )\r\n        }\r\n        cancelText=\"Next\"\r\n      ></Modal>\r\n    </Row>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo,\r\n    idCreatePromoAndEvent: state.idPromoAndEventCreateInUpdate,\r\n    visible: state.visibleModalNews,\r\n    urlImgThumbnail: state.urlImgThumbnail\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(UpdateEvent);","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Row, Col, Icon, Radio, Tabs, Modal } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { getDetailEvent } from \"../../../../../utils/query/promotion\";\r\nimport TypeEvent from \"./typeEvent\";\r\nimport TimePromo from \"../timePromo\";\r\nimport UpdateEvent from \"../../update/event/index\";\r\nimport { dispatchDetailPromoAndEvent } from \"../../../../../redux/actions/index\";\r\nimport { useQuery } from \"react-apollo\";\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nfunction DetailEvent(props) {\r\n  const query = new URLSearchParams(window.location.search);\r\n  const [isShowPromo, setIsShowPromo] = useState(\"1\");\r\n  const [isUpdate, setIsUpdate] = useState(false);\r\n  const [dataDetail, setDataDetail] = useState(\"\");\r\n  const promoId = query.get(\"id\");\r\n  const showConfirm = () => {\r\n    confirm({\r\n      title: \"Promotion edit?\",\r\n      content: (\r\n        <div>\r\n          <p>\r\n          - System allow to update information of promotion when promotion don't have any purchase \r\n          </p>\r\n          <p>\r\n          - If in promotion actived and doesn't have any purchase, you can update conditions, name of promotion and timeline, status\r\n          </p>\r\n          <p>\r\n          - Other way, if Promotion have purchase, just update name of promotion, status, timeline\r\n          </p>\r\n        </div>\r\n      ),\r\n      onOk() {\r\n        setIsUpdate(true);\r\n      },\r\n      onCancel() {\r\n        console.log(\"Cancel\");\r\n      }\r\n    });\r\n  };\r\n  const { refetch } = useQuery(getDetailEvent(promoId), {\r\n    fetchPolicy:\"cache-and-network\",\r\n    onCompleted: data => {\r\n      dispatchDetailPromoAndEvent(data.listEvents[0]);\r\n      setDataDetail(JSON.parse(data.listEvents[0].config));\r\n    }\r\n  });\r\n  const backToDetail = () => {\r\n    setIsUpdate(false);\r\n    refetch();\r\n  }\r\n  const { name, status, eventTime, config } = props.detailPromo;\r\n  return (\r\n    <>\r\n      {isUpdate ? (\r\n        <UpdateEvent isUpdate={isUpdate} backToDetail={backToDetail} />\r\n      ) : (\r\n          <Row>\r\n            <Link to=\"/payment/promotion\">\r\n              <span>\r\n                <Icon type=\"arrow-left\" style={{ paddingRight: \".2rem\" }} />\r\n              Back\r\n            </span>\r\n            </Link>\r\n            <div className=\"promo-title\">\r\n              <div className=\"promo-title-name\">\r\n                <h2>{name}</h2>\r\n                <Button onClick={showConfirm}>Edit</Button>\r\n              </div>\r\n              <div>\r\n                <h3 style={{ margin: \"0 1rem 0 0\" }}>Status</h3>\r\n                <Radio.Group value={status}>\r\n                  <Radio value=\"COMPLETE\">Active</Radio>\r\n                  <Radio value=\"INPUT\">Plan</Radio>\r\n                </Radio.Group>\r\n              </div>\r\n            </div>\r\n            <Tabs activeKey={isShowPromo} onChange={key => setIsShowPromo(key)}>\r\n              <TabPane tab=\"Method\" key=\"1\">\r\n                <TypeEvent dataDetail={dataDetail} />\r\n              </TabPane>\r\n              <TabPane tab=\"Timeline\" key=\"2\">\r\n                <TimePromo />\r\n              </TabPane>\r\n              <TabPane tab=\"History of purchase in Promotion\" key=\"3\"></TabPane>\r\n            </Tabs>\r\n          </Row>\r\n        )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    detailPromo: state.detailPromo\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(DetailEvent);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Pagination,\r\n  Input,\r\n  Row,\r\n  Select,\r\n  Icon,\r\n  DatePicker,\r\n} from \"antd\";\r\nimport moment from \"moment\";\r\nimport {\r\n  queryGetListCharges\r\n} from \"../../../../utils/queryCoin\";\r\nimport { queryGetPaymentType } from \"../../../../utils/queryPaymentAndPromoType\";\r\nimport { dispatchSetListPaymentType } from '../../../../redux/actions/index'\r\nimport { connect } from 'react-redux';\r\nimport { convertPaymentType } from '../service';\r\nimport { alertErrorServer } from '../../../../utils/alertErrorAll'\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { dates } from \"../../../../utils/dateInfo\";\r\nimport ReactExport from \"react-export-excel\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\nconst { Option } = Select;\r\nconst { RangePicker } = DatePicker;\r\nconst listSelectDates = [\r\n  { days: \"Last 3 days\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"Last 7 days\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"Last 14 days\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"Last 30 days\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nconst listType = [\r\n  { nameType: \"By UserName\", id: 4 },\r\n  { nameType: \"By Purchase Coin ID\", id: 1 },\r\n  // { nameType: \"By Payment Type\", id: 3 }\r\n  // { nameType: \"Theo kiu thanh ton\", id: 3 }\r\n];\r\nfunction ListChargesDetail(props) {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    type: 4,\r\n    pageSize: 10,\r\n    search: \"\",\r\n    fromDate: \"\",\r\n    toDate: \"\"\r\n  });\r\n  const [dataCharges, setDataCharges] = useState(null);\r\n  const [dataExport, setDataExport] = useState([]);\r\n  const { currentPage, pageSize, type, search, fromDate, toDate } = pageIndex;\r\n  const { TODAY } = dates;\r\n  const [getListPaymentType] = useLazyQuery(queryGetPaymentType, {\r\n    onCompleted: data => {\r\n      dispatchSetListPaymentType(data.__type.enumValues);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  const [getDataCharges] = useLazyQuery(queryGetListCharges, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      setDataCharges(data);\r\n    },\r\n    onError: index => alertErrorServer(index.networkError.result.errors[0].message)\r\n  });\r\n  useEffect(() => {\r\n    getListPaymentType();\r\n    getDataCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      }\r\n    });\r\n  }, []);\r\n  const changeDates = val => {\r\n    setPageIndex({ ...pageIndex, fromDate: dates[val], toDate: TODAY });\r\n    getDataCharges({\r\n      variables: {\r\n        fromDate: dates[val],\r\n        toDate: TODAY,\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search\r\n      }\r\n    });\r\n  };\r\n  const disabledDate = current => {\r\n    return current && current > moment().endOf(\"day\");\r\n  };\r\n  const disabledEndDate = current => {\r\n    if (fromDate !== \"\") {\r\n      return (\r\n        (current &&\r\n          current <\r\n          moment(fromDate)\r\n            .subtract(1, \"days\")\r\n            .endOf(\"day\")) ||\r\n        current > moment().endOf(\"day\")\r\n      );\r\n    }\r\n  };\r\n  const handleChangeFromDates = (value, dateString) => {\r\n    setPageIndex({ ...pageIndex, fromDate: dateString });\r\n  };\r\n  const handleChangeToDates = (value, dateString) => {\r\n    setPageIndex({ ...pageIndex, toDate: dateString });\r\n  };\r\n  const handleChangeType = val => {\r\n    setPageIndex({ ...pageIndex, type: val });\r\n  };\r\n  const getProductName = e => {\r\n    setPageIndex({ ...pageIndex, search: e.target.value });\r\n  };\r\n  const rowSelection = {\r\n    onChange: (selectRowsKeys, selectedRows) => {\r\n      //   const itemsIdForDelete = selectedRows.map((val, index) => val.productId);\r\n      //   setItemsForDelete(itemsIdForDelete);\r\n      console.log(selectedRows);\r\n      setDataExport(selectedRows);\r\n    }\r\n  };\r\n  const goPage = value => {\r\n    setPageIndex({ ...pageIndex, currentPage: value });\r\n    getDataCharges({\r\n      variables: {\r\n        currentPage: value,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      }\r\n    });\r\n  };\r\n  const onSearch = () => {\r\n    getDataCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate\r\n      }\r\n    });\r\n  };\r\n  const reset = () => {\r\n    setPageIndex({\r\n      currentPage: 1,\r\n      type: 4,\r\n      pageSize: 10,\r\n      search: \"\",\r\n      fromDate: \"\",\r\n      toDate: \"\"\r\n    });\r\n    getDataCharges({\r\n      variables: {\r\n        currentPage: 1,\r\n        type: 4,\r\n        pageSize: 10,\r\n        search: \"\",\r\n        fromDate: \"\",\r\n        toDate: \"\"\r\n      }\r\n    });\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Purchase Coin Id\",\r\n      dataIndex: \"chargeId\",\r\n      key: \"chargeId\"\r\n    },\r\n    {\r\n      title: \"UserName\",\r\n      dataIndex: \"user\",\r\n      key: \"userName\",\r\n      render: val => <span>{val !== null ? val.username : null}</span>\r\n    },\r\n    {\r\n      title: \"C.coin\",\r\n      dataIndex: \"baseCoin\",\r\n      key: \"baseCoin\"\r\n    },\r\n    {\r\n      title: \"Payment Type\",\r\n      dataIndex: \"paymentType\",\r\n      key: \"paymenttype\",\r\n      render: index => <span>{convertPaymentType(props.listPaymentType, index)}</span>\r\n    },\r\n    {\r\n      title: \"Promotion\",\r\n      dataIndex: \"promotion\",\r\n      key: \"price\"\r\n      // render: index => <span>{index.toLocaleString()} </span>\r\n    },\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"createAt\",\r\n      key: \"createAt\",\r\n      render: time => (\r\n        <span>{moment.utc(Number(time)).format(\"HH:mm DD-MM-YYYY\")}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\",\r\n      render: index => <span>{index === \"INPUT\" ? \"PENDING\" : \"DONE\"}</span>\r\n    }\r\n  ];\r\n  const printOptionDates = listSelectDates.map((val, i) => (\r\n    <Option value={val.variables} key={i}>\r\n      {val.days}\r\n    </Option>\r\n  ));\r\n  const printTypePayment = listType.map((val, i) => (\r\n    <Option value={val.id} key={i}>\r\n      {val.nameType}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <Row>\r\n      <div>\r\n        <Link to=\"/payment/coin\">\r\n          <Icon type=\"double-left\" />\r\n          Back\r\n        </Link>\r\n        <h2>History purchase</h2>\r\n        <div className=\"btn-search-charges\">\r\n          <div>\r\n            <Input\r\n              value={search}\r\n              placeholder=\"Search by C.coin package name\"\r\n              onChange={getProductName}\r\n              style={{ width: \"30%\", marginRight: \"2%\" }}\r\n              suffix={\r\n                <Icon\r\n                  className={\r\n                    search !== \"\" ? \"reset-btn-show\" : \"reset-btn-hide\"\r\n                  }\r\n                  type=\"close\"\r\n                  style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                  onClick={reset}\r\n                />\r\n              }\r\n            />\r\n            <Select\r\n              value={type}\r\n              style={{ width: \"15%\", marginRight: \"2%\" }}\r\n              onChange={handleChangeType}\r\n            >\r\n              {printTypePayment}\r\n            </Select>\r\n            <div\r\n              style={{ width: \"15%\", marginRight: \"1%\", position: \"relative\" }}\r\n            >\r\n              <DatePicker\r\n                allowClear={false}\r\n                value={fromDate === \"\" ? null : moment(fromDate, \"YYYY-MM-DD\")}\r\n                onChange={handleChangeFromDates}\r\n                disabledDate={disabledDate}\r\n                style={{ width: \"100%\" }}\r\n                placeholder=\"FromDate\"\r\n                className=\"date-picker-search\"\r\n              />\r\n              <Icon\r\n                className={\r\n                  toDate !== \"\" ? \"icon-reset-date\" : \"icon-reset-date-hide\"\r\n                }\r\n                type=\"close\"\r\n                style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                onClick={reset}\r\n              />\r\n            </div>\r\n            <div\r\n              style={{ width: \"15%\", marginRight: \"2%\", position: \"relative\" }}\r\n            >\r\n              <DatePicker\r\n                allowClear={false}\r\n                value={toDate === \"\" ? null : moment(toDate, \"YYYY-MM-DD\")}\r\n                placeholder=\"ToDate\"\r\n                onChange={handleChangeToDates}\r\n                disabledDate={disabledEndDate}\r\n                style={{ width: \"100%\" }}\r\n                className=\"date-picker-search\"\r\n              />\r\n              <Icon\r\n                className={\r\n                  toDate !== \"\" ? \"icon-reset-date\" : \"icon-reset-date-hide\"\r\n                }\r\n                type=\"close\"\r\n                style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                onClick={reset}\r\n              />\r\n            </div>\r\n            <Button style={{ width: \"25%\", margin: \"\" }} onClick={onSearch}>\r\n              Search\r\n            </Button>\r\n          </div>\r\n          <ExcelFile\r\n            className=\"btn-export\"\r\n            style={{ width: \"8%\", marginLeft: \"2%\" }}\r\n            element={\r\n              <Button\r\n                icon=\"file-excel\"\r\n                type=\"primary\"\r\n                id=\"btn_export_excel\"\r\n                disabled={dataExport.length > 0 ? false : true}\r\n              >\r\n                Export Excel\r\n              </Button>\r\n            }\r\n            filename=\"History Purchase C.coin\"\r\n          >\r\n            <ExcelSheet data={dataExport} name=\"History Purchase C.coin\">\r\n              <ExcelColumn label=\"Id\" value=\"chargeId\" />\r\n\r\n              <ExcelColumn\r\n                label=\"UserName\"\r\n                value={user => user.user.username}\r\n              />\r\n              <ExcelColumn label=\"C.coin\" value=\"baseCoin\" />\r\n              <ExcelColumn label=\"PaymentType\" value=\"paymentType\" />\r\n              <ExcelColumn label=\"Promotion\" value=\"promotion\" />\r\n              <ExcelColumn\r\n                label=\"Time\"\r\n                value={time =>\r\n                  moment.utc(Number(time.createAt)).format(\"HH:mm DD-MM-YYYY\")\r\n                }\r\n              />\r\n              <ExcelColumn label=\"Status\" value=\"status\" />\r\n            </ExcelSheet>\r\n          </ExcelFile>\r\n        </div>\r\n      </div>\r\n      {dataCharges && (\r\n        <>\r\n          <h3>\r\n            Purchase Times:{\" \"}\r\n            <span style={{ color: \"#1890ff\" }}>\r\n              {dataCharges.listChargesByType.count}\r\n            </span>\r\n          </h3>\r\n          <Table\r\n            columns={columns}\r\n            dataSource={dataCharges.listChargesByType.rows}\r\n            pagination={false}\r\n            rowSelection={rowSelection}\r\n          />\r\n          <Pagination\r\n            current={pageIndex.currentPage}\r\n            total={dataCharges.listChargesByType.count}\r\n            pageSize={10}\r\n            onChange={goPage}\r\n            className=\"pagination-listUser\"\r\n          />\r\n        </>\r\n      )}\r\n    </Row>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    listPaymentType: state.listPaymentType\r\n  }\r\n\r\n}\r\nexport default connect(mapStateToProps, null)(ListChargesDetail);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Pagination,\r\n  Input,\r\n  Row,\r\n  Select,\r\n  Icon,\r\n  DatePicker\r\n} from \"antd\";\r\nimport moment from \"moment\";\r\nimport { queryGetListPartnerCharges } from \"../../../../utils/queryPartnerProducts\";\r\nimport { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport { dates } from \"../../../../utils/dateInfo\";\r\nimport ReactExport from \"react-export-excel\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../../../static/style/listProducts.css\";\r\nconst ExcelFile = ReactExport.ExcelFile;\r\nconst ExcelSheet = ReactExport.ExcelFile.ExcelSheet;\r\nconst ExcelColumn = ReactExport.ExcelFile.ExcelColumn;\r\nconst { Option } = Select;\r\nconst listSelectDates = [\r\n  { days: \"Last 3 days\", variables: \"THREE_DAY_AGO\" },\r\n  { days: \"Last 7 days\", variables: \"SEVENT_DAY_AGO\" },\r\n  { days: \"Last 14 days\", variables: \"FOURTEEN_DAY_AGO\" },\r\n  { days: \"Last 30 days\", variables: \"THIRTY_DAY_AGO\" }\r\n];\r\nconst listType = [\r\n  { nameType: \"By UserName\", id: 3 },\r\n  { nameType: \"By Purchase Item ID\", id: 1 }\r\n  // { nameType: \"Theo kiu thanh ton\", id: 3 }\r\n];\r\nfunction ListChargesDetail() {\r\n  const [pageIndex, setPageIndex] = useState({\r\n    currentPage: 1,\r\n    type: 1,\r\n    pageSize: 10,\r\n    search: \"\",\r\n    fromDate: \"\",\r\n    toDate: \"\",\r\n    userType: \"\",\r\n    partnerId: \"\",\r\n    os: \"\"\r\n  });\r\n  const [dataCharges, setDataCharges] = useState(null);\r\n  const [dataExport, setDataExport] = useState([]);\r\n  const {\r\n    currentPage,\r\n    pageSize,\r\n    type,\r\n    userType,\r\n    os,\r\n    partnerId,\r\n    search,\r\n    fromDate,\r\n    toDate\r\n  } = pageIndex;\r\n  const { TODAY } = dates;\r\n  const [getDataPartnerCharges] = useLazyQuery(queryGetListPartnerCharges, {\r\n    fetchPolicy: \"cache-and-network\",\r\n    onCompleted: data => {\r\n      console.log(data);\r\n      setDataCharges(data);\r\n    }\r\n  });\r\n  useEffect(() => {\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate,\r\n        userType: userType,\r\n        os: os,\r\n        partnerId: partnerId\r\n      }\r\n    });\r\n  }, []);\r\n  const disabledDate = current => {\r\n    return current && current > moment().endOf(\"day\");\r\n  };\r\n  const disabledEndDate = current => {\r\n    if (fromDate !== \"\") {\r\n      return (\r\n        (current &&\r\n          current <\r\n            moment(fromDate)\r\n              .subtract(1, \"days\")\r\n              .endOf(\"day\")) ||\r\n        current > moment().endOf(\"day\")\r\n      );\r\n    }\r\n  };\r\n  const handleChangeFromDates = (value, dateString) => {\r\n    setPageIndex({ ...pageIndex, fromDate: dateString });\r\n  };\r\n  const handleChangeToDates = (value, dateString) => {\r\n    setPageIndex({ ...pageIndex, toDate: dateString });\r\n  };\r\n  const handleChangeType = val => {\r\n    setPageIndex({ ...pageIndex, type: val });\r\n  };\r\n  const getProductName = e => {\r\n    setPageIndex({ ...pageIndex, search: e.target.value });\r\n  };\r\n  const rowSelection = {\r\n    onChange: (selectRowsKeys, selectedRows) => {\r\n      //   const itemsIdForDelete = selectedRows.map((val, index) => val.productId);\r\n      //   setItemsForDelete(itemsIdForDelete);\r\n      console.log(selectedRows);\r\n      setDataExport(selectedRows);\r\n    }\r\n  };\r\n  const goPage = value => {\r\n    setPageIndex({ ...pageIndex, currentPage: value });\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate,\r\n        userType: userType,\r\n        os: os,\r\n        partnerId: partnerId\r\n      }\r\n    });\r\n  };\r\n  const onSearch = () => {\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: currentPage,\r\n        type: type,\r\n        pageSize: pageSize,\r\n        search: search,\r\n        fromDate: fromDate,\r\n        toDate: toDate,\r\n        userType: userType,\r\n        os: os,\r\n        partnerId: partnerId\r\n      }\r\n    });\r\n  };\r\n  const reset = () => {\r\n    setPageIndex({\r\n      currentPage: 1,\r\n      type: 1,\r\n      pageSize: 10,\r\n      search: \"\",\r\n      fromDate: \"\",\r\n      toDate: \"\",\r\n      userType: \"\",\r\n      partnerId: \"\",\r\n      os: \"\"\r\n    });\r\n    getDataPartnerCharges({\r\n      variables: {\r\n        currentPage: 1,\r\n        type: 1,\r\n        pageSize: 10,\r\n        search: \"\",\r\n        fromDate: \"\",\r\n        toDate: \"\",\r\n        userType: \"\",\r\n        partnerId: \"\",\r\n        os: \"\"\r\n      }\r\n    });\r\n  };\r\n  const columns = [\r\n    {\r\n      title: \"Purchase Item ID\",\r\n      dataIndex: \"partnerChargeCode\",\r\n      key: \"partnerChargeId\",\r\n      render: index => <span className=\"convert-col\">{index}</span>\r\n    },\r\n    {\r\n      title: \"UserName\",\r\n      dataIndex: \"user\",\r\n      key: \"user\",\r\n      render: index => <span>{index === null ? \"\" : index.username}</span>\r\n    },\r\n    {\r\n      title: \"Character\",\r\n      dataIndex: \"payload\",\r\n      key: \"gameUserName\",\r\n      render: index => (\r\n        <span>\r\n          {JSON.parse(index).gameUserName === null\r\n            ? \"\"\r\n            : JSON.parse(index).gameUserName}\r\n        </span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Item\",\r\n      dataIndex: \"partnerProduct\",\r\n      key: \"item\",\r\n      render: index => <span>{index === null ? \"\" : index.productName}</span>\r\n    },\r\n    {\r\n      title: \"C.Coin\",\r\n      dataIndex: \"coin\",\r\n      key: \"coin\"\r\n    },\r\n    {\r\n      title: \"Server\",\r\n      dataIndex: \"\",\r\n      key: \"server\",\r\n      render:index=><span>Rng gi </span>\r\n    },\r\n    {\r\n      title: \"Game\",\r\n      dataIndex: \"partner\",\r\n      key: \"partnername\",\r\n      render: index => <span>{index.partnerName}</span>\r\n    },\r\n    {\r\n      title: \"Promotion\",\r\n      dataIndex: \"promotionRef\",\r\n      key: \"promotion\"\r\n      // render: index => <span>{index === null ? 'NONE' : index.name}</span>\r\n    },\r\n    {\r\n      title: \"Time\",\r\n      dataIndex: \"createAt\",\r\n      key: \"createAt\",\r\n      render: time => (\r\n        <span>{moment.utc(Number(time)).format(\"HH:mm:ss DD-MM-YYYY\")}</span>\r\n      )\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      key: \"status\",\r\n      render: index => <span>{index === \"INPUT\" ? \"PENDING\" : \"DONE\"}</span>\r\n    }\r\n  ];\r\n  const printTypePayment = listType.map((val, i) => (\r\n    <Option value={val.id} key={i}>\r\n      {val.nameType}\r\n    </Option>\r\n  ));\r\n  return (\r\n    <Row>\r\n      <div>\r\n        <Link to=\"/payment/items\">\r\n          <Icon type=\"double-left\" />\r\n          Quay li\r\n        </Link>\r\n        <h2>Lch s giao dch</h2>\r\n        <div className=\"btn-search-charges\">\r\n          <div>\r\n            <Input\r\n              value={search}\r\n              placeholder=\"Tm kim theo tn c.coin\"\r\n              onChange={getProductName}\r\n              style={{ width: \"30%\", marginRight: \"2%\" }}\r\n              suffix={\r\n                <Icon\r\n                  className={\r\n                    search !== \"\" ? \"reset-btn-show\" : \"reset-btn-hide\"\r\n                  }\r\n                  type=\"close\"\r\n                  style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                  onClick={reset}\r\n                />\r\n              }\r\n            />\r\n            <Select\r\n              value={type}\r\n              style={{ width: \"15%\", marginRight: \"2%\" }}\r\n              onChange={handleChangeType}\r\n            >\r\n              {printTypePayment}\r\n            </Select>\r\n            <div\r\n              style={{ width: \"15%\", marginRight: \"1%\", position: \"relative\" }}\r\n            >\r\n              <DatePicker\r\n                allowClear={false}\r\n                value={fromDate === \"\" ? null : moment(fromDate, \"YYYY-MM-DD\")}\r\n                onChange={handleChangeFromDates}\r\n                disabledDate={disabledDate}\r\n                style={{ width: \"100%\" }}\r\n                placeholder=\"FromDate\"\r\n                className=\"date-picker-search\"\r\n              />\r\n              <Icon\r\n                className={\r\n                  toDate !== \"\" ? \"icon-reset-date\" : \"icon-reset-date-hide\"\r\n                }\r\n                type=\"close\"\r\n                style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                onClick={reset}\r\n              />\r\n            </div>\r\n            <div\r\n              style={{ width: \"15%\", marginRight: \"2%\", position: \"relative\" }}\r\n            >\r\n              <DatePicker\r\n                allowClear={false}\r\n                value={toDate === \"\" ? null : moment(toDate, \"YYYY-MM-DD\")}\r\n                placeholder=\"ToDate\"\r\n                onChange={handleChangeToDates}\r\n                disabledDate={disabledEndDate}\r\n                style={{ width: \"100%\" }}\r\n                className=\"date-picker-search\"\r\n              />\r\n              <Icon\r\n                className={\r\n                  toDate !== \"\" ? \"icon-reset-date\" : \"icon-reset-date-hide\"\r\n                }\r\n                type=\"close\"\r\n                style={{ color: \"rgba(0,0,0,.45)\" }}\r\n                onClick={reset}\r\n              />\r\n            </div>\r\n            <Button style={{ width: \"25%\", margin: \"\" }} onClick={onSearch}>\r\n              Search\r\n            </Button>\r\n          </div>\r\n          <ExcelFile\r\n            className=\"btn-export\"\r\n            style={{ width: \"8%\", marginLeft: \"2%\" }}\r\n            element={\r\n              <Button\r\n                icon=\"file-excel\"\r\n                type=\"primary\"\r\n                id=\"btn_export_excel\"\r\n                disabled={dataExport.length > 0 ? false : true}\r\n              >\r\n                Export Excel\r\n              </Button>\r\n            }\r\n            filename=\"History Purchase Item\"\r\n          >\r\n            <ExcelSheet data={dataExport} name=\"History Purchase Item\">\r\n              <ExcelColumn label=\"Purchase Item Id\" value=\"partnerChargeCode\" />\r\n              <ExcelColumn\r\n                label=\"Username\"\r\n                value={index =>\r\n                  index.user === null ? \"\" : index.user.username\r\n                }\r\n              />\r\n              <ExcelColumn\r\n                label=\"Character\"\r\n                value={index =>\r\n                  JSON.parse(index.payload).gameUserName === null\r\n                    ? \"\"\r\n                    : JSON.parse(index.payload).gameUserName\r\n                }\r\n              />\r\n              <ExcelColumn\r\n                label=\"Item\"\r\n                value={index =>\r\n                  index.partnerProduct === null\r\n                    ? \"\"\r\n                    : index.partnerProduct.productName\r\n                }\r\n              />\r\n              <ExcelColumn label=\"C.coin\" value=\"coin\" />\r\n              <ExcelColumn label=\"Server\" value=\"\" />\r\n              <ExcelColumn\r\n                label=\"Game\"\r\n                value={index => index.partner.partnerName}\r\n              />\r\n              <ExcelColumn label=\"Promotion\" value=\"\" />\r\n              <ExcelColumn\r\n                label=\"Time\"\r\n                value={time =>\r\n                  moment.utc(Number(time.createAt)).format(\"HH:mm DD-MM-YYYY\")\r\n                }\r\n              />\r\n              <ExcelColumn label=\"Status\" value=\"status\" />\r\n            </ExcelSheet>\r\n          </ExcelFile>\r\n        </div>\r\n      </div>\r\n      {dataCharges && (\r\n        <>\r\n          <Table\r\n            columns={columns}\r\n            dataSource={dataCharges.listPartnerChargesByType.rows}\r\n            pagination={false}\r\n            rowSelection={rowSelection}\r\n          />\r\n          <Pagination\r\n            current={pageIndex.currentPage}\r\n            total={dataCharges.listPartnerChargesByType.count}\r\n            pageSize={10}\r\n            onChange={goPage}\r\n            className=\"pagination-listUser\"\r\n          />\r\n        </>\r\n      )}\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ListChargesDetail;\r\n","import { dispatchSwitchLogin } from \"../redux/actions/index\";\r\nimport { apiToken, apiLogin } from \"../api/urlLogin\";\r\nimport { dispatchSetAccessToken } from \"../redux/actions/index\";\r\n\r\nfunction checkToken() {\r\n  const oldAccessToken = JSON.parse(localStorage.getItem(\"accessTokenCms\"));\r\n  const currentTime = new Date().getTime();\r\n  if (oldAccessToken === null) {\r\n    dispatchSwitchLogin(false);\r\n    // return true;\r\n  } else if (currentTime - oldAccessToken.timestamp > 3300000) {\r\n    console.log(\"can refresh\");\r\n    return true;\r\n  } else {\r\n    console.log(\"k can refresh\");\r\n    return false;\r\n  }\r\n}\r\nconst getRefreshToken = () => {\r\n  const userToken = JSON.parse(localStorage.getItem(\"tokenCms\"));\r\n  const currentTime = new Date().getTime();\r\n  if (userToken === null || currentTime - userToken.timestamp > 75168000000) {\r\n    dispatchSwitchLogin(false);\r\n    return false;\r\n  } else {\r\n    const token = JSON.parse(localStorage.getItem(\"accessTokenCms\"));\r\n    const db = fetch(apiToken.REFRESHTOKEN, {\r\n      headers: {\r\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n      },\r\n      method: \"POST\",\r\n      body: `refreshToken=${userToken.token.refreshToken}`\r\n    })\r\n      .then(response => response.json())\r\n      .then(result => {\r\n        let userAccessToken = {\r\n          accessToken: result.accessToken,\r\n          timestamp: new Date().getTime()\r\n        };\r\n        localStorage.setItem(\"accessTokenCms\", JSON.stringify(userAccessToken));\r\n        // dispatchSetAccessToken(userAccessToken);\r\n        return result;\r\n      })\r\n      .catch(function(error) {\r\n        console.log(\"Request failed\", error);\r\n      });\r\n    console.log(token);\r\n    return db;\r\n  }\r\n};\r\nfunction checkTokenFinal() {\r\n    if (checkToken()) {\r\n      let demo = getRefreshToken();\r\n      demo.then(val => dispatchSetAccessToken(val));\r\n    }\r\n}\r\nexport default checkTokenFinal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Login from \"./components/login\";\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Danhsach from \"./components/users/listUsers\";\r\nimport Detail from \"./components/users/userDetail\";\r\nimport NewsEditor from \"./components/news/newsEdit\";\r\nimport ListNews from \"./components/news/index\";\r\nimport AddNews from \"./components/news/addnews\";\r\nimport ListImages from \"./components/media/index\";\r\nimport Album from \"./components/media/album/album\";\r\nimport UpdateAlbum from \"./components/media/album/update\";\r\nimport CoinsContainer from \"./components/payment/coin/index\";\r\nimport ItemsContainer from \"./components/payment/item/index\";\r\nimport EditProductCoin from \"./components/payment/coin/listCoin/editCoin\";\r\nimport EditPartnerProductItem from \"./components/payment/item/listPartnerProduct/editItems\";\r\nimport CreatePromotion from \"./components/payment/promotion/create/index\";\r\nimport Stats from \"./components/stats/index\";\r\nimport Partner from './components/partner/index'\r\nimport ListPromoAndEvent from \"./components/payment/promotion/list/index\";\r\nimport DetailPromotion from \"./components/payment/promotion/detail/promotion/index\";\r\nimport DetailEvent from \"./components/payment/promotion/detail/event/index\";\r\nimport ListChargesDetail from \"./components/payment/coin/listCharges/detail\";\r\nimport ListPartnerChargesDetail from './components/payment/item/partnerCharges/detail'\r\nimport { ApolloProvider } from \"@apollo/react-hooks\";\r\nimport ApolloClient from \"apollo-boost\";\r\nimport { importImage } from \"./utils/importImg\";\r\nimport checkTokenFinal from \"./utils/checkToken\";\r\nimport {\r\n  dispatchSwitchLogin,\r\n} from \"./redux/actions/index\";\r\nimport { Layout, Menu, Icon, Dropdown } from \"antd\";\r\nimport \"./static/style/menu.css\";\r\nimport { is } from \"immutable\";\r\nconst { SubMenu } = Menu;\r\nconst { Header, Content, Footer, Sider } = Layout;\r\ncheckTokenFinal();\r\nfunction App(props) {\r\n  checkTokenFinal();\r\n  setInterval(checkTokenFinal, 3300000);\r\n  const userName = localStorage.getItem(\"userNameCMS\");\r\n  if (props.isLogin === false || props.isLogin === null) {\r\n    return (\r\n      <Router>\r\n        <Route path=\"/\" render={() => <Login />} />\r\n      </Router>\r\n    );\r\n  }\r\n  const client = new ApolloClient({\r\n    uri: \"https://api.cms.cubegame.vn/graphql\",\r\n    headers: {\r\n      Authorization: `Bearer ${props.token.accessToken}`\r\n    }\r\n  });\r\n  const converPathname = () => {\r\n    const pathName = window.location.pathname.slice(1);\r\n    const checkPathName = pathName.indexOf(\"/\");\r\n    if (checkPathName > 0) {\r\n      return checkPathName;\r\n    } else {\r\n      return pathName.length;\r\n    }\r\n  };\r\n  const pathName = window.location.pathname.slice(1);\r\n  const isMenu = pathName.slice(0, converPathname());\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item>\r\n        <Link to=\"/\" onClick={() => dispatchSwitchLogin(false)}>\r\n          <Icon type=\"logout\" />\r\n          <span className=\"nav-text\">LogOut</span>\r\n        </Link>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <Layout>\r\n          <Sider\r\n            collapsedWidth=\"0\"\r\n            style={{\r\n              overflow: \"auto\",\r\n              height: \"100vh\",\r\n              position: \"fixed\",\r\n              left: 0\r\n            }}\r\n            onBreakpoint={broken => {\r\n              console.log(broken);\r\n            }}\r\n            onCollapse={(collapsed, type) => {\r\n              console.log(collapsed, type);\r\n            }}\r\n          >\r\n            <div className=\"logo\">\r\n              <img src={importImage[\"logoclappigames.png\"]} width=\"100%\" />\r\n            </div>\r\n            <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={isMenu === '' ? ['users'] : [isMenu]}>\r\n              <Menu.Item key=\"users\">\r\n                <Link to=\"/\">\r\n                  <Icon type=\"idcard\" />\r\n                  <span className=\"nav-text\">USERS</span>\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"news\">\r\n                <Link to=\"/news\">\r\n                  <Icon type=\"read\" />\r\n                  <span className=\"nav-text\">NEWS</span>\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"media\">\r\n                <Link to=\"/media\">\r\n                  <Icon type=\"picture\" />\r\n                  <span className=\"nav-text\">MEDIA</span>\r\n                </Link>\r\n              </Menu.Item>\r\n              <SubMenu\r\n                key=\"payment\"\r\n                title={\r\n                  <span>\r\n                    <Icon type=\"transaction\" />\r\n                    <span>Payment</span>\r\n                  </span>\r\n                }\r\n              >\r\n                <Menu.Item key=\"5\">\r\n                  <Link to=\"/payment/coin\">C.coin</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"6\">\r\n                  <Link to=\"/payment/items\">Item </Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"7\">\r\n                  {\" \"}\r\n                  <Link to=\"/payment/promotion\">Promotion</Link>\r\n                </Menu.Item>\r\n              </SubMenu>\r\n              <Menu.Item key=\"stats\">\r\n                <Link to=\"/stats\">\r\n                  <Icon type=\"line-chart\" />\r\n                  <span className=\"nav-text\">STATS</span>\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"partner\">\r\n                <Link to=\"/partner\">\r\n                  <Icon type=\"cluster\" />\r\n                  <span className=\"nav-text\">PARTNER</span>\r\n                </Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"logout\">\r\n                <Link to=\"/\" onClick={() => dispatchSwitchLogin(false)}>\r\n                  <Icon type=\"logout\" />\r\n                  <span className=\"nav-text\">LogOut</span>\r\n                </Link>\r\n              </Menu.Item>\r\n            </Menu>\r\n          </Sider>\r\n          <Layout style={{ marginLeft: 200 }}>\r\n            <Header style={{ background: \"#E5E5E5\", padding: 0 }}>\r\n              <Dropdown overlay={menu}>\r\n                <a className=\"user-avatar\">\r\n                  {userName} <Icon type=\"caret-down\" />\r\n                </a>\r\n              </Dropdown>\r\n            </Header>\r\n            <Content\r\n              style={{\r\n                overflow: \"initial\",\r\n                padding: \"2rem 2rem\",\r\n                background: \"white\"\r\n              }}\r\n            >\r\n              <Route exact path=\"/\" render={() => <Danhsach />} />\r\n              <Route\r\n                exact\r\n                path=\"/users/detail\"\r\n                render={props => <Detail {...props} />}\r\n              />\r\n              <Route exact path=\"/news\" render={() => <ListNews />} />\r\n              <Route\r\n                exact\r\n                path=\"/news/edit\"\r\n                render={props => <NewsEditor {...props} />}\r\n              />\r\n              <Route exact path=\"/news/addnews\" render={() => <AddNews />} />\r\n              <Route exact path=\"/media\" render={() => <ListImages />} />\r\n              <Route exact path=\"/media/album\" render={() => <Album />} />\r\n              <Route\r\n                exact\r\n                path=\"/media/album/edit\"\r\n                render={() => <UpdateAlbum />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/payment/items\"\r\n                render={() => <ItemsContainer />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/payment/items/edit\"\r\n                render={() => <EditPartnerProductItem />}\r\n              />\r\n              <Route exact path=\"/payment/coin\" render={() => <CoinsContainer />} />\r\n              <Route\r\n                exact\r\n                path=\"/payment/coin/edit\"\r\n                render={() => <EditProductCoin />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/payment/coin/charges/detail\"\r\n                render={() => <ListChargesDetail />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/payment/item/charges/detail\"\r\n                render={() => <ListPartnerChargesDetail />}\r\n              />\r\n              <Route\r\n                path=\"/payment/promotion/create\"\r\n                render={() => <CreatePromotion />}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/payment/promotion\"\r\n                render={() => <ListPromoAndEvent />}\r\n              />\r\n              <Route\r\n                path=\"/payment/promotion/detail/promotion\"\r\n                render={() => <DetailPromotion />}\r\n              />\r\n              <Route\r\n                path=\"/payment/promotion/detail/event\"\r\n                render={() => <DetailEvent />}\r\n              />\r\n              <Route path=\"/stats\" render={() => <Stats />} />\r\n              <Route path=\"/partner\" render={() => <Partner />} />\r\n            </Content>\r\n            <Footer style={{ textAlign: \"center\", bottom: \"0\", width: \"100%\" }}>\r\n              LUSSOM 2020\r\n            </Footer>\r\n          </Layout>\r\n        </Layout>\r\n      </Router>\r\n    </ApolloProvider>\r\n  );\r\n}\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    isLogin: state.isLogin,\r\n    token: state.accessToken\r\n  };\r\n}\r\nexport default connect(mapStateToProps, null)(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store/index\";\r\n// import { ApolloProvider } from \"@apollo/react-hooks\";\r\n// import ApolloClient from \"apollo-boost\";\r\n// const client = new ApolloClient({\r\n//   uri: \"https://api.cms.cubegame.vn/graphql\",\r\n//   headers: {\r\n//     Authorization:\r\n//       \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiaWF0IjoxNTgwODA5NTkxLCJleHAiOjE1ODA4MTMxOTF9.Z1PALRzN9jGX7zGjpEGEyK0krQrw2NtE_fOr8BUw0gw\"\r\n//   }\r\n// });\r\nReactDOM.render(\r\n  // <ApolloProvider client={client}>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>,\r\n  // </ApolloProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}